---
title: 'EffiFlow Part 2: Skillsã®è‡ªå‹•æ¤œå‡ºã¨58%ãƒˆãƒ¼ã‚¯ãƒ³å‰Šæ¸›ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°'
description: Skillsã®è‡ªå‹•æ¤œå‡ºãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã¨Commandsã®çµ±åˆã€‚ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥ã§58%ãƒˆãƒ¼ã‚¯ãƒ³å‰Šæ¸›é”æˆãƒ—ãƒ­ã‚»ã‚¹
pubDate: '2025-11-15'
heroImage: ../../../assets/blog/effiflow-part2-skills-commands-hero.jpg
tags:
  - claude-code
  - automation
  - skills
  - commands
  - caching
relatedPosts:
  - slug: effiflow-automation-analysis-part1
    score: 0.95
    reason:
      ko: 'ìë™í™”, AI/ML, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€AI/MLã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, AI/ML, architecture with comparable
        difficulty.
      zh: åœ¨è‡ªåŠ¨åŒ–ã€AI/MLã€æ¶æ„é¢†åŸŸæ¶µç›–ç±»ä¼¼ä¸»é¢˜ï¼Œéš¾åº¦ç›¸å½“ã€‚
  - slug: specification-driven-development
    score: 0.94
    reason:
      ko: 'ìë™í™”, AI/ML, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€AI/MLã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, AI/ML, architecture with comparable
        difficulty.
      zh: åœ¨è‡ªåŠ¨åŒ–ã€AI/MLã€æ¶æ„é¢†åŸŸæ¶µç›–ç±»ä¼¼ä¸»é¢˜ï¼Œéš¾åº¦ç›¸å½“ã€‚
  - slug: openai-agentkit-tutorial-part2
    score: 0.94
    reason:
      ko: 'ìë™í™”, AI/ML, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€AI/MLã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, AI/ML, architecture with comparable
        difficulty.
      zh: åœ¨è‡ªåŠ¨åŒ–ã€AI/MLã€æ¶æ„é¢†åŸŸæ¶µç›–ç±»ä¼¼ä¸»é¢˜ï¼Œéš¾åº¦ç›¸å½“ã€‚
  - slug: langgraph-multi-agent
    score: 0.94
    reason:
      ko: 'ìë™í™”, AI/ML, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€AI/MLã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, AI/ML, architecture with comparable
        difficulty.
      zh: åœ¨è‡ªåŠ¨åŒ–ã€AI/MLã€æ¶æ„é¢†åŸŸæ¶µç›–ç±»ä¼¼ä¸»é¢˜ï¼Œéš¾åº¦ç›¸å½“ã€‚
  - slug: claude-code-verbalized-sampling
    score: 0.94
    reason:
      ko: 'ìë™í™”, AI/ML, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€AI/MLã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, AI/ML, architecture with comparable
        difficulty.
      zh: åœ¨è‡ªåŠ¨åŒ–ã€AI/MLã€æ¶æ„é¢†åŸŸæ¶µç›–ç±»ä¼¼ä¸»é¢˜ï¼Œéš¾åº¦ç›¸å½“ã€‚
---

## ã‚·ãƒªãƒ¼ã‚ºæ¡ˆå†…

> <strong>EffiFlow è‡ªå‹•åŒ–æ§‹é€ åˆ†æ/è©•ä¾¡ãŠã‚ˆã³æ”¹å–„ã‚·ãƒªãƒ¼ã‚º</strong> (2/3)
>
> 1. [Part 1: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã§ 71%ã‚³ã‚¹ãƒˆå‰Šæ¸›](/ja/blog/ja/effiflow-automation-analysis-part1) - 3-Tier ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨å…¨ä½“ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦
> 2. <strong>Part 2: Skills ã¨ Commands ã®çµ±åˆæˆ¦ç•¥</strong> â† ç¾åœ¨ã®è¨˜äº‹
> 3. [Part 3: å®Ÿè·µæ”¹å–„äº‹ä¾‹ã¨ ROI åˆ†æ](/ja/blog/ja/effiflow-automation-analysis-part3)

## ã¯ã˜ã‚ã«

Part 1 ã§ã¯ã€EffiFlow ã® 3-Tier ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£(Agents â†’ Skills â†’ Commands)ã¨ã€ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å„ªå…ˆæˆ¦ç•¥ã«ã‚ˆã‚‹ 71%ã‚³ã‚¹ãƒˆå‰Šæ¸›ã‚’è¦‹ã¦ãã¾ã—ãŸã€‚Part 2 ã§ã¯ã€ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã®æ ¸å¿ƒã§ã‚ã‚‹<strong>Skills ã®è‡ªå‹•æ¤œå‡ºãƒ¡ã‚«ãƒ‹ã‚ºãƒ </strong>ã¨<strong>Commands ã®ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³</strong>ã‚’æ·±ãåˆ†æã—ã¾ã™ã€‚

æ ¸å¿ƒçš„ãªè³ªå•ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™:ã€ŒModel-Invoked ã¨ User-Invoked ã®é•ã„ã¯ä½•ã‹ã€ãã—ã¦ã©ã®ã‚ˆã†ã« 58%ã®ãƒˆãƒ¼ã‚¯ãƒ³å‰Šæ¸›ã‚’é”æˆã—ãŸã®ã‹?ã€

## Skills: è‡ªå‹•æ¤œå‡ºã•ã‚Œã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å‹æ©Ÿèƒ½

### Model-Invoked ã¨ã¯?

Skills ã¯<strong>Model-Invoked</strong>æ–¹å¼ã§å‹•ä½œã—ã¾ã™ã€‚ã“ã‚Œã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ˜ç¤ºçš„ã«å‘¼ã³å‡ºã•ãªãã¦ã‚‚ã€Claude ãŒã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«åŸºã¥ã„ã¦è‡ªå‹•çš„ã«æ´»æ€§åŒ–ã™ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚

ä¾‹ãˆã°ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œblog postã€ã‚„ã€Œfrontmatterã€ãªã©ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«è¨€åŠã™ã‚‹ã¨ã€Claude ã¯è‡ªå‹•çš„ã«`blog-writing` Skill ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚ã“ã‚Œã¯å°‚é–€å®¶ãŒä¼šè©±ã®ãƒˆãƒ”ãƒƒã‚¯ã‚’èã„ã¦ã€é–¢é€£ãƒ„ãƒ¼ãƒ«ã‚’è‡ªå‹•çš„ã«å–ã‚Šå‡ºã™ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚

### SKILL.md æ§‹é€ åˆ†æ

ã™ã¹ã¦ã® Skill ã¯ã€YAML frontmatter ã‚’å«ã‚€`SKILL.md`ãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã•ã‚Œã¾ã™:

```yaml
---
name: blog-writing
description: Create SEO-optimized multi-language blog posts with proper frontmatter, hero images, and content structure. Use when writing blog posts, creating content, or managing blog metadata.
allowed-tools: [Read, Write, Edit, Bash, Grep, Glob]
---
```

<strong>æ ¸å¿ƒè¦ç´ </strong>:

- <strong>name</strong>: å°æ–‡å­—ã€ãƒã‚¤ãƒ•ãƒ³ä½¿ç”¨ã€64 æ–‡å­—ä»¥ä¸‹
- <strong>description</strong>: æ©Ÿèƒ½èª¬æ˜ + ä½¿ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚° ("Use when...")
- <strong>allowed-tools</strong>: ãƒ„ãƒ¼ãƒ«åˆ¶é™ã§ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ãŠã‚ˆã³èª­ã¿å–ã‚Šå°‚ç”¨ Skills å®Ÿè£…å¯èƒ½

description ã®ã€ŒUse when...ã€å¥ãŒç‰¹ã«é‡è¦ã§ã™ã€‚Claude ã¯ã“ã®å¥ã‚’é€šã˜ã¦ã€Skill ã‚’ã„ã¤æ´»æ€§åŒ–ã™ã¹ãã‹ã‚’åˆ¤æ–­ã—ã¾ã™ã€‚

### å®Ÿè£…ã•ã‚ŒãŸ 4 ã¤ã® Skills è©³ç´°

#### 1. blog-writing (666 è¡Œ)

<strong>ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ </strong>:

- SKILL.md (73 è¡Œ): æ ¸å¿ƒæ¦‚è¦
- content-structure.md (328 è¡Œ): æŠ•ç¨¿æ§‹é€ ã‚¬ã‚¤ãƒ‰
- frontmatter-schema.md (173 è¡Œ): ã‚¹ã‚­ãƒ¼ãƒè©³ç´°èª¬æ˜
- seo-guidelines.md (92 è¡Œ): SEO æœ€é©åŒ–ãƒ«ãƒ¼ãƒ«
- 3 ã¤ã® Python ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (464 è¡Œ): generate_slug.py, get_next_pubdate.py, validate_frontmatter.py

<strong>æ ¸å¿ƒæ©Ÿèƒ½</strong>:

- Frontmatter æ¤œè¨¼ (æ—¥ä»˜å½¢å¼ã€å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã€ç”»åƒãƒ‘ã‚¹)
- SEO æœ€é©åŒ– (è¨€èªåˆ¥ã‚¿ã‚¤ãƒˆãƒ«/èª¬æ˜é•·åˆ¶é™)
  - Korean: title 40 æ–‡å­—ã€description 120 æ–‡å­—
  - English: title 60 æ–‡å­—ã€description 160 æ–‡å­—
  - Japanese: title 35 æ–‡å­—ã€description 110 æ–‡å­—
- å¤šè¨€èªã‚µãƒãƒ¼ãƒˆ (éŸ“å›½èªã€è‹±èªã€æ—¥æœ¬èª)
- Slug è‡ªå‹•ç”Ÿæˆã¨ pubDate è¨ˆç®—

#### 2. content-analyzer (275 è¡Œ)

<strong>å‡ºåŠ›ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿</strong>:

```json
{
  "summary": "100-150æ–‡å­—è¦ç´„",
  "topics": ["ãƒˆãƒ”ãƒƒã‚¯1", "ãƒˆãƒ”ãƒƒã‚¯2", "ãƒˆãƒ”ãƒƒã‚¯3", "ãƒˆãƒ”ãƒƒã‚¯4", "ãƒˆãƒ”ãƒƒã‚¯5"],
  "techStack": ["æŠ€è¡“1", "æŠ€è¡“2", "æŠ€è¡“3"],
  "difficulty": 3,
  "categoryScores": {
    "automation": 0.8,
    "web-development": 0.6,
    "ai-ml": 0.9,
    "devops": 0.3,
    "architecture": 0.5
  },
  "contentHash": "abc123..."
}
```

<strong>ãƒˆãƒ¼ã‚¯ãƒ³åŠ¹ç‡æ€§</strong>:

- å…¨ä½“ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†æ: ~40,000 ãƒˆãƒ¼ã‚¯ãƒ³
- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: ~12,000-16,000 ãƒˆãƒ¼ã‚¯ãƒ³
- <strong>60ã€œ70%å‰Šæ¸›</strong>

<strong>å¢—åˆ†å‡¦ç†</strong>: Content Hash ã§å¤‰æ›´æ¤œå‡ºã€ä¸è¦ãªå†åˆ†æé˜²æ­¢

#### 3. recommendation-generator (341 è¡Œ)

<strong>LLM ãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¨è–¦</strong>:

å¾“æ¥ã® TF-IDF æ–¹å¼ã®ä»£ã‚ã‚Šã« Claude LLM ã‚’ä½¿ç”¨ã—ã¦ã€çœŸã®æ„å‘³ç†è§£ã‚’å®Ÿè£…ã—ã¾ã™:

```
TF-IDF (å¾“æ¥å‹)         â†’  LLM (ç¾ä»£å‹)
ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰é »åº¦è¨ˆç®—      â†’  å…¨ä½“ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç†è§£
ã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦          â†’  ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯é¡ä¼¼æ€§
ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰é‡è¤‡ãƒ™ãƒ¼ã‚¹    â†’  ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹æ¨è–¦
```

<strong>6 æ¬¡å…ƒé¡ä¼¼åº¦åˆ†æ</strong>:

- topic: ãƒˆãƒ”ãƒƒã‚¯é¡ä¼¼æ€§ (40%)
- techStack: æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ (25%)
- purpose: ç›®çš„æ•´åˆ (10%)
- complementary: è£œå®Œé–¢ä¿‚ (10%)
- difficulty: é›£æ˜“åº¦ (15%)
- category: ã‚«ãƒ†ã‚´ãƒªæ•´åˆ

<strong>å¤šè¨€èªæ¨è«–</strong>:

```json
{
  "reason": {
    "ko": "ë‘ ê¸€ ëª¨ë‘ MCP ì„œë²„ë¥¼ í™œìš©í•œ ë¸Œë¼ìš°ì € ìë™í™”...",
    "ja": "ä¸¡è¨˜äº‹ã¨ã‚‚MCPã‚µãƒ¼ãƒãƒ¼ã‚’æ´»ç”¨ã—ãŸãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•åŒ–...",
    "en": "Both posts cover MCP server-based browser automation..."
  }
}
```

#### 4. trend-analyzer (605 è¡Œ)

<strong>Brave Search MCP çµ±åˆ</strong>:

```bash
# å„æ¤œç´¢å¾Œå¿…ãš2ç§’é…å»¶ (Rate Limitéµå®ˆ)
brave_web_search "AI automation tools 2025"
sleep 2
brave_web_search "Claude Code trends 2025"
sleep 2
```

<strong>ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥</strong>:

| ãƒ‡ãƒ¼ã‚¿å‹         | ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœŸé–“ | ãƒ•ã‚¡ã‚¤ãƒ«ä½ç½®                | åŠ¹æœ               |
| ---------------- | -------------- | --------------------------- | ------------------ |
| ãƒˆãƒ¬ãƒ³ãƒ‰ãƒ‡ãƒ¼ã‚¿   | 24 æ™‚é–“        | .cache/trend-data.json      | åŒæ—¥ã®é‡è¤‡æ¤œç´¢é˜²æ­¢ |
| æŠ€è¡“ãƒ‡ãƒ¼ã‚¿       | 7 æ—¥é–“         | .cache/technology-data.json | é€±é–“é‡è¤‡é™¤å»       |
| ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ | 48 æ™‚é–“        | .cache/keyword-data.json    | 2 æ—¥ä»¥å†…ã®å†åˆ©ç”¨   |

<strong>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒ</strong>:

<strong>Before (ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°å‰)</strong>:

- æ¯å› Brave Search å‘¼ã³å‡ºã—
- 40,000+ãƒˆãƒ¼ã‚¯ãƒ³
- ã‚³ã‚¹ãƒˆ: ~$0.05/run

<strong>After (ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°å¾Œ)</strong>:

- 24 æ™‚é–“ä»¥å†…ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥å†åˆ©ç”¨
- 17,000 ãƒˆãƒ¼ã‚¯ãƒ³
- ã‚³ã‚¹ãƒˆ: ~$0.02/run
- <strong>58%å‰Šæ¸›</strong>

### Progressive Disclosure ãƒ‘ã‚¿ãƒ¼ãƒ³

Skills ã¯ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæä¾›æ–¹å¼ã‚’ä½¿ç”¨ã—ã¾ã™:

```mermaid
graph TD
    A[SKILL.md<br/>æ ¸å¿ƒæ¦‚è¦<br/>73-605è¡Œ] --> B[ã‚µãƒãƒ¼ãƒˆæ–‡æ›¸<br/>è©³ç´°ã‚¬ã‚¤ãƒ‰<br/>92-328è¡Œ]
    B --> C[ã‚¹ã‚¯ãƒªãƒ—ãƒˆ<br/>å®Ÿè¡Œå¯èƒ½ã‚³ãƒ¼ãƒ‰<br/>78-258è¡Œ]

    style A fill:#10B981,stroke:#059669,stroke-width:2px,color:#fff
    style B fill:#3B82F6,stroke:#2563EB,stroke-width:2px,color:#fff
    style C fill:#F59E0B,stroke:#D97706,stroke-width:2px,color:#fff
```

<strong>åŠ¹æœ</strong>: å¿…è¦ãªåˆ†ã ã‘ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåŠ¹ç‡æ€§ã‚’æœ€å¤§åŒ–

## Commands: ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘¼ã³å‡ºã—ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼

### User-Invoked ã¨ã¯?

Commands ã¯<strong>User-Invoked</strong>æ–¹å¼ã§å‹•ä½œã—ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ`/command`ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã§æ˜ç¤ºçš„ã«å‘¼ã³å‡ºã—ã€`$ARGUMENTS`ã‚’é€šã˜ã¦å¼•æ•°ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

```bash
/write-post "Claude Code MCPçµ±åˆã‚¬ã‚¤ãƒ‰"
/analyze-posts --force
/next-post-recommendation --count 10
```

### è¤‡é›‘åº¦åˆ†å¸ƒ

| è¤‡é›‘åº¦                     | Commands                                                                                     | å¹³å‡è¡Œæ•° |
| -------------------------- | -------------------------------------------------------------------------------------------- | -------- |
| <strong>Very High</strong> | write-post (1,080 è¡Œ), write-post-ko (1,063 è¡Œ), write-ga-post (745 è¡Œ)                      | 963 è¡Œ   |
| <strong>High</strong>      | analyze-posts (444 è¡Œ), generate-recommendations (514 è¡Œ), next-post-recommendation (551 è¡Œ) | 503 è¡Œ   |
| <strong>Low</strong>       | commit (11 è¡Œ)                                                                               | 11 è¡Œ    |

### Phase-Based Execution ãƒ‘ã‚¿ãƒ¼ãƒ³

è¤‡é›‘ãª Commands ã¯æ˜ç¢ºãª Phase ã§åŒºåˆ†ã•ã‚Œã¾ã™ã€‚`write-post`ã® 8 Phases ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†:

```mermaid
sequenceDiagram
    participant U as User
    participant C as Command<br/>(write-post)
    participant WR as Web Researcher<br/>Agent
    participant TA as Trend Analyzer<br/>Skill
    participant BS as Brave Search<br/>MCP
    participant IG as Image Generator<br/>Agent
    participant WA as Writing Assistant<br/>Agent
    participant BW as Blog Writing<br/>Skill
    participant PA as Post Analyzer<br/>Agent
    participant CA as Content Analyzer<br/>Skill

    U->>C: /write-post "ãƒˆãƒ”ãƒƒã‚¯"

    Note over C: Phase 1: Research & Planning
    C->>WR: ãƒªã‚µãƒ¼ãƒè¦è«‹
    WR->>TA: ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ (è‡ªå‹•æ¤œå‡º)
    TA->>BS: Webæ¤œç´¢
    BS-->>TA: æ¤œç´¢çµæœ
    Note over TA: sleep 2 (Rate Limit)
    TA-->>WR: ãƒˆãƒ¬ãƒ³ãƒ‰ãƒ‡ãƒ¼ã‚¿
    WR-->>C: ãƒªã‚µãƒ¼ãƒå®Œäº†

    Note over C: Phase 2: Image Generation
    C->>IG: ç”»åƒç”Ÿæˆè¦è«‹
    IG-->>C: ãƒ’ãƒ¼ãƒ­ãƒ¼ç”»åƒ

    Note over C: Phase 3: Content Writing
    C->>WA: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä½œæˆè¦è«‹
    WA->>BW: ãƒ–ãƒ­ã‚°ä½œæˆ (è‡ªå‹•æ¤œå‡º)
    BW-->>WA: å¤šè¨€èªæŠ•ç¨¿
    WA-->>C: ä½œæˆå®Œäº†

    Note over C: Phase 4: Frontmatter & Metadata
    C->>BW: Frontmatteræ¤œè¨¼
    BW-->>C: æ¤œè¨¼å®Œäº†

    Note over C: Phase 5: Metadata Generation
    C->>PA: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æŠ½å‡º
    PA->>CA: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†æ (è‡ªå‹•)
    CA-->>PA: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
    PA-->>C: post-metadata.json

    Note over C: Phase 6-8: Recommendations, Backlinks, Build
    C->>C: V3æ¨è–¦ç”Ÿæˆ
    C->>C: ãƒãƒƒã‚¯ãƒªãƒ³ã‚¯æ›´æ–°
    C->>C: astro check & build

    C-->>U: æŠ•ç¨¿ç”Ÿæˆå®Œäº†
```

<strong>Phase è©³ç´°å†…å®¹</strong>:

<strong>Phase 1: Research & Planning</strong>

- Web Researcher ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‘¼ã³å‡ºã—
- Trend Analyzer Skill è‡ªå‹•æ¤œå‡º
- Brave Search MCP ã§æœ€æ–°æƒ…å ±åé›†
- 2 ç§’é…å»¶ã§ Rate Limit éµå®ˆ

<strong>Phase 2: Image Generation</strong>

- Image Generator ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
- Gemini API ä½¿ç”¨ (GEMINI_API_KEY å¿…è¦)
- ãƒˆãƒ”ãƒƒã‚¯ãƒ™ãƒ¼ã‚¹ã®ãƒ’ãƒ¼ãƒ­ãƒ¼ç”»åƒç”Ÿæˆ

<strong>Phase 3: Content Writing</strong>

- Writing Assistant ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
- Blog Writing Skill è‡ªå‹•æ¤œå‡º
- éŸ“å›½èªã€æ—¥æœ¬èªã€è‹±èªç‰ˆåŒæ™‚ä½œæˆ
- ãƒ­ãƒ¼ã‚«ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ (ç¿»è¨³ã§ã¯ãªã„)

<strong>Phase 4: Frontmatter & Metadata</strong>

- Blog Writing Skill ã§ Frontmatter æ¤œè¨¼
- pubDate: 'YYYY-MM-DD'å½¢å¼ (ã‚·ãƒ³ã‚°ãƒ«ã‚¯ã‚©ãƒ¼ãƒˆ)
- heroImage: ç›¸å¯¾ãƒ‘ã‚¹æ¤œè¨¼

<strong>Phase 5: Metadata Generation</strong>

- Post Analyzer ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
- Content Analyzer Skill è‡ªå‹•æ´»æ€§åŒ–
- difficulty (1-5)ãŠã‚ˆã³ categoryScores è¨ˆç®—

<strong>Phase 6: V3 Recommendations</strong>

- scripts/generate-recommendations-v3.js å®Ÿè¡Œ
- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®é¡ä¼¼åº¦è¨ˆç®—
- ä¸Šä½ 5 ã¤ã®é–¢é€£æŠ•ç¨¿é¸å®š

<strong>Phase 7: Backlink Updates</strong>

- Backlink Manager ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
- é–¢é€£æŠ•ç¨¿ç›¸äº’é€£çµ

<strong>Phase 8: Validation & Build</strong>

- npm run astro check
- npm run build
- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¦ç´„è¿”å´

### Agent Orchestration ãƒ‘ã‚¿ãƒ¼ãƒ³

Commands ã¯ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼ã®å½¹å‰²ã‚’æœãŸã—ã€å®Ÿéš›ã®ä½œæ¥­ã¯ Agents ã«å§”ä»»ã—ã¾ã™:

```mermaid
graph LR
    CMD[Command<br/>Orchestrator] --> WR[Web Researcher<br/>Agent]
    CMD --> IG[Image Generator<br/>Agent]
    CMD --> WA[Writing Assistant<br/>Agent]
    CMD --> PA[Post Analyzer<br/>Agent]
    CMD --> BM[Backlink Manager<br/>Agent]

    WR -.è‡ªå‹•æ¤œå‡º.-> TA[Trend Analyzer<br/>Skill]
    WA -.è‡ªå‹•æ¤œå‡º.-> BW[Blog Writing<br/>Skill]
    PA -.è‡ªå‹•æ¤œå‡º.-> CA[Content Analyzer<br/>Skill]

    style CMD fill:#8B5CF6,stroke:#7C3AED,stroke-width:3px,color:#fff
    style WR fill:#3B82F6,stroke:#2563EB,stroke-width:2px,color:#fff
    style IG fill:#F97316,stroke:#EA580C,stroke-width:2px,color:#fff
    style WA fill:#14B8A6,stroke:#0D9488,stroke-width:2px,color:#fff
    style PA fill:#3B82F6,stroke:#2563EB,stroke-width:2px,color:#fff
    style BM fill:#14B8A6,stroke:#0D9488,stroke-width:2px,color:#fff
    style TA fill:#10B981,stroke:#059669,stroke-width:2px,color:#fff
    style BW fill:#10B981,stroke:#059669,stroke-width:2px,color:#fff
    style CA fill:#10B981,stroke:#059669,stroke-width:2px,color:#fff
```

<strong>åŠ¹æœ</strong>:

- <strong>é–¢å¿ƒäº‹ã®åˆ†é›¢</strong>: Command ã¯ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ã¿å®šç¾©
- <strong>å†åˆ©ç”¨æ€§</strong>: Agent ã¨ Skill ã¯è¤‡æ•°ã® Command ã§ä½¿ç”¨
- <strong>ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹</strong>: å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç‹¬ç«‹ä¿®æ­£å¯èƒ½
- <strong>ãƒ†ã‚¹ãƒˆ</strong>: å„ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥ãƒ†ã‚¹ãƒˆå¯èƒ½

## ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥: 58%ãƒˆãƒ¼ã‚¯ãƒ³å‰Šæ¸›ãƒ¡ã‚«ãƒ‹ã‚ºãƒ 

### trend-analyzer ã® 3-Tier ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°

trend-analyzer Skill ã¯ 3 ç¨®é¡ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç•°ãªã‚‹æœŸé–“ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¾ã™:

```typescript
// ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  (ç–‘ä¼¼ã‚³ãƒ¼ãƒ‰)
async function getTrendData(topic: string) {
  const cacheKey = `trend-${topic}`;
  const cached = cache.get(cacheKey);

  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ: æœ‰åŠ¹æœŸé–“å†…
  if (cached && !isExpired(cached, 24 * 60 * 60)) {
    console.log("Cache hit: Returning cached data");
    return cached.data; // å³æ™‚è¿”å´ã€APIå‘¼ã³å‡ºã—ãªã—
  }

  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹: æ–°ã—ã„æ¤œç´¢å¿…è¦
  console.log("Cache miss: Fetching from Brave Search");
  const data = await braveSearch(topic);
  await sleep(2000); // Rate Limitéµå®ˆ

  // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¿å­˜
  cache.set(cacheKey, {
    data,
    timestamp: Date.now(),
    expiresAt: Date.now() + 24 * 60 * 60 * 1000,
  });

  return data;
}
```

### ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹æœã‚·ãƒŠãƒªã‚ª

<strong>ã‚·ãƒŠãƒªã‚ª 1: åŒæ—¥ã®è¤‡æ•°ãƒˆãƒ”ãƒƒã‚¯æ¤œç´¢</strong>

```bash
# æœ€åˆã®ãƒˆãƒ”ãƒƒã‚¯ (ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŸã‚¹)
/next-post-recommendation --category ai-ml
# â†’ Brave Searchå‘¼ã³å‡ºã—15å›
# â†’ æ‰€è¦æ™‚é–“: 45-60ç§’
# â†’ ãƒˆãƒ¼ã‚¯ãƒ³: 40,000+

# 2ç•ªç›®ã®ãƒˆãƒ”ãƒƒã‚¯ (ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ80%)
/next-post-recommendation --category web-development
# â†’ Brave Searchå‘¼ã³å‡ºã—3å› (æ–°è¦ã‚¯ã‚¨ãƒªã®ã¿)
# â†’ æ‰€è¦æ™‚é–“: 10-15ç§’
# â†’ ãƒˆãƒ¼ã‚¯ãƒ³: 17,000 (58%å‰Šæ¸›)
```

<strong>ã‚·ãƒŠãƒªã‚ª 2: ç¿Œæ—¥åŒã˜ãƒˆãƒ”ãƒƒã‚¯</strong>

```bash
# 24æ™‚é–“çµŒé (ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¤±åŠ¹)
/next-post-recommendation --category ai-ml
# â†’ å†åº¦Brave Searchå‘¼ã³å‡ºã—15å›
# â†’ æœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰åæ˜ 
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¯”è¼ƒè¡¨

| é …ç›®                          | ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°å‰ | ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°å¾Œ | å‰Šæ¸› |
| ----------------------------- | -------------- | -------------- | ---- |
| <strong>ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨</strong> | 40,000+        | 17,000         | 58%  |
| <strong>API å‘¼ã³å‡ºã—</strong> | 15 å›          | 3 å› (å¹³å‡)    | 80%  |
| <strong>æ‰€è¦æ™‚é–“</strong>     | 45-60 ç§’       | 10-15 ç§’       | 75%  |
| <strong>ã‚³ã‚¹ãƒˆ</strong>       | ~$0.05         | ~$0.02         | 60%  |

## çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè·µä¾‹

### ä¾‹ 1: ãƒ–ãƒ­ã‚°æŠ•ç¨¿ä½œæˆ (/write-post)

å…¨ä½“ã®å‘¼ã³å‡ºã—ãƒã‚§ãƒ¼ãƒ³ã‚’å¯è¦–åŒ–ã™ã‚‹ã¨:

```mermaid
flowchart TD
    Start([User: /write-post 'Claude Code MCP']) --> CMD{Command<br/>write-post}

    CMD --> P1[Phase 1: Research & Planning]
    P1 --> WR[Web Researcher Agent]
    WR --> TA[Trend Analyzer Skill<br/>è‡ªå‹•æ¤œå‡º]
    TA --> BS[Brave Search MCP]
    BS --> Sleep1[sleep 2<br/>Rate Limit]
    Sleep1 --> Cache1{Cache<br/>Check}
    Cache1 -->|Hit| Return1[Cached Data<br/>17K tokens]
    Cache1 -->|Miss| Search1[New Search<br/>40K+ tokens]
    Search1 --> Return1
    Return1 --> P1Done[Research Complete]

    P1Done --> P2[Phase 2: Image Generation]
    P2 --> IG[Image Generator Agent]
    IG --> Gemini[Gemini API]
    Gemini --> P2Done[Hero Image Saved]

    P2Done --> P3[Phase 3: Content Writing]
    P3 --> WA[Writing Assistant Agent]
    WA --> BW[Blog Writing Skill<br/>è‡ªå‹•æ¤œå‡º]
    BW --> Multi[3è¨€èªæŠ•ç¨¿ç”Ÿæˆ<br/>ko, ja, en]
    Multi --> P3Done[Content Created]

    P3Done --> P4[Phase 4: Frontmatter]
    P4 --> Validate[Frontmatteræ¤œè¨¼]
    Validate --> P4Done[Validation Pass]

    P4Done --> P5[Phase 5: Metadata]
    P5 --> PA[Post Analyzer Agent]
    PA --> CA[Content Analyzer Skill<br/>è‡ªå‹•]
    CA --> Hash{Content<br/>Hash}
    Hash -->|Changed| Analyze[New Analysis<br/>12K tokens]
    Hash -->|Unchanged| Skip[Skip Analysis<br/>0 tokens]
    Analyze --> P5Done[Metadata Saved]
    Skip --> P5Done

    P5Done --> P6[Phase 6: Recommendations]
    P6 --> Script[generate-recommendations-v3.js]
    Script --> Sim[Similarity Calculation]
    Sim --> P6Done[Top 5 Related Posts]

    P6Done --> P7[Phase 7: Backlinks]
    P7 --> BM[Backlink Manager]
    BM --> Update[Update Related Posts]
    Update --> P7Done[Cross-links Created]

    P7Done --> P8[Phase 8: Build]
    P8 --> Check[astro check]
    Check --> Build[npm run build]
    Build --> End([Posts Published])

    style Start fill:#8B5CF6,stroke:#7C3AED,stroke-width:2px,color:#fff
    style CMD fill:#8B5CF6,stroke:#7C3AED,stroke-width:3px,color:#fff
    style WR fill:#3B82F6,stroke:#2563EB,stroke-width:2px,color:#fff
    style IG fill:#F97316,stroke:#EA580C,stroke-width:2px,color:#fff
    style WA fill:#14B8A6,stroke:#0D9488,stroke-width:2px,color:#fff
    style PA fill:#3B82F6,stroke:#2563EB,stroke-width:2px,color:#fff
    style BM fill:#14B8A6,stroke:#0D9488,stroke-width:2px,color:#fff
    style TA fill:#10B981,stroke:#059669,stroke-width:2px,color:#fff
    style BW fill:#10B981,stroke:#059669,stroke-width:2px,color:#fff
    style CA fill:#10B981,stroke:#059669,stroke-width:2px,color:#fff
    style Cache1 fill:#F59E0B,stroke:#D97706,stroke-width:2px,color:#fff
    style Return1 fill:#F59E0B,stroke:#D97706,stroke-width:2px,color:#fff
    style End fill:#10B981,stroke:#059669,stroke-width:2px,color:#fff
```

<strong>ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨é‡åˆ†æ</strong>:

| Phase                 | ä¸»è¦ä½œæ¥­       | ãƒˆãƒ¼ã‚¯ãƒ³ä½¿ç”¨              | æœ€é©åŒ–                        |
| --------------------- | -------------- | ------------------------- | ----------------------------- |
| Phase 1               | Web ãƒªã‚µãƒ¼ãƒ   | 17,000 (ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆ) | 58%å‰Šæ¸›                       |
| Phase 3               | ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ä½œæˆ | 15,000                    | -                             |
| Phase 5               | ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿     | 12,000 (å¢—åˆ†å‡¦ç†)         | 70%å‰Šæ¸›                       |
| Phase 6               | æ¨è–¦ç”Ÿæˆ       | 3,000 (ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹)  | 60%å‰Šæ¸›                       |
| <strong>åˆè¨ˆ</strong> |                | <strong>47,000</strong>   | <strong>å¹³å‡ 63%å‰Šæ¸›</strong> |

### ä¾‹ 2: ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã¨æ¨è–¦ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

```mermaid
graph TD
    Posts[Blog Posts<br/>ko/ja/en] --> Analyze[analyze-posts<br/>Command]
    Analyze --> Meta[post-metadata.json]
    Meta --> GenRec[generate-recommendations<br/>Command]
    GenRec --> RecJSON[recommendations.json<br/>V2]
    GenRec --> RecV3[relatedPosts<br/>in frontmatter<br/>V3]
    RecJSON --> Component[RelatedPosts.astro<br/>Component]
    RecV3 --> Component
    Component --> Display[ãƒ–ãƒ­ã‚°æŠ•ç¨¿<br/>ä¸‹éƒ¨è¡¨ç¤º]

    style Posts fill:#3B82F6,stroke:#2563EB,stroke-width:2px,color:#fff
    style Analyze fill:#8B5CF6,stroke:#7C3AED,stroke-width:2px,color:#fff
    style Meta fill:#F59E0B,stroke:#D97706,stroke-width:2px,color:#fff
    style GenRec fill:#8B5CF6,stroke:#7C3AED,stroke-width:2px,color:#fff
    style RecJSON fill:#F59E0B,stroke:#D97706,stroke-width:2px,color:#fff
    style RecV3 fill:#F59E0B,stroke:#D97706,stroke-width:2px,color:#fff
    style Component fill:#10B981,stroke:#059669,stroke-width:2px,color:#fff
    style Display fill:#10B981,stroke:#059669,stroke-width:2px,color:#fff
```

<strong>ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼</strong>:

1. <strong>/analyze-posts</strong>: éŸ“å›½èªæŠ•ç¨¿ã®ã¿åˆ†æ (3 å€ã‚³ã‚¹ãƒˆå‰Šæ¸›)

   - Content Hash ã§å¤‰æ›´æ¤œå‡º
   - å¤‰æ›´ã•ã‚ŒãŸæŠ•ç¨¿ã®ã¿å†åˆ†æ
   - post-metadata.json æ›´æ–°

2. <strong>/generate-recommendations</strong>: LLM ãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¨è–¦

   - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆ†æ (60-70%ãƒˆãƒ¼ã‚¯ãƒ³å‰Šæ¸›)
   - 6 æ¬¡å…ƒé¡ä¼¼åº¦è¨ˆç®—
   - V2: recommendations.json ç”Ÿæˆ (ãƒ¬ã‚¬ã‚·ãƒ¼)
   - V3: frontmatter ã® relatedPosts ã«ç›´æ¥è¿½åŠ  (ç¾åœ¨)

3. <strong>RelatedPosts Component</strong>: ãƒ–ãƒ­ã‚°æŠ•ç¨¿ã«æ¨è–¦è¡¨ç¤º

### ä¾‹ 3: ãƒˆãƒ¬ãƒ³ãƒ‰ãƒ™ãƒ¼ã‚¹ã®ãƒˆãƒ”ãƒƒã‚¯æ¨è–¦

ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æ´»ç”¨ãƒ•ãƒ­ãƒ¼:

```mermaid
sequenceDiagram
    participant U as User
    participant CMD as /next-post-recommendation
    participant CP as Content Planner<br/>Agent
    participant TA as Trend Analyzer<br/>Skill
    participant Cache as Cache Layer<br/>.cache/
    participant BS as Brave Search<br/>MCP

    U->>CMD: /next-post-recommendation
    CMD->>CP: ãƒˆãƒ”ãƒƒã‚¯æ¨è–¦è¦è«‹
    CP->>TA: ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ (è‡ªå‹•æ¤œå‡º)

    TA->>Cache: Cache Check (24h)

    alt Cache Hit (24hä»¥å†…)
        Cache-->>TA: Cached Trend Data
        Note over TA: 10-15ç§’<br/>17,000 tokens<br/>58%å‰Šæ¸›
    else Cache Miss (24hçµŒé)
        TA->>BS: Brave Web Search
        Note over BS: sleep 2 (Rate Limit)
        BS-->>TA: Fresh Data
        TA->>Cache: Update Cache
        Note over TA: 45-60ç§’<br/>40,000+ tokens
    end

    TA-->>CP: ãƒˆãƒ¬ãƒ³ãƒ‰ãƒ‡ãƒ¼ã‚¿
    CP->>CP: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚®ãƒ£ãƒƒãƒ—åˆ†æ
    CP->>CP: ãƒˆãƒ”ãƒƒã‚¯10å€‹ç”Ÿæˆ
    CP-->>CMD: æ¨è–¦ãƒ¬ãƒãƒ¼ãƒˆ
    CMD-->>U: content-recommendations-{date}.md
```

## $ARGUMENTS æ´»ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³

Commands ã¯`$ARGUMENTS`ã‚’é€šã˜ã¦æŸ”è»Ÿãªå¼•æ•°æ¸¡ã—ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

### ã‚·ãƒ³ãƒ—ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³ (analyze-posts)

```markdown
/analyze-posts $ARGUMENTS

# ä½¿ç”¨ä¾‹

/analyze-posts --force # å…¨ä½“å†ç”Ÿæˆ
/analyze-posts --post my-slug # ç‰¹å®šæŠ•ç¨¿ã®ã¿
/analyze-posts --verify # æ¤œè¨¼ãƒ¢ãƒ¼ãƒ‰
```

### è¤‡é›‘ãƒ‘ã‚¿ãƒ¼ãƒ³ (write-post)

```markdown
Topic: $ARGUMENTS

# ãƒ‘ãƒ¼ã‚¹ãƒ­ã‚¸ãƒƒã‚¯

topic = args[0] # æœ€åˆã®å¼•æ•°: ãƒˆãƒ”ãƒƒã‚¯
flags = parseFlags(args[1:]) # æ®‹ã‚Š: ãƒ•ãƒ©ã‚°

# ä½¿ç”¨ä¾‹

/write-post "Claude Code MCP çµ±åˆã‚¬ã‚¤ãƒ‰" --tags ai,mcp,automation --languages ko,ja
```

<strong>ãƒ•ãƒ©ã‚°ãƒ‘ãƒ¼ã‚¹ä¾‹</strong>:

```typescript
function parseArguments(args: string[]) {
  const result = {
    topic: args[0],
    tags: [],
    languages: ["ko", "ja", "en"], // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤
    description: "",
  };

  for (let i = 1; i < args.length; i++) {
    if (args[i] === "--tags" && args[i + 1]) {
      result.tags = args[i + 1].split(",");
      i++;
    } else if (args[i] === "--languages" && args[i + 1]) {
      result.languages = args[i + 1].split(",");
      i++;
    } else if (args[i] === "--description" && args[i + 1]) {
      result.description = args[i + 1];
      i++;
    }
  }

  return result;
}
```

## å®Ÿè·µé©ç”¨ã‚¬ã‚¤ãƒ‰

### Skill ä½œæˆ (ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—)

<strong>ã‚¹ãƒ†ãƒƒãƒ— 1: ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ</strong>

```bash
mkdir -p .claude/skills/my-skill
cd .claude/skills/my-skill
```

<strong>ã‚¹ãƒ†ãƒƒãƒ— 2: SKILL.md ä½œæˆ</strong>

```markdown
---
name: my-skill
description: Brief description of what this skill does. Use when [specific trigger condition].
allowed-tools: [Read, Write, Bash]
---

# My Skill

## Core Capabilities

1. **Feature 1**: Description
2. **Feature 2**: Description

## Workflow

### Phase 1: Input Processing

...

### Phase 2: Main Logic

...

### Phase 3: Output Generation

...

## Examples

...
```

<strong>ã‚¹ãƒ†ãƒƒãƒ— 3: ã‚µãƒãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«è¿½åŠ  (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)</strong>

```bash
# è©³ç´°ã‚¬ã‚¤ãƒ‰
touch detailed-guide.md

# ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
mkdir scripts
touch scripts/helper.py
```

<strong>ã‚¹ãƒ†ãƒƒãƒ— 4: ãƒ†ã‚¹ãƒˆ</strong>

```bash
# Claudeã¨ã®å¯¾è©±ã§ãƒˆãƒªã‚¬ãƒ¼ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ä½¿ç”¨
"Please use my-skill to process this data..."
```

### Command ä½œæˆ (ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—)

<strong>ã‚¹ãƒ†ãƒƒãƒ— 1: ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ</strong>

```bash
touch .claude/commands/my-command.md
```

<strong>ã‚¹ãƒ†ãƒƒãƒ— 2: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®šç¾©</strong>

```markdown
# My Command

Execute [specific workflow] with [parameters].

## Usage

\`\`\`bash
/my-command $ARGUMENTS
\`\`\`

## Arguments

- \`<required>\`: Description
- \`--optional\`: Description

## Workflow

### Phase 1: Preparation

1. Parse arguments
2. Validate inputs
3. Load dependencies

### Phase 2: Execution

1. Call Agent A
2. Process results
3. Call Agent B

### Phase 3: Finalization

1. Validate outputs
2. Save results
3. Return summary

## Example

\`\`\`bash
/my-command "input" --flag value
\`\`\`

## Output

...

## Related Files

- Agent: `.claude/agents/my-agent.md`
- Skill: `.claude/skills/my-skill/SKILL.md`
```

<strong>ã‚¹ãƒ†ãƒƒãƒ— 3: Agent å‘¼ã³å‡ºã—ãƒ‘ã‚¿ãƒ¼ãƒ³</strong>

```markdown
### Phase 2: Main Processing

Delegate to specialized agent:

\`\`\`
@my-agent "Process this data with specific instructions"
\`\`\`

The agent will:

1. Automatically discover relevant skills
2. Execute the workflow
3. Return structured results
```

<strong>ã‚¹ãƒ†ãƒƒãƒ— 4: ãƒ†ã‚¹ãƒˆ</strong>

```bash
# Claudeã¨ã®å¯¾è©±ã§Commandå®Ÿè¡Œ
/my-command "test input" --verbose
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–æŠ€æ³•

### 1. ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚° (58%å‰Šæ¸›)

<strong>å®Ÿè£…æ–¹æ³•</strong>:

```typescript
interface CacheEntry {
  data: any;
  timestamp: number;
  expiresAt: number;
}

class SimpleCache {
  private cache: Map<string, CacheEntry> = new Map();

  set(key: string, data: any, ttlSeconds: number) {
    this.cache.set(key, {
      data,
      timestamp: Date.now(),
      expiresAt: Date.now() + ttlSeconds * 1000,
    });
  }

  get(key: string): any | null {
    const entry = this.cache.get(key);
    if (!entry) return null;

    if (Date.now() > entry.expiresAt) {
      this.cache.delete(key);
      return null;
    }

    return entry.data;
  }
}
```

<strong>å¤±åŠ¹ãƒãƒªã‚·ãƒ¼</strong>:

- ãƒˆãƒ¬ãƒ³ãƒ‰ãƒ‡ãƒ¼ã‚¿: 24 æ™‚é–“ (æ€¥é€Ÿã«å¤‰åŒ–)
- æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: 7 æ—¥é–“ (é€±æ¬¡æ›´æ–°)
- ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: 48 æ™‚é–“ (ä¸­é–“é€Ÿåº¦)

### 2. å¢—åˆ†å‡¦ç† (70%å‰Šæ¸›)

<strong>Content Hash å®Ÿè£…</strong>:

```typescript
import crypto from "crypto";

function calculateContentHash(content: string): string {
  return crypto.createHash("sha256").update(content).digest("hex");
}

async function incrementalAnalysis(post: BlogPost) {
  const currentHash = calculateContentHash(post.content);
  const existingMetadata = await loadMetadata(post.slug);

  // å¤‰æ›´æ¤œå‡º
  if (existingMetadata?.contentHash === currentHash) {
    console.log(`Skipping ${post.slug}: No changes`);
    return existingMetadata; // æ—¢å­˜ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å†åˆ©ç”¨
  }

  // å¤‰æ›´ã‚ã‚Š: å†åˆ†æå¿…è¦
  console.log(`Analyzing ${post.slug}: Content changed`);
  const metadata = await analyzeContent(post);
  metadata.contentHash = currentHash;

  await saveMetadata(post.slug, metadata);
  return metadata;
}
```

<strong>åŠ¹æœæ¸¬å®š</strong>:

| ã‚·ãƒŠãƒªã‚ª               | Before          | After           | å‰Šæ¸›                 |
| ---------------------- | --------------- | --------------- | -------------------- |
| æ–°è¦æŠ•ç¨¿ 1 ã¤          | 3,000 ãƒˆãƒ¼ã‚¯ãƒ³  | 3,000 ãƒˆãƒ¼ã‚¯ãƒ³  | 0%                   |
| æ—¢å­˜ 13 å€‹ + æ–°è¦ 1 å€‹ | 42,000 ãƒˆãƒ¼ã‚¯ãƒ³ | 3,000 ãƒˆãƒ¼ã‚¯ãƒ³  | 93%                  |
| å…¨ä½“å†åˆ†æ (--force)   | 42,000 ãƒˆãƒ¼ã‚¯ãƒ³ | 42,000 ãƒˆãƒ¼ã‚¯ãƒ³ | 0%                   |
| <strong>å¹³å‡</strong>  |                 |                 | <strong>70%</strong> |

### 3. ä¸¦åˆ—å®Ÿè¡Œ (äºˆå‘Š)

Part 3 ã§è©³ç´°ã«æ‰±ã†äºˆå®š:

```typescript
// é †æ¬¡å‡¦ç† (ç¾åœ¨)
for (const post of posts) {
  await analyzePost(post); // 2åˆ†
}

// ä¸¦åˆ—å‡¦ç† (æ”¹å–„æ¡ˆ)
await Promise.all(posts.map((post) => analyzePost(post))); // 30ç§’ (70%çŸ­ç¸®)
```

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### Skills ä½œæˆ

âœ… <strong>SKILL.md å¿…é ˆ</strong>

- 100 è¡Œä»¥ä¸‹æ¨å¥¨ (é•·ã„å ´åˆã¯ã‚µãƒãƒ¼ãƒˆæ–‡æ›¸ã«åˆ†é›¢)
- YAML frontmatter ã®å®Œæˆåº¦ã‚’é«˜ã

âœ… <strong>æ˜ç¢ºãª description</strong>

- "Use when..."å¥ã‚’å«ã‚ã‚‹
- ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶ã‚’æ˜ç¤º

âœ… <strong>allowed-tools ã§æ¨©é™åˆ¶é™</strong>

- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£: ä¸è¦ãªãƒ„ãƒ¼ãƒ«é™¤å¤–
- èª­ã¿å–ã‚Šå°‚ç”¨ Skills: [Read, Grep, Glob]ã®ã¿

âœ… <strong>Progressive Disclosure</strong>

- SKILL.md: æ ¸å¿ƒæ¦‚è¦
- ã‚µãƒãƒ¼ãƒˆæ–‡æ›¸: è©³ç´°ã‚¬ã‚¤ãƒ‰
- ã‚¹ã‚¯ãƒªãƒ—ãƒˆ: å®Ÿè¡Œãƒ­ã‚¸ãƒƒã‚¯

### Commands ä½œæˆ

âœ… <strong>Phase ãƒ™ãƒ¼ã‚¹å®Ÿè¡Œ</strong>

- æ˜ç¢ºãªã‚¹ãƒ†ãƒƒãƒ—åŒºåˆ†
- Phase 1-8 å½¢å¼

âœ… <strong>Agent å§”ä»»ãƒ‘ã‚¿ãƒ¼ãƒ³</strong>

- Command ã¯ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ã¿
- å®Ÿéš›ã®ä½œæ¥­ã¯ Agent ã«

âœ… <strong>æ¤œè¨¼ã‚¹ãƒ†ãƒƒãƒ—ã‚’å«ã‚ã‚‹</strong>

- Phase æœ€å¾Œ: å¸¸ã«æ¤œè¨¼
- astro checkã€build å®Ÿè¡Œ

âœ… <strong>ã‚¨ãƒ©ãƒ¼å‡¦ç†</strong>

- å‰ææ¡ä»¶ã‚’æ˜ç¤º
- å¤±æ•—æ™‚ã®å¾©æ—§æ–¹æ³•ã‚’æä¾›

## ã‚·ãƒªãƒ¼ã‚ºæ¬¡å›äºˆå‘Š

### Part 3: å®Ÿè·µæ”¹å–„äº‹ä¾‹ã¨ ROI åˆ†æ

<strong>æ‰±ã†å†…å®¹</strong>:

1. <strong>ä¸¦åˆ—å‡¦ç†å®Ÿè£…</strong> (70%æ™‚é–“çŸ­ç¸®)

   - Promise.all æ´»ç”¨
   - åŒæ™‚å®Ÿè¡Œåˆ¶å¾¡
   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

2. <strong>è‡ªå‹•åŒ–ã•ã‚ŒãŸãƒ†ã‚¹ãƒˆ</strong> (å“è³ªä¿è¨¼)

   - Skill å˜ä½ãƒ†ã‚¹ãƒˆ
   - Command çµ±åˆãƒ†ã‚¹ãƒˆ
   - CI/CD çµ±åˆ

3. <strong>ãƒªãƒˆãƒ©ã‚¤ãƒ­ã‚¸ãƒƒã‚¯</strong> (å®‰å®šæ€§å‘ä¸Š)

   - Web æ¤œç´¢å¤±æ•—å¾©æ—§
   - Exponential Backoff
   - éƒ¨åˆ†çš„å¤±æ•—å‡¦ç†

4. <strong>ROI åˆ†æ</strong> (æŠ•è³‡ vs åŠ¹æœ)

   - é–‹ç™ºæ™‚é–“æŠ•è³‡
   - å‰Šæ¸›ã•ã‚ŒãŸã‚³ã‚¹ãƒˆè¨ˆç®—
   - Break-Even Point

5. <strong>Top 3 Quick Wins</strong> (å³æ™‚é©ç”¨å¯èƒ½)
   - Dry-Run ãƒ¢ãƒ¼ãƒ‰
   - Interactive ãƒ¢ãƒ¼ãƒ‰
   - Cost Tracking Dashboard

<strong>æœŸå¾…åŠ¹æœ</strong>:

- å‡¦ç†æ™‚é–“: 2 åˆ† â†’ 30 ç§’ (75%çŸ­ç¸®)
- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸: 0% â†’ 80%
- å®‰å®šæ€§: 95% â†’ 99%

## çµè«–

Part 2 ã§ã¯ã€EffiFlow ã®æ ¸å¿ƒã§ã‚ã‚‹ Skills ã¨ Commands ã®çµ±åˆæˆ¦ç•¥ã‚’æ·±ãåˆ†æã—ã¾ã—ãŸã€‚

<strong>æ ¸å¿ƒã‚¤ãƒ³ã‚µã‚¤ãƒˆ</strong>:

1. <strong>Skills ã®è‡ªå‹•æ¤œå‡º</strong>: Model-Invoked æ–¹å¼ã§ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹æ´»æ€§åŒ–
2. <strong>Commands ã®ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</strong>: User-Invokedã€Phase ãƒ™ãƒ¼ã‚¹å®Ÿè¡Œã€Agent å§”ä»»
3. <strong>ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ã§ 58%å‰Šæ¸›</strong>: 3-Tier ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥ (24h/7d/48h)
4. <strong>Progressive Disclosure</strong>: ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§åŠ¹ç‡æ€§æœ€å¤§åŒ–
5. <strong>ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å„ªå…ˆ</strong>: 60-70%ãƒˆãƒ¼ã‚¯ãƒ³å‰Šæ¸›

<strong>å®Ÿè·µæ´»ç”¨</strong>:

- `/write-post`: 8-Phase å®Œå…¨è‡ªå‹•åŒ–
- `/analyze-posts`: å¢—åˆ†å‡¦ç†ã§ 70%å‰Šæ¸›
- `/next-post-recommendation`: ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°ã§ 58%å‰Šæ¸›

Part 3 ã§ã¯ã€ã“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ã•ã‚‰ã«æ”¹å–„ã—ã¦å‡¦ç†æ™‚é–“ã‚’ 75%çŸ­ç¸®ã—ã€ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ 80%ã«é«˜ã‚ã€å®‰å®šæ€§ã‚’ 99%ã¾ã§å‘ä¸Šã•ã›ã‚‹å®Ÿè·µæ”¹å–„äº‹ä¾‹ã‚’æ‰±ã„ã¾ã™ã€‚

EffiFlow ã®é©æ–°ã¯ç¶šãã¾ã™ã€‚æ¬¡å›ã§ãŠä¼šã„ã—ã¾ã—ã‚‡ã†! ğŸš€
