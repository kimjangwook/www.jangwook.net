---
title: 'Figma MCP è‡ªåŠ¨ç”Ÿæˆ Web ç»„ä»¶ç ”ç©¶:è®¾è®¡ç³»ç»ŸæŒç»­åŒæ­¥'
description: >-
  åˆ©ç”¨ Figma Parts åº“ä¸ figma-mcp ç”ŸæˆåŸç”Ÿ JavaScript Web ç»„ä»¶,å¹¶æŒç»­åŒæ­¥è®¾è®¡å˜æ›´çš„å®æˆ˜ç ”ç©¶ã€‚æ¶µç›– Webhookã€GitHub Actionsã€åŸºäºè®¾è®¡ä»¤ç‰Œçš„å®ç°æŒ‡å—ã€‚
pubDate: '2025-11-10'
heroImage: ../../../assets/blog/figma-mcp-web-components-hero.jpg
tags:
  - figma
  - mcp
  - web-components
  - design-system
  - automation
relatedPosts:
  - slug: metadata-based-recommendation-optimization
    score: 0.94
    reason:
      ko: 'ìë™í™”, ì›¹ ê°œë°œ, AI/ML, DevOps, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€Webé–‹ç™ºã€AI/MLã€DevOpsã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, web development, AI/ML, DevOps,
        architecture with comparable difficulty.
      zh: æ¶µç›–è‡ªåŠ¨åŒ–ã€Web å¼€å‘ã€AI/MLã€DevOpsã€æ¶æ„ç­‰ç±»ä¼¼ä¸»é¢˜,éš¾åº¦ç›¸å½“ã€‚
  - slug: google-analytics-mcp-automation
    score: 0.93
    reason:
      ko: 'ìë™í™”, AI/ML, DevOps, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€AI/MLã€DevOpsã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, AI/ML, DevOps, architecture with
        comparable difficulty.
      zh: æ¶µç›–è‡ªåŠ¨åŒ–ã€AI/MLã€DevOpsã€æ¶æ„ç­‰ç±»ä¼¼ä¸»é¢˜,éš¾åº¦ç›¸å½“ã€‚
  - slug: specification-driven-development
    score: 0.92
    reason:
      ko: 'ìë™í™”, AI/ML, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€AI/MLã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, AI/ML, architecture with comparable
        difficulty.
      zh: æ¶µç›–è‡ªåŠ¨åŒ–ã€AI/MLã€æ¶æ„ç­‰ç±»ä¼¼ä¸»é¢˜,éš¾åº¦ç›¸å½“ã€‚
  - slug: claude-code-web-automation
    score: 0.91
    reason:
      ko: 'ì„ í–‰ í•™ìŠµ ìë£Œë¡œ ìœ ìš©í•˜ë©°, ìë™í™”, ì›¹ ê°œë°œ, DevOps ê¸°ì´ˆë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.'
      ja: äº‹å‰å­¦ç¿’è³‡æ–™ã¨ã—ã¦æœ‰ç”¨ã§ã‚ã‚Šã€è‡ªå‹•åŒ–ã€Webé–‹ç™ºã€DevOpsã®åŸºç¤ã‚’æ‰±ã„ã¾ã™ã€‚
      en: >-
        Useful as prerequisite knowledge, covering automation, web development,
        DevOps fundamentals.
      zh: ä½œä¸ºå…ˆå¯¼çŸ¥è¯†å¾ˆæœ‰ç”¨,æ¶µç›–è‡ªåŠ¨åŒ–ã€Web å¼€å‘ã€DevOps åŸºç¡€ã€‚
  - slug: chrome-devtools-mcp-performance
    score: 0.91
    reason:
      ko: 'ì„ í–‰ í•™ìŠµ ìë£Œë¡œ ìœ ìš©í•˜ë©°, ìë™í™”, ì›¹ ê°œë°œ, DevOps, ì•„í‚¤í…ì²˜ ê¸°ì´ˆë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.'
      ja: äº‹å‰å­¦ç¿’è³‡æ–™ã¨ã—ã¦æœ‰ç”¨ã§ã‚ã‚Šã€è‡ªå‹•åŒ–ã€Webé–‹ç™ºã€DevOpsã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®åŸºç¤ã‚’æ‰±ã„ã¾ã™ã€‚
      en: >-
        Useful as prerequisite knowledge, covering automation, web development,
        DevOps, architecture fundamentals.
      zh: ä½œä¸ºå…ˆå¯¼çŸ¥è¯†å¾ˆæœ‰ç”¨,æ¶µç›–è‡ªåŠ¨åŒ–ã€Web å¼€å‘ã€DevOpsã€æ¶æ„åŸºç¡€ã€‚
---

## æ¦‚è¿°

è®¾è®¡ä¸ä»£ç ä¹‹é—´çš„é¸¿æ²Ÿæ˜¯æ‰€æœ‰å¼€å‘å›¢é˜Ÿéƒ½é¢ä¸´çš„æ°¸æ’æŒ‘æˆ˜ã€‚å½“è®¾è®¡å¸ˆåœ¨ Figma ä¸­ä¿®æ”¹æŒ‰é’®æ—¶,å¼€å‘è€…éœ€è¦æ‰‹åŠ¨æ›´æ–° CSSã€‚å½“ç»„ä»¶åº“æ›´æ–°æ—¶,éœ€è¦åœ¨æ‰€æœ‰é¡¹ç›®ä¸­é€ä¸€åæ˜ å˜æ›´ã€‚

æœ¬æ–‡é€šè¿‡å®æˆ˜ç ”ç©¶ä»‹ç»<strong>å¦‚ä½•åˆ©ç”¨ Figma MCP(Model Context Protocol,æ¨¡å‹ä¸Šä¸‹æ–‡åè®®)å°†è®¾è®¡ç³»ç»Ÿè‡ªåŠ¨è½¬æ¢ä¸º Web ç»„ä»¶å¹¶æŒç»­åŒæ­¥</strong>ã€‚è¿™ä¸æ˜¯ç®€å•çš„ç†è®º,è€Œæ˜¯ 2025 å¹´ç°åœ¨å®é™…å¯è¿è¡Œçš„ç”Ÿäº§çº§è§£å†³æ–¹æ¡ˆã€‚

## ç†è§£ Figma MCP

### ä»€ä¹ˆæ˜¯ Model Context Protocol?

<strong>Model Context Protocol(MCP,æ¨¡å‹ä¸Šä¸‹æ–‡åè®®)</strong>æ˜¯ Anthropic å¼€å‘çš„å¼€æ”¾æ ‡å‡†,å…è®¸ AI ä»£ç†è¿æ¥å¤–éƒ¨å·¥å…·å’Œæ•°æ®æºã€‚Figma çš„ MCP å®ç°ä½¿ AI ä»£ç†èƒ½å¤Ÿç›´æ¥è®¿é—® Figma æ–‡ä»¶çš„è®¾è®¡ä¸Šä¸‹æ–‡ã€‚

<strong>å®˜æ–¹è¯´æ˜:</strong>
> "MCP æ˜¯ä¸€ä¸ªå¼€æºæ ‡å‡†,å®šä¹‰äº†ä¸åŒ AI ä»£ç†å’Œåº”ç”¨ç¨‹åºå¦‚ä½•ç›¸äº’é€šä¿¡æˆ–ä¸ Figma ç­‰å¤–éƒ¨ç³»ç»Ÿé€šä¿¡ã€‚"

```mermaid
graph LR
    A[AI å®¢æˆ·ç«¯<br/>Claude Code] <--> B[MCP åè®®]
    B <--> C[Figma MCP æœåŠ¡å™¨]
    C <--> D[Figma API]
    D --> E[è®¾è®¡æ–‡ä»¶]
```

### ä¸¤ç§éƒ¨ç½²æ¨¡å¼

Figma MCP å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ä½¿ç”¨:

#### 1. Remote Server(Figma æ‰˜ç®¡)

```javascript
// Claude Desktop é…ç½®
{
  "mcpServers": {
    "figma-remote": {
      "url": "https://mcp.figma.com/mcp"
    }
  }
}
```

<strong>ç‰¹ç‚¹:</strong>
- åŸºäº OAuth çš„è®¤è¯(ä¸€é”®è®¾ç½®)
- æ— éœ€æœ¬åœ°å®‰è£…
- éœ€è¦ Professional/Organization/Enterprise è®¡åˆ’ + Dev seat
- åº”ç”¨ Tier 1 Figma REST API é™åˆ¶

#### 2. Desktop Server(æœ¬åœ°)

```javascript
// VS Code/Cursor é…ç½®
{
  "mcpServers": {
    "figma-desktop": {
      "url": "http://127.0.0.1:3845/mcp"
    }
  }
}
```

<strong>ç‰¹ç‚¹:</strong>
- åœ¨æœ¬åœ°è¿è¡Œ `http://127.0.0.1:3845/mcp`
- éœ€è¦æœ€æ–°ç‰ˆ Figma æ¡Œé¢åº”ç”¨
- ä½¿ç”¨æœ¬åœ°è®¤è¯
- æ‰€æœ‰è®¡åˆ’ç±»å‹å‡å¯ä½¿ç”¨
- Starter è®¡åˆ’æ¯æœˆé™åˆ¶ 6 æ¬¡å·¥å…·è°ƒç”¨

### è®¤è¯æ–¹æ³•

<strong>Personal Access Token(æ¨è):</strong>

```bash
# è®¾ç½®ç¯å¢ƒå˜é‡
export FIGMA_API_KEY="your-personal-access-token"

# æˆ–ä½œä¸º CLI å‚æ•°ä¼ é€’
--figma-api-key "your-token"
```

<strong>ä»¤ç‰Œå‘æ”¾æ–¹æ³•:</strong>
1. è¿›å…¥ Figma è´¦æˆ·è®¾ç½®
2. é€‰æ‹© "Personal Access Tokens" èœå•
3. ä½¿ç”¨æ‰€éœ€æƒé™åˆ›å»ºæ–°ä»¤ç‰Œ
4. å®‰å…¨ä¿å­˜ä»¤ç‰Œ(åƒå¯†ç ä¸€æ ·å¯¹å¾…)

### å¯ç”¨å·¥å…·å’Œ API

Figma MCP æœåŠ¡å™¨ä¸º AI ä»£ç†æä¾›ä»¥ä¸‹å·¥å…·:

<strong>è®¾è®¡ä¸Šä¸‹æ–‡å·¥å…·:</strong>
- `get_figma_file` - æŸ¥è¯¢å®Œæ•´ Figma æ–‡ä»¶ç»“æ„
- `get_node` - è·å–ç‰¹å®šè®¾è®¡èŠ‚ç‚¹è¯¦ç»†ä¿¡æ¯
- `get_components` - è®¿é—®ç»„ä»¶åº“
- `get_styles` - æŸ¥è¯¢è®¾è®¡æ ·å¼
- `get_variables` - è®¿é—®è®¾è®¡ä»¤ç‰Œ/å˜é‡
- `get_comments` - è¯»å–æ–‡ä»¶æ³¨é‡Š
- `search_files` - åœ¨å›¢é˜Ÿå†…æœç´¢æ–‡ä»¶

<strong>Code Connect é›†æˆ:</strong>
- å°† Figma ç»„ä»¶è¿æ¥åˆ°å®é™…ä»£ç 
- æä¾›ç”Ÿäº§å°±ç»ªçš„ä»£ç ç‰‡æ®µ
- å°†ç»„ä»¶å±æ€§æ˜ å°„åˆ°ä»£ç  props
- é€šè¿‡ GitHub Actions è‡ªåŠ¨åŒæ­¥

## æ„å»º Figma ç»„ä»¶åº“

### Atomic Design ç»“æ„

ä¸ºäº†ç³»ç»ŸåŒ–åœ°ç»„ç»‡è®¾è®¡ç³»ç»Ÿ,éµå¾ª Atomic Design åŸåˆ™:

```
Design System File
â”œâ”€â”€ ğŸ“„ Foundations(åŸºç¡€)
â”‚   â”œâ”€â”€ Colors(é¢œè‰²)
â”‚   â”œâ”€â”€ Typography(æ’ç‰ˆ)
â”‚   â”œâ”€â”€ Spacing(é—´è·)
â”‚   â””â”€â”€ Grid(ç½‘æ ¼)
â”œâ”€â”€ ğŸ“„ Atoms(åŸå­)
â”‚   â”œâ”€â”€ Buttons(æŒ‰é’®)
â”‚   â”œâ”€â”€ Icons(å›¾æ ‡)
â”‚   â””â”€â”€ Inputs(è¾“å…¥)
â”œâ”€â”€ ğŸ“„ Molecules(åˆ†å­)
â”‚   â”œâ”€â”€ Form Fields(è¡¨å•å­—æ®µ)
â”‚   â”œâ”€â”€ Cards(å¡ç‰‡)
â”‚   â””â”€â”€ Navigation Items(å¯¼èˆªé¡¹)
â””â”€â”€ ğŸ“„ Organisms(æœ‰æœºä½“)
    â”œâ”€â”€ Headers(å¤´éƒ¨)
    â”œâ”€â”€ Forms(è¡¨å•)
    â””â”€â”€ Modals(æ¨¡æ€æ¡†)
```

<strong>æ ¸å¿ƒåŸåˆ™:</strong>
> "åœ¨ Figma æ–‡ä»¶ä¸­ä¸ºä¸åŒç±»åˆ«çš„ç»„ä»¶åˆ›å»ºå•ç‹¬çš„é¡µé¢ã€‚ä¾‹å¦‚:'Atoms'ã€'Molecules'ã€'Organisms'"

### å‘½åè§„èŒƒ(Slash Notation,æ–œæ è¡¨ç¤ºæ³•)

ä¸€è‡´çš„å‘½åè§„èŒƒå†³å®šäº†è®¾è®¡ç³»ç»Ÿçš„å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§:

```
Component/Variant/State
â””â”€ Button/Primary/Default
â””â”€ Button/Primary/Hover
â””â”€ Button/Primary/Disabled
â””â”€ Button/Secondary/Default
```

<strong>ä¼˜ç‚¹:</strong>
- åœ¨ Assets é¢æ¿ä¸­è‡ªåŠ¨æ’åº
- ä¸‹æ‹‰èœå•ä¸­æ¸…æ™°çš„å±‚çº§ç»“æ„
- ä¾¿äºæœç´¢å’Œæ›¿æ¢
- ä¸ä»£ç å‘½åè§„èŒƒä¿æŒä¸€è‡´

<strong>æœ€ä½³å®è·µæŒ‡å—:</strong>
- ä½¿ç”¨æè¿°æ€§å’Œä¸€è‡´çš„åç§°
- è®°å½•å‘½åç»“æ„
- é¿å…ä½¿ç”¨ç¼©å†™
- ä¸€è‡´ä½¿ç”¨ PascalCase æˆ– kebab-case

### ç»„ä»¶å±æ€§å’Œ Variants

<strong>ç°ä»£æ–¹æ³•(2021 å¹´å):</strong>

```
Properties:
â”œâ”€â”€ Type: [Primary, Secondary, Tertiary]
â”œâ”€â”€ Size: [Small, Medium, Large]
â”œâ”€â”€ State: [Default, Hover, Disabled]
â””â”€â”€ Icon: [Boolean]
```

<strong>Variants vs Properties:</strong>
- <strong>Variants:</strong> è§†è§‰å·®å¼‚(Primary vs Secondary)
- <strong>Properties:</strong> è¡Œä¸ºåˆ‡æ¢(Icon: Yes/No)
- <strong>æœ€ä½³å®è·µ:</strong> ç»“åˆä¸¤è€…å®ç°çµæ´»ç»„ä»¶

### åº“ç»„ç»‡ç­–ç•¥

<strong>å•åº“æ–¹æ³•(å°å‹å›¢é˜Ÿ):</strong>

```
Design-System.fig
â””â”€â”€ æ‰€æœ‰ç»„ä»¶ã€æ ·å¼ã€å˜é‡
```

<strong>å¤šåº“æ–¹æ³•(å¤§å‹å›¢é˜Ÿ):</strong>

```
Design-System-Foundations.fig
Design-System-Components.fig
Design-System-Patterns.fig
Design-System-Icons.fig
```

<strong>Figma çš„å»ºè®®:</strong>
> "Figma é€šå¸¸å»ºè®®å›¢é˜Ÿåœ¨å¯ç®¡ç†èŒƒå›´å†…ä¿æŒæ–‡ä»¶å°½å¯èƒ½å…·ä½“å’Œé›†ä¸­ã€‚"

## åŸç”Ÿ JavaScript Web ç»„ä»¶

### 2025 å¹´æµè§ˆå™¨æ”¯æŒç°çŠ¶

<strong>é‡è¦æ¶ˆæ¯:ä¸å†éœ€è¦ polyfill!</strong>

æˆªè‡³ 2025 å¹´,æ‰€æœ‰ä¸»æµæµè§ˆå™¨éƒ½å®Œå…¨æ”¯æŒ Web Components æ ‡å‡†:

- âœ… Chrome: 100% æ”¯æŒ
- âœ… Firefox: 100% æ”¯æŒ
- âœ… Safari: 100% æ”¯æŒ
- âœ… Edge: 100% æ”¯æŒ

<strong>å®˜æ–¹å£°æ˜:</strong>
> "æˆªè‡³ 2025 å¹´,æ‰€æœ‰ä¸»æµæµè§ˆå™¨(Chromeã€Firefoxã€Safariã€Edge)éƒ½å®Œå…¨æ”¯æŒ Web Components æ ‡å‡†,æ— éœ€ polyfillã€‚"

### Custom Elements API

Web ç»„ä»¶çš„æ ¸å¿ƒæ˜¯ Custom Elements API:

```javascript
// åŸºæœ¬æŒ‰é’®ç»„ä»¶ç¤ºä¾‹
class MyButton extends HTMLElement {
  constructor() {
    super();
    // ç»„ä»¶åˆå§‹åŒ–
  }

  connectedCallback() {
    // å…ƒç´ æ·»åŠ åˆ° DOM æ—¶è°ƒç”¨
    this.render();
  }

  disconnectedCallback() {
    // ä» DOM ç§»é™¤æ—¶æ¸…ç†
  }

  attributeChangedCallback(name, oldValue, newValue) {
    // å“åº”å±æ€§å˜åŒ–
    this.render();
  }

  static get observedAttributes() {
    return ['size', 'variant', 'disabled'];
  }

  render() {
    this.innerHTML = `
      <button class="btn btn--${this.getAttribute('variant')}">
        <slot></slot>
      </button>
    `;
  }
}

// æ³¨å†Œè‡ªå®šä¹‰å…ƒç´ 
customElements.define('my-button', MyButton);
```

<strong>ä½¿ç”¨æ–¹æ³•:</strong>

```html
<my-button variant="primary" size="large">
  ç‚¹å‡»è¿™é‡Œ
</my-button>
```

### åˆ©ç”¨ Shadow DOM

Shadow DOM é€šè¿‡å°è£…æ ·å¼å’Œ DOM æä¾›çœŸæ­£çš„ç»„ä»¶éš”ç¦»:

```javascript
class MyCard extends HTMLElement {
  constructor() {
    super();
    // é™„åŠ  Shadow DOM
    this.attachShadow({ mode: 'open' });
  }

  connectedCallback() {
    this.shadowRoot.innerHTML = `
      <style>
        :host {
          display: block;
          border: 1px solid var(--card-border);
          border-radius: var(--card-radius);
          padding: var(--card-padding);
        }

        ::slotted(h2) {
          margin-top: 0;
          color: var(--card-title-color);
        }
      </style>

      <div class="card">
        <slot name="header"></slot>
        <slot></slot>
        <slot name="footer"></slot>
      </div>
    `;
  }
}

customElements.define('my-card', MyCard);
```

<strong>Shadow DOM çš„ä¼˜ç¼ºç‚¹:</strong>

<strong>ä¼˜ç‚¹:</strong>
- å®Œç¾çš„ CSS å°è£…
- æ— æ ·å¼å†²çª
- çœŸæ­£çš„ç»„ä»¶éš”ç¦»
- æ¡†æ¶ç‹¬ç«‹

<strong>ç¼ºç‚¹:</strong>
- æ— æ³•ä»å¤–éƒ¨è®¾ç½®æ ·å¼(è¿™æ˜¯æœ‰æ„çš„è®¾è®¡)
- å…¨å±€æ ·å¼ä¸ä¼šæ¸—é€
- è°ƒè¯•å¯èƒ½æ›´å›°éš¾
- å¯è®¿é—®æ€§è€ƒè™‘

### é€šè¿‡ CSS Custom Properties é›†æˆè®¾è®¡ä»¤ç‰Œ

å°†è®¾è®¡ä»¤ç‰Œä½œä¸º CSS å˜é‡ä½¿ç”¨å¯ä¿æŒ Figma ä¸ä»£ç ä¹‹é—´çš„ä¸€è‡´æ€§:

```javascript
class MyButton extends HTMLElement {
  connectedCallback() {
    this.attachShadow({ mode: 'open' });
    this.shadowRoot.innerHTML = `
      <style>
        :host {
          --button-bg: var(--primary-color, #007bff);
          --button-text: var(--on-primary, white);
          --button-padding: var(--space-md, 12px 24px);
        }

        button {
          background: var(--button-bg);
          color: var(--button-text);
          padding: var(--button-padding);
          border: none;
          border-radius: var(--radius-md, 4px);
          cursor: pointer;
          font-size: var(--text-md, 16px);
          font-weight: var(--weight-medium, 500);
          transition: background 0.2s ease;
        }

        button:hover {
          background: var(--button-bg-hover, #0056b3);
        }

        button:disabled {
          background: var(--button-bg-disabled, #6c757d);
          cursor: not-allowed;
          opacity: 0.6;
        }
      </style>

      <button>
        <slot></slot>
      </button>
    `;
  }
}
```

## Figma â†’ Web ç»„ä»¶è½¬æ¢

### ç»„ä»¶æ˜ å°„æ–‡ä»¶ç³»ç»Ÿ

ä¸ä¼ ç»Ÿçš„æ‰‹åŠ¨è½¬æ¢ä¸åŒ,æ„å»º<strong>ç»„ä»¶æ˜ å°„æ–‡ä»¶(Component Mapping File)</strong>ç³»ç»Ÿå¯å®ç°æŒç»­åŒæ­¥ã€‚

#### æ˜ å°„æ–‡ä»¶ç»“æ„

```markdown
<!-- components-map.md -->
# Component Mapping

## Button Component
- Figma URL: https://figma.com/file/ABC123/Design-System?node-id=1:234
- Component Path: src/components/Button.ts
- Last Synced: 2025-11-10T10:30:00Z
- Version Hash: abc123def456
- Status: âœ“ Synced

## Card Component
- Figma URL: https://figma.com/file/ABC123/Design-System?node-id=2:345
- Component Path: src/components/Card.ts
- Last Synced: 2025-11-09T15:20:00Z
- Version Hash: xyz789abc123
- Status: âš  Needs Update

## Input Component
- Figma URL: https://figma.com/file/ABC123/Design-System?node-id=3:456
- Component Path: src/components/Input.ts
- Last Synced: 2025-11-08T09:15:00Z
- Version Hash: def456ghi789
- Status: âœ“ Synced
```

<strong>æ˜ å°„æ–‡ä»¶çš„ä¼˜ç‚¹:</strong>
- ä½œä¸ºå•ä¸€çœŸå®æ¥æºè·Ÿè¸ªæ‰€æœ‰ç»„ä»¶
- é€šè¿‡ç‰ˆæœ¬å“ˆå¸Œæ£€æµ‹å˜æ›´
- è®°å½•æœ€ååŒæ­¥æ—¶é—´æˆ³
- åŒæ—¶æ”¯æŒæ‰‹åŠ¨å®¡æŸ¥å’Œè‡ªåŠ¨åŒ–

### æå– Figma ç»„ä»¶å…ƒæ•°æ®

é€šè¿‡ MCP è·å– Figma ç»„ä»¶çš„å…ƒæ•°æ®:

```typescript
// scripts/extract-figma-metadata.ts
import axios from 'axios';
import crypto from 'crypto';

interface FigmaComponent {
  id: string;
  name: string;
  description?: string;
  properties?: Record<string, any>;
  lastModified: string;
}

async function getFigmaComponent(fileKey: string, nodeId: string): Promise<FigmaComponent> {
  const response = await axios.get(
    `https://api.figma.com/v1/files/${fileKey}/nodes?ids=${nodeId}`,
    {
      headers: {
        'X-Figma-Token': process.env.FIGMA_API_KEY
      }
    }
  );

  const node = response.data.nodes[nodeId];
  return {
    id: nodeId,
    name: node.document.name,
    description: node.document.description,
    properties: extractProperties(node.document),
    lastModified: response.data.lastModified
  };
}

function extractProperties(node: any): Record<string, any> {
  // æå– Figma ç»„ä»¶çš„å±æ€§(variants, properties)
  const properties: Record<string, any> = {};

  if (node.componentPropertyDefinitions) {
    for (const [key, prop] of Object.entries(node.componentPropertyDefinitions)) {
      properties[key] = prop;
    }
  }

  return properties;
}

// ç”Ÿæˆç‰ˆæœ¬å“ˆå¸Œ(ç”¨äºå˜æ›´æ£€æµ‹)
function generateHash(component: FigmaComponent): string {
  const content = JSON.stringify({
    name: component.name,
    properties: component.properties,
    lastModified: component.lastModified
  });

  return crypto.createHash('sha256').update(content).digest('hex').substring(0, 12);
}
```

### å˜æ›´æ£€æµ‹é€»è¾‘

æ¯”è¾ƒç»„ä»¶çš„å½“å‰çŠ¶æ€ä¸æœ¬åœ°çŠ¶æ€,åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°:

```typescript
// scripts/check-component-changes.ts
interface ComponentMapping {
  name: string;
  figmaUrl: string;
  componentPath: string;
  lastSynced: string;
  versionHash: string;
  status: 'synced' | 'needs-update' | 'new';
}

async function needsUpdate(
  mapping: ComponentMapping,
  figmaComponent: FigmaComponent
): Promise<boolean> {
  const currentHash = generateHash(figmaComponent);

  // å¦‚æœå“ˆå¸Œä¸åŒåˆ™éœ€è¦æ›´æ–°
  if (currentHash !== mapping.versionHash) {
    console.log(`Component "${mapping.name}" has changes`);
    console.log(`  Old hash: ${mapping.versionHash}`);
    console.log(`  New hash: ${currentHash}`);
    return true;
  }

  return false;
}

async function scanAllComponents(mappingFile: string): Promise<ComponentMapping[]> {
  const mappings = await parseComponentMap(mappingFile);
  const componentsToUpdate: ComponentMapping[] = [];

  for (const mapping of mappings) {
    const { fileKey, nodeId } = parseFigmaUrl(mapping.figmaUrl);
    const figmaComponent = await getFigmaComponent(fileKey, nodeId);

    if (await needsUpdate(mapping, figmaComponent)) {
      componentsToUpdate.push({
        ...mapping,
        status: 'needs-update'
      });
    }
  }

  return componentsToUpdate;
}
```

### æå–å’Œè½¬æ¢è®¾è®¡ä»¤ç‰Œ

å°† Figma Variables è½¬æ¢ä¸º CSS å˜é‡:

```typescript
// scripts/extract-design-tokens.ts
interface DesignToken {
  name: string;
  value: string;
  type: 'color' | 'dimension' | 'fontFamily' | 'fontWeight' | 'number';
  mode?: string;
}

async function extractDesignTokens(fileKey: string): Promise<DesignToken[]> {
  const response = await axios.get(
    `https://api.figma.com/v1/files/${fileKey}/variables/local`,
    {
      headers: {
        'X-Figma-Token': process.env.FIGMA_API_KEY
      }
    }
  );

  const tokens: DesignToken[] = [];
  const collections = response.data.meta.variableCollections;

  for (const collection of Object.values(collections) as any[]) {
    for (const variable of collection.variables || []) {
      tokens.push({
        name: variable.name,
        value: variable.resolvedValue,
        type: variable.resolvedType,
        mode: collection.defaultModeId
      });
    }
  }

  return tokens;
}

function tokensToCSS(tokens: DesignToken[]): string {
  let css = ':root {\n';

  for (const token of tokens) {
    const varName = token.name.toLowerCase().replace(/\s+/g, '-');
    css += `  --${varName}: ${token.value};\n`;
  }

  css += '}\n';
  return css;
}
```

### ç»„ä»¶ä»£ç ç”Ÿæˆ

åŸºäº Figma ç»„ä»¶å…ƒæ•°æ®ç”Ÿæˆ Web ç»„ä»¶ä»£ç :

```typescript
// scripts/generate-component-code.ts
function generateWebComponent(figmaComponent: FigmaComponent): string {
  const className = toPascalCase(figmaComponent.name);
  const tagName = toKebabCase(figmaComponent.name);

  return `
class ${className} extends HTMLElement {
  static get observedAttributes() {
    return [${generateAttributes(figmaComponent.properties)}];
  }

  constructor() {
    super();
    this.attachShadow({ mode: 'open' });
  }

  connectedCallback() {
    this.render();
  }

  attributeChangedCallback(name, oldValue, newValue) {
    if (oldValue !== newValue) {
      this.render();
    }
  }

  render() {
    this.shadowRoot.innerHTML = \`
      <style>
        ${generateStyles(figmaComponent)}
      </style>

      <div class="${tagName}">
        <slot></slot>
      </div>
    \`;
  }
}

customElements.define('${tagName}', ${className});
`.trim();
}

function generateAttributes(properties: Record<string, any>): string {
  return Object.keys(properties || {})
    .map(key => `'${toKebabCase(key)}'`)
    .join(', ');
}

function generateStyles(component: FigmaComponent): string {
  // å°† Figma æ ·å¼ä¿¡æ¯è½¬æ¢ä¸º CSS
  return `
    :host {
      display: block;
    }

    .${toKebabCase(component.name)} {
      /* ä» Figma æå–çš„æ ·å¼ */
    }
  `;
}
```

## å®ç°æŒç»­åŒæ­¥

### Claude Code è‡ªåŠ¨åŒ–é›†æˆ

åˆ©ç”¨ Claude Code å¯ä»¥è‡ªåŠ¨åŒ– Figma ç»„ä»¶åŒæ­¥æµç¨‹ã€‚é€šè¿‡ä»£ç†å’Œæ–œæ å‘½ä»¤æ™ºèƒ½æ£€æµ‹å’Œæ›´æ–°å˜æ›´ã€‚

#### å®šä¹‰ Figma Sync Agent

åˆ›å»º `.claude/agents/figma-sync.md` æ–‡ä»¶å®šä¹‰ä¸“é—¨ä»£ç†:

```markdown
# Figma Component Sync Agent

æ‚¨æ˜¯ä¸“é—¨åŒæ­¥ Figma ç»„ä»¶å’Œ Web ç»„ä»¶çš„ä»£ç†ã€‚

## å¯ç”¨å·¥å…·

- `mcp__figma__get_component` - æŸ¥è¯¢ Figma ç»„ä»¶
- `mcp__figma__get_node` - Figma èŠ‚ç‚¹è¯¦ç»†ä¿¡æ¯
- `Read`, `Write`, `Edit` - æ–‡ä»¶æ“ä½œ
- `Bash` - è„šæœ¬æ‰§è¡Œ

## å·¥ä½œæµç¨‹

1. è¯»å– `components-map.md` æ–‡ä»¶
2. æŸ¥è¯¢æ¯ä¸ªç»„ä»¶çš„å½“å‰ Figma çŠ¶æ€
3. ä¸æœ¬åœ° Web ç»„ä»¶æ¯”è¾ƒ
4. å¦‚æœ‰å˜æ›´åˆ™ç”Ÿæˆæ›´æ–°çš„ä»£ç 
5. ä½¿ç”¨æ–°å“ˆå¸Œå’Œæ—¶é—´æˆ³æ›´æ–° `components-map.md`

## çŠ¶æ€æ¯”è¾ƒé€»è¾‘

```typescript
async function compareComponentState(
  figmaUrl: string,
  localPath: string,
  lastHash: string
): Promise<{ needsUpdate: boolean; newHash?: string }> {
  // 1. ä» Figma URL æå–æ–‡ä»¶é”®å’ŒèŠ‚ç‚¹ ID
  const { fileKey, nodeId } = parseFigmaUrl(figmaUrl);

  // 2. é€šè¿‡ MCP è·å– Figma ç»„ä»¶çŠ¶æ€
  const figmaComponent = await getFigmaComponent(fileKey, nodeId);

  // 3. ç”Ÿæˆå¹¶æ¯”è¾ƒå“ˆå¸Œ
  const currentHash = generateComponentHash(figmaComponent);

  if (currentHash !== lastHash) {
    return { needsUpdate: true, newHash: currentHash };
  }

  return { needsUpdate: false };
}
```

## é€‰æ‹©æ€§æ›´æ–°ç­–ç•¥

- âœ“ å“ˆå¸Œä¸åŒæ—¶:é‡æ–°ç”Ÿæˆç»„ä»¶
- âœ“ å“ˆå¸Œç›¸åŒæ—¶:è·³è¿‡(è¾“å‡ºæ—¥å¿—)
- âœ“ æ–°ç»„ä»¶:æ·»åŠ åˆ°æ˜ å°„æ–‡ä»¶
- âœ“ åˆ é™¤çš„ç»„ä»¶:æ˜¾ç¤ºè­¦å‘Š

## ç»“æœæŠ¥å‘Š

åŒæ­¥åç”ŸæˆåŒ…å«ä»¥ä¸‹ä¿¡æ¯çš„è¯¦ç»†æŠ¥å‘Š:
- æ›´æ–°çš„ç»„ä»¶åˆ—è¡¨
- è·³è¿‡çš„ç»„ä»¶(å·²æ˜¯æœ€æ–°)
- å‘ç”Ÿçš„é”™è¯¯
- æ€»æ‰§è¡Œæ—¶é—´
```

#### å®ç°æ–œæ å‘½ä»¤

åˆ›å»º `.claude/commands/sync-components.md` æ–‡ä»¶,é€šè¿‡ç®€å•å‘½ä»¤æ‰§è¡ŒåŒæ­¥:

```markdown
# Sync Components Command

è¯»å– `components-map.md` æ–‡ä»¶å¹¶åŒæ­¥æ‰€æœ‰çŠ¶æ€ä¸º "Needs Update" çš„ç»„ä»¶ã€‚

## ä½¿ç”¨æ–¹æ³•

```bash
/sync-components
```

## æ“ä½œæµç¨‹

1. è§£æ `components-map.md`
2. æ£€æŸ¥æ¯ä¸ªç»„ä»¶çš„çŠ¶æ€
3. ä»…å¤„ç†éœ€è¦æ›´æ–°çš„ç»„ä»¶
4. æäº¤å˜æ›´(å¯é€‰)

## å§”æ‰˜

æ­¤å‘½ä»¤å°†å·¥ä½œå§”æ‰˜ç»™ Figma Sync Agent:

```
@figma-sync "åŒæ­¥ components-map.md ä¸­çš„æ‰€æœ‰ç»„ä»¶ã€‚
ä»…æ›´æ–°æœ‰å˜æ›´çš„ç»„ä»¶,è·³è¿‡æœ€æ–°çŠ¶æ€çš„ç»„ä»¶ã€‚"
```

## é€‰é¡¹

- `--all`:å¼ºåˆ¶æ›´æ–°æ‰€æœ‰ç»„ä»¶,ä¸è€ƒè™‘çŠ¶æ€
- `--component <name>`:ä»…åŒæ­¥ç‰¹å®šç»„ä»¶
- `--dry-run`:ä»…æ¨¡æ‹Ÿæ‰§è¡Œ,ä¸å®é™…ä¿®æ”¹æ–‡ä»¶
```

### æ™ºèƒ½æ›´æ–°é€»è¾‘

å®ç°å˜æ›´æ£€æµ‹å’Œé€‰æ‹©æ€§æ›´æ–°:

```typescript
// scripts/smart-sync.ts
interface SyncResult {
  updated: string[];
  skipped: string[];
  errors: Array<{ component: string; error: string }>;
  duration: number;
}

async function smartSync(mappingFile: string = 'components-map.md'): Promise<SyncResult> {
  const startTime = Date.now();
  const result: SyncResult = {
    updated: [],
    skipped: [],
    errors: [],
    duration: 0
  };

  // 1. è§£ææ˜ å°„æ–‡ä»¶
  const mappings = await parseComponentMap(mappingFile);
  console.log(`Found ${mappings.length} components to check`);

  // 2. æ£€æŸ¥æ¯ä¸ªç»„ä»¶
  for (const mapping of mappings) {
    try {
      const { fileKey, nodeId } = parseFigmaUrl(mapping.figmaUrl);
      const figmaComponent = await getFigmaComponent(fileKey, nodeId);
      const currentHash = generateHash(figmaComponent);

      // 3. æ¯”è¾ƒå“ˆå¸Œ
      if (currentHash === mapping.versionHash) {
        console.log(`âœ“ ${mapping.name} is up to date (skipped)`);
        result.skipped.push(mapping.name);
        continue;
      }

      // 4. éœ€è¦æ›´æ–°
      console.log(`âš  ${mapping.name} needs update`);
      console.log(`  Old: ${mapping.versionHash}`);
      console.log(`  New: ${currentHash}`);

      // 5. é‡æ–°ç”Ÿæˆç»„ä»¶ä»£ç 
      const componentCode = generateWebComponent(figmaComponent);
      await writeFile(mapping.componentPath, componentCode);

      // 6. æ›´æ–°æ˜ å°„æ–‡ä»¶
      await updateComponentMapping(mappingFile, mapping.name, {
        versionHash: currentHash,
        lastSynced: new Date().toISOString(),
        status: 'synced'
      });

      result.updated.push(mapping.name);
      console.log(`âœ“ ${mapping.name} updated successfully`);

    } catch (error) {
      console.error(`âœ— ${mapping.name} failed:`, error.message);
      result.errors.push({
        component: mapping.name,
        error: error.message
      });
    }
  }

  result.duration = Date.now() - startTime;
  return result;
}

// æ›´æ–°æ˜ å°„æ–‡ä»¶
async function updateComponentMapping(
  mappingFile: string,
  componentName: string,
  updates: Partial<ComponentMapping>
): Promise<void> {
  const content = await readFile(mappingFile, 'utf-8');
  const lines = content.split('\n');

  let inComponent = false;
  const updatedLines: string[] = [];

  for (const line of lines) {
    if (line.startsWith(`## ${componentName}`)) {
      inComponent = true;
      updatedLines.push(line);
      continue;
    }

    if (inComponent && line.startsWith('## ')) {
      inComponent = false;
    }

    if (inComponent) {
      if (line.startsWith('- Last Synced:') && updates.lastSynced) {
        updatedLines.push(`- Last Synced: ${updates.lastSynced}`);
      } else if (line.startsWith('- Version Hash:') && updates.versionHash) {
        updatedLines.push(`- Version Hash: ${updates.versionHash}`);
      } else if (line.startsWith('- Status:') && updates.status) {
        const statusIcon = updates.status === 'synced' ? 'âœ“' : 'âš ';
        const statusText = updates.status === 'synced' ? 'Synced' : 'Needs Update';
        updatedLines.push(`- Status: ${statusIcon} ${statusText}`);
      } else {
        updatedLines.push(line);
      }
    } else {
      updatedLines.push(line);
    }
  }

  await writeFile(mappingFile, updatedLines.join('\n'));
}
```

### æŠ€èƒ½å®ç°:çŠ¶æ€æ¯”è¾ƒ

åˆ›å»º `.claude/skills/component-comparison.md` æ–‡ä»¶å®šä¹‰ä¸ºå¯é‡ç”¨æŠ€èƒ½:

```markdown
# Component Comparison Skill

æ­¤æŠ€èƒ½æ¯”è¾ƒ Figma ç»„ä»¶å’Œæœ¬åœ° Web ç»„ä»¶çš„çŠ¶æ€ã€‚

## è¾“å…¥

- `figmaUrl`: Figma ç»„ä»¶ URL
- `localPath`: æœ¬åœ°ç»„ä»¶æ–‡ä»¶è·¯å¾„
- `lastHash`: æœ€åå·²çŸ¥çš„ç‰ˆæœ¬å“ˆå¸Œ

## è¾“å‡º

```typescript
{
  needsUpdate: boolean;
  currentHash: string;
  changes?: {
    properties: string[];
    styles: string[];
    structure: boolean;
  };
}
```

## å®ç°

```typescript
async function compareComponent(
  figmaUrl: string,
  localPath: string,
  lastHash: string
) {
  // 1. è·å– Figma ç»„ä»¶
  const { fileKey, nodeId } = parseFigmaUrl(figmaUrl);
  const figmaComponent = await getFigmaComponent(fileKey, nodeId);

  // 2. è®¡ç®—å½“å‰å“ˆå¸Œ
  const currentHash = generateHash(figmaComponent);

  // 3. æ¯”è¾ƒå“ˆå¸Œ
  if (currentHash === lastHash) {
    return { needsUpdate: false, currentHash };
  }

  // 4. åˆ†æè¯¦ç»†å˜æ›´
  const localComponent = await readFile(localPath, 'utf-8');
  const changes = analyzeChanges(figmaComponent, localComponent);

  return {
    needsUpdate: true,
    currentHash,
    changes
  };
}
```

## ä½¿ç”¨ç¤ºä¾‹

```typescript
const result = await compareComponent(
  'https://figma.com/file/ABC123/Design?node-id=1:234',
  'src/components/Button.ts',
  'abc123def456'
);

if (result.needsUpdate) {
  console.log('Component needs update');
  console.log('Changes:', result.changes);
} else {
  console.log('Component is up to date');
}
```
```

### åŸºäº Webhook çš„è‡ªåŠ¨åŒ–(å¯é€‰)

ä¸ Claude Code è‡ªåŠ¨åŒ–é…åˆä½¿ç”¨ Figma Webhooks å¯å®ç°å®æ—¶åŒæ­¥ã€‚

#### Webhook äº‹ä»¶ç±»å‹

```javascript
// å¯ç”¨çš„ Webhook äº‹ä»¶
{
  "FILE_UPDATE": "æ–‡ä»¶ä¿®æ”¹æ—¶è§¦å‘",
  "FILE_VERSION_UPDATE": "åˆ›å»ºæ–°å‘½åç‰ˆæœ¬æ—¶",
  "FILE_DELETE": "æ–‡ä»¶åˆ é™¤æ—¶",
  "LIBRARY_PUBLISH": "è®¾è®¡åº“å‘å¸ƒæ—¶",
  "PING": "Webhook è¿æ¥æµ‹è¯•"
}
```

#### åˆ›å»º Webhook

```javascript
// ä½¿ç”¨ Figma REST API
const axios = require('axios');

async function createWebhook() {
  const response = await axios.post(
    'https://api.figma.com/v2/webhooks',
    {
      event_type: 'LIBRARY_PUBLISH',
      team_id: 'YOUR_TEAM_ID',
      endpoint: 'https://your-server.com/webhook',
      passcode: 'YOUR_SECRET_PASSCODE',
      description: 'Design System Sync'
    },
    {
      headers: {
        'X-Figma-Token': process.env.FIGMA_API_KEY
      }
    }
  );

  return response.data;
}
```

#### å®ç° Webhook å¤„ç†å™¨

```javascript
// Node.js/Express Webhook å¤„ç†å™¨
const express = require('express');
const crypto = require('crypto');
const { exec } = require('child_process');

const app = express();
app.use(express.json());

app.post('/figma-webhook', async (req, res) => {
  const { event_type, passcode, file_key } = req.body;

  // 1. éªŒè¯ Webhook è®¤è¯
  if (passcode !== process.env.FIGMA_WEBHOOK_SECRET) {
    return res.status(401).json({ error: 'Invalid passcode' });
  }

  // 2. å¤„ç† PING äº‹ä»¶(åˆ›å»º Webhook æ—¶)
  if (event_type === 'PING') {
    return res.status(200).json({ message: 'Webhook verified' });
  }

  // 3. å¤„ç† LIBRARY_PUBLISH äº‹ä»¶
  if (event_type === 'LIBRARY_PUBLISH') {
    console.log(`Design library updated: ${file_key}`);

    // è§¦å‘åŒæ­¥å·¥ä½œæµ
    try {
      // é€‰é¡¹ A: è§¦å‘ GitHub Actions å·¥ä½œæµ
      await triggerGitHubAction(file_key);

      // é€‰é¡¹ B: ç›´æ¥æ‰§è¡ŒåŒæ­¥è„šæœ¬
      // exec(`npm run sync-tokens -- --file=${file_key}`);

      res.status(200).json({ message: 'Sync initiated' });
    } catch (error) {
      console.error('Sync failed:', error);
      res.status(500).json({ error: 'Sync failed' });
    }
  }
});

async function triggerGitHubAction(fileKey) {
  const axios = require('axios');

  await axios.post(
    `https://api.github.com/repos/OWNER/REPO/actions/workflows/sync-figma.yml/dispatches`,
    {
      ref: 'main',
      inputs: {
        figma_file_key: fileKey
      }
    },
    {
      headers: {
        'Authorization': `Bearer ${process.env.GITHUB_TOKEN}`,
        'Accept': 'application/vnd.github.v3+json'
      }
    }
  );
}

app.listen(3000, () => {
  console.log('Webhook server listening on port 3000');
});
```

### GitHub Actions CI/CD æµæ°´çº¿

é…ç½®å®Œæ•´çš„è‡ªåŠ¨åŒ–å·¥ä½œæµ:

````yaml
# .github/workflows/sync-figma-tokens.yml
name: Sync Figma Design Tokens

on:
  # ä» Webhook è§¦å‘
  repository_dispatch:
    types: [figma-library-publish]

  # æ‰‹åŠ¨è§¦å‘
  workflow_dispatch:
    inputs:
      figma_file_key:
        description: 'Figma file key to sync'
        required: false

  # å®šæœŸåŒæ­¥(æ¯å¤©å‡Œæ™¨ 2 ç‚¹)
  schedule:
    - cron: '0 2 * * *'

jobs:
  sync-tokens:
    runs-on: ubuntu-latest

    steps:
      # 1. æ£€å‡ºä»“åº“
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}

      # 2. è®¾ç½® Node.js
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'

      # 3. å®‰è£…ä¾èµ–
      - name: Install dependencies
        run: npm ci

      # 4. è·å– Figma variables
      - name: Fetch Figma variables
        env:
          FIGMA_API_KEY: ${{ secrets.FIGMA_API_KEY }}
          FIGMA_FILE_KEY: ${{ github.event.inputs.figma_file_key || vars.DEFAULT_FIGMA_FILE_KEY }}
        run: |
          npm run fetch-figma-tokens

      # 5. ä½¿ç”¨ Style Dictionary è½¬æ¢ä»¤ç‰Œ
      - name: Transform tokens
        run: npm run build-tokens

      # 6. ç”Ÿæˆ Web ç»„ä»¶(å¦‚é€‚ç”¨)
      - name: Generate components
        run: npm run generate-components

      # 7. è¿è¡Œæµ‹è¯•
      - name: Test components
        run: npm test

      # 8. æäº¤å˜æ›´
      - name: Commit changes
        run: |
          git config user.name "Figma Sync Bot"
          git config user.email "bot@company.com"
          git add .
          git diff --staged --quiet || git commit -m "chore: sync design tokens from Figma [skip ci]"
          git push

      # 9. åˆ›å»º Pull Request(æ›¿ä»£æ–¹æ¡ˆ)
      - name: Create Pull Request
        if: github.ref != 'refs/heads/main'
        uses: peter-evans/create-pull-request@v5
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          commit-message: 'chore: sync design tokens from Figma'
          title: 'Design Tokens Update from Figma'
          body: |
            ä» Figma è‡ªåŠ¨åŒæ­¥çš„è®¾è®¡ä»¤ç‰Œæ›´æ–°ã€‚

            **å˜æ›´:**
            - è®¾è®¡ä»¤ç‰Œæ›´æ–°
            - Web ç»„ä»¶é‡æ–°ç”Ÿæˆ
            - ç»„ä»¶æ ·å¼æ›´æ–°

            è¯·å®¡æŸ¥ç¡®è®¤ä¸€åˆ‡æ­£å¸¸ååˆå¹¶ã€‚
          branch: figma-sync/${{ github.run_id }}
          base: main
````

### Figma ä»¤ç‰Œè·å–è„šæœ¬

```javascript
// scripts/fetch-figma-tokens.js
const axios = require('axios');
const fs = require('fs').promises;

async function fetchFigmaVariables() {
  const fileKey = process.env.FIGMA_FILE_KEY;
  const apiKey = process.env.FIGMA_API_KEY;

  console.log('Fetching Figma variables...');

  // è·å–æ–‡ä»¶ variables
  const response = await axios.get(
    `https://api.figma.com/v1/files/${fileKey}/variables/local`,
    {
      headers: {
        'X-Figma-Token': apiKey
      }
    }
  );

  const variables = response.data.meta.variableCollections;

  // è½¬æ¢ä¸º Style Dictionary æ ¼å¼
  const tokens = transformToTokens(variables);

  // ä¿å­˜åˆ°æ–‡ä»¶
  await fs.writeFile(
    './design-tokens/figma-raw.json',
    JSON.stringify(tokens, null, 2)
  );

  console.log('âœ… Figma variables fetched successfully');
}

function transformToTokens(variables) {
  const tokens = {};

  for (const [collectionId, collection] of Object.entries(variables)) {
    const collectionName = collection.name.toLowerCase();
    tokens[collectionName] = {};

    for (const variable of collection.variables) {
      const tokenPath = variable.name.split('/');
      let current = tokens[collectionName];

      for (let i = 0; i < tokenPath.length - 1; i++) {
        const segment = tokenPath[i];
        if (!current[segment]) current[segment] = {};
        current = current[segment];
      }

      const tokenName = tokenPath[tokenPath.length - 1];
      current[tokenName] = {
        value: variable.resolvedValue,
        type: variable.resolvedType
      };
    }
  }

  return tokens;
}

fetchFigmaVariables().catch(console.error);
```

### åŸºäºè½®è¯¢çš„æ›¿ä»£æ–¹æ¡ˆ

å½“æ— æ³•ä½¿ç”¨ Webhook æ—¶,å¯ä»¥ä½¿ç”¨å®šæœŸåŒæ­¥æ–¹å¼:

```yaml
# å®šæœŸæ£€æŸ¥å·¥ä½œæµ
on:
  schedule:
    # æ¯ 6 å°æ—¶
    - cron: '0 */6 * * *'

  # æ‰‹åŠ¨è§¦å‘
  workflow_dispatch:

jobs:
  check-and-sync:
    runs-on: ubuntu-latest
    steps:
      - name: Get latest Figma version
        id: figma-version
        run: |
          VERSION=$(curl -H "X-Figma-Token: ${{ secrets.FIGMA_API_KEY }}" \
            "https://api.figma.com/v1/files/${{ vars.FIGMA_FILE_KEY }}" \
            | jq -r '.lastModified')
          echo "version=$VERSION" >> $GITHUB_OUTPUT

      - name: Check if update needed
        id: check-update
        run: |
          LAST_SYNC=$(cat .figma-last-sync || echo "")
          if [ "${{ steps.figma-version.outputs.version }}" != "$LAST_SYNC" ]; then
            echo "update-needed=true" >> $GITHUB_OUTPUT
          fi

      - name: Sync tokens
        if: steps.check-update.outputs.update-needed == 'true'
        run: npm run sync-tokens

      - name: Update last sync timestamp
        if: steps.check-update.outputs.update-needed == 'true'
        run: |
          echo "${{ steps.figma-version.outputs.version }}" > .figma-last-sync
          git add .figma-last-sync
          git commit -m "chore: update Figma sync timestamp"
          git push
```

## å®æˆ˜å®ç°ç¤ºä¾‹

### å®Œæ•´å·¥ä½œæµ(åŸºäº Claude Code)

```mermaid
sequenceDiagram
    participant Dev as Developer
    participant CC as Claude Code
    participant Agent as Figma Sync Agent
    participant MCP as Figma MCP
    participant Local as Local Files

    Dev->>CC: /sync-components
    CC->>Agent: Activate Figma Sync Agent
    Agent->>Local: Read components-map.md

    loop For each component
        Agent->>MCP: Get Figma component state
        MCP-->>Agent: Component data + metadata
        Agent->>Agent: Generate hash from metadata

        alt Hash differs
            Agent->>Agent: Component changed, needs update
            Agent->>MCP: Fetch full component details
            MCP-->>Agent: Complete component definition
            Agent->>Agent: Generate web component code
            Agent->>Local: Update component file
            Agent->>Local: Update components-map.md
            Note over Agent,Local: Status: âœ“ Synced<br/>New hash, timestamp
        else Hash matches
            Agent->>Agent: Component unchanged
            Note over Agent: Skip (no changes)
        end
    end

    Agent->>CC: Generate sync report
    CC->>Dev: Display results<br/>Updated: 3<br/>Skipped: 5<br/>Errors: 0
```

### å®ç”¨ä½¿ç”¨ç¤ºä¾‹

#### åˆå§‹è®¾ç½®

åœ¨é¡¹ç›®ä¸­è®¾ç½®ç»„ä»¶æ˜ å°„ç³»ç»Ÿ:

```bash
# 1. åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºæ˜ å°„æ–‡ä»¶
touch components-map.md

# 2. åˆ›å»º Claude Agents å’Œ Commands ç›®å½•
mkdir -p .claude/agents .claude/commands .claude/skills

# 3. åˆ›å»ºè„šæœ¬ç›®å½•
mkdir -p scripts

# 4. å®‰è£…æ‰€éœ€åŒ…
npm install --save-dev axios crypto
```

#### åˆå§‹åŒ–æ˜ å°„æ–‡ä»¶

```markdown
<!-- components-map.md -->
# Design System Component Mapping

æ­¤æ–‡ä»¶è·Ÿè¸ª Figma è®¾è®¡ç³»ç»Ÿç»„ä»¶ä¸ Web ç»„ä»¶çš„æ˜ å°„ã€‚

## Button Component
- Figma URL: https://figma.com/file/ABC123/Design-System?node-id=1:234
- Component Path: src/components/ds-button.ts
- Last Synced: 2025-11-10T10:30:00Z
- Version Hash: abc123def456
- Status: âœ“ Synced

## Card Component
- Figma URL: https://figma.com/file/ABC123/Design-System?node-id=2:345
- Component Path: src/components/ds-card.ts
- Last Synced: (not yet synced)
- Version Hash: (none)
- Status: âš  Needs Update
```

#### ä½¿ç”¨ Claude Code æ‰§è¡ŒåŒæ­¥

```bash
# å¼€å‘è€…æ‰§è¡Œçš„å‘½ä»¤
/sync-components
```

<strong>é¢„æœŸè¾“å‡º:</strong>

```
âœ“ Figma Sync Agent activated
âœ“ Reading components-map.md...
  Found 2 components to check

Checking Button Component...
  Fetching from Figma: ABC123/1:234
  Current hash: abc123def456
  Status: âœ“ Up to date (skipped)

Checking Card Component...
  Fetching from Figma: ABC123/2:345
  Status: âš  Not yet synced
  Generating web component code...
  Writing to: src/components/ds-card.ts
  âœ“ Component created successfully
  Updating components-map.md...
  New hash: xyz789abc123
  âœ“ Mapping updated

--- Sync Report ---
Duration: 3.2s
Updated: 1 (Card Component)
Skipped: 1 (Button Component)
Errors: 0

âœ“ Sync completed successfully!
```

#### ç”Ÿæˆçš„ç»„ä»¶ç¤ºä¾‹

è‡ªåŠ¨ç”Ÿæˆçš„ Card ç»„ä»¶:

```typescript
// src/components/ds-card.ts
class DSCard extends HTMLElement {
  static get observedAttributes() {
    return ['variant', 'elevated'];
  }

  constructor() {
    super();
    this.attachShadow({ mode: 'open' });
  }

  connectedCallback() {
    this.render();
  }

  attributeChangedCallback(name: string, oldValue: string, newValue: string) {
    if (oldValue !== newValue) {
      this.render();
    }
  }

  get variant() {
    return this.getAttribute('variant') || 'default';
  }

  get elevated() {
    return this.hasAttribute('elevated');
  }

  render() {
    const variantClass = `card--${this.variant}`;
    const elevatedClass = this.elevated ? 'card--elevated' : '';

    this.shadowRoot!.innerHTML = `
      <style>
        /* ä» Figma æå–çš„è®¾è®¡ä»¤ç‰Œ */
        :host {
          --card-bg: var(--color-surface, #ffffff);
          --card-border: var(--color-border, #e0e0e0);
          --card-radius: var(--radius-lg, 8px);
          --card-padding: var(--space-lg, 24px);
          --card-shadow: var(--shadow-sm, 0 2px 4px rgba(0,0,0,0.1));
        }

        .card {
          background: var(--card-bg);
          border: 1px solid var(--card-border);
          border-radius: var(--card-radius);
          padding: var(--card-padding);
          box-sizing: border-box;
        }

        .card--elevated {
          box-shadow: var(--card-shadow);
          border: none;
        }

        .card--outlined {
          border-width: 2px;
        }

        ::slotted([slot="header"]) {
          margin-bottom: var(--space-md, 16px);
          font-weight: var(--weight-bold, 700);
        }

        ::slotted([slot="footer"]) {
          margin-top: var(--space-md, 16px);
          border-top: 1px solid var(--card-border);
          padding-top: var(--space-md, 16px);
        }
      </style>

      <div class="card ${variantClass} ${elevatedClass}">
        <slot name="header"></slot>
        <slot></slot>
        <slot name="footer"></slot>
      </div>
    `;
  }
}

// æ³¨å†Œè‡ªå®šä¹‰å…ƒç´ 
if (!customElements.get('ds-card')) {
  customElements.define('ds-card', DSCard);
}

export default DSCard;
```

<strong>ä½¿ç”¨ç¤ºä¾‹:</strong>

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <link rel="stylesheet" href="/styles/tokens.css">
  <script type="module" src="/components/ds-card.js"></script>
</head>
<body>
  <ds-card variant="outlined" elevated>
    <h2 slot="header">å¡ç‰‡æ ‡é¢˜</h2>
    <p>å¡ç‰‡å†…å®¹ã€‚</p>
    <div slot="footer">
      <button>ç¡®è®¤</button>
    </div>
  </ds-card>
</body>
</html>
```

### å®é™…æŒ‰é’®ç»„ä»¶ç¤ºä¾‹

å®Œæ•´çš„ç”Ÿäº§å°±ç»ªæŒ‰é’®ç»„ä»¶:

```javascript
// components/ds-button.js
class DSButton extends HTMLElement {
  static get observedAttributes() {
    return ['variant', 'size', 'disabled', 'loading'];
  }

  constructor() {
    super();
    this.attachShadow({ mode: 'open' });
  }

  connectedCallback() {
    this.render();
    this.attachEventListeners();
  }

  attributeChangedCallback(name, oldValue, newValue) {
    if (oldValue !== newValue) {
      this.render();
    }
  }

  get variant() {
    return this.getAttribute('variant') || 'primary';
  }

  get size() {
    return this.getAttribute('size') || 'md';
  }

  get disabled() {
    return this.hasAttribute('disabled');
  }

  get loading() {
    return this.hasAttribute('loading');
  }

  render() {
    const variantClass = `btn--${this.variant}`;
    const sizeClass = `btn--${this.size}`;
    const disabledClass = this.disabled ? 'btn--disabled' : '';
    const loadingClass = this.loading ? 'btn--loading' : '';

    this.shadowRoot.innerHTML = `
      <style>
        /* ä»è®¾è®¡ä»¤ç‰Œè·å–çš„æ ·å¼ */
        :host {
          display: inline-block;
        }

        .btn {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          gap: var(--space-xs);
          border: none;
          border-radius: var(--radius-md);
          cursor: pointer;
          font-family: var(--font-family-base);
          font-weight: var(--weight-medium);
          transition: all 0.2s ease;
          position: relative;
        }

        /* Sizes */
        .btn--sm {
          padding: var(--space-xs) var(--space-sm);
          font-size: var(--text-sm);
          min-height: 32px;
        }

        .btn--md {
          padding: var(--space-sm) var(--space-md);
          font-size: var(--text-md);
          min-height: 40px;
        }

        .btn--lg {
          padding: var(--space-md) var(--space-lg);
          font-size: var(--text-lg);
          min-height: 48px;
        }

        /* Variants */
        .btn--primary {
          background: var(--color-primary);
          color: var(--color-on-primary);
        }

        .btn--primary:hover:not(.btn--disabled) {
          background: var(--color-primary-hover);
        }

        .btn--secondary {
          background: var(--color-secondary);
          color: var(--color-on-secondary);
        }

        .btn--secondary:hover:not(.btn--disabled) {
          background: var(--color-secondary-hover);
        }

        .btn--tertiary {
          background: transparent;
          color: var(--color-primary);
          border: 1px solid var(--color-border);
        }

        .btn--tertiary:hover:not(.btn--disabled) {
          background: var(--color-surface-hover);
        }

        /* States */
        .btn--disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .btn--loading {
          pointer-events: none;
        }

        .btn--loading .btn__content {
          opacity: 0;
        }

        /* Spinner */
        .spinner {
          position: absolute;
          width: 16px;
          height: 16px;
          border: 2px solid currentColor;
          border-top-color: transparent;
          border-radius: 50%;
          animation: spin 0.6s linear infinite;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      </style>

      <button
        class="btn ${variantClass} ${sizeClass} ${disabledClass} ${loadingClass}"
        ${this.disabled ? 'disabled' : ''}
      >
        ${this.loading ? '<span class="spinner"></span>' : ''}
        <span class="btn__content">
          <slot></slot>
        </span>
      </button>
    `;
  }

  attachEventListeners() {
    const button = this.shadowRoot.querySelector('button');
    button.addEventListener('click', (e) => {
      if (this.disabled || this.loading) {
        e.preventDefault();
        e.stopPropagation();
        return;
      }

      // å‘å‡ºè‡ªå®šä¹‰äº‹ä»¶
      this.dispatchEvent(new CustomEvent('ds-click', {
        bubbles: true,
        composed: true,
        detail: { originalEvent: e }
      }));
    });
  }
}

// æ³¨å†Œç»„ä»¶
customElements.define('ds-button', DSButton);
```

<strong>ä½¿ç”¨ç¤ºä¾‹:</strong>

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Design System Demo</title>

  <!-- è®¾è®¡ä»¤ç‰Œ -->
  <link rel="stylesheet" href="/styles/tokens.css">

  <!-- ç»„ä»¶ -->
  <script src="/components/ds-button.js"></script>
</head>
<body>
  <h1>æŒ‰é’®ç»„ä»¶ç¤ºä¾‹</h1>

  <!-- Primary æŒ‰é’® -->
  <ds-button variant="primary" size="md">
    Primary Button
  </ds-button>

  <!-- Secondary æŒ‰é’® -->
  <ds-button variant="secondary" size="lg">
    Secondary Button
  </ds-button>

  <!-- Tertiary æŒ‰é’® -->
  <ds-button variant="tertiary" size="sm">
    Tertiary Button
  </ds-button>

  <!-- Disabled çŠ¶æ€ -->
  <ds-button variant="primary" disabled>
    Disabled Button
  </ds-button>

  <!-- Loading çŠ¶æ€ -->
  <ds-button variant="primary" loading>
    Loading...
  </ds-button>

  <script>
    // äº‹ä»¶ç›‘å¬
    document.querySelectorAll('ds-button').forEach(btn => {
      btn.addEventListener('ds-click', (e) => {
        console.log('Button clicked!', e.detail);
      });
    });
  </script>
</body>
</html>
```

## å®é™…æ¡ˆä¾‹ç ”ç©¶

### Case Study 1: IBM Carbon Design System

<strong>æ¥æº:</strong> Carbon and Figma Code Connect

<strong>æ–¹æ³•:</strong>
- å®˜æ–¹ Code Connect é›†æˆ
- è‡ªåŠ¨åŒ– GitHub Actions å·¥ä½œæµ
- ä» @carbon/react åˆ° Figma çš„å®æ—¶åŒæ­¥

<strong>æ¶æ„:</strong>

```
Carbon Design System
â”œâ”€â”€ Figma Library(è®¾è®¡çœŸå®æ¥æº)
â”œâ”€â”€ Code Connect Definitions
â”œâ”€â”€ React Components(@carbon/react)
â””â”€â”€ GitHub Actions(è‡ªåŠ¨åŒæ­¥)
```

<strong>å·¥ä½œæµ:</strong>
1. è®¾è®¡å¸ˆåœ¨ Figma ä¸­æ›´æ–°ç»„ä»¶
2. Code Connect æ˜ å°„ Figma â†’ React props
3. GitHub Action å‘å¸ƒå˜æ›´
4. å¼€å‘è€…åœ¨ Figma Dev Mode ä¸­æŸ¥çœ‹æ›´æ–°çš„ä»£ç ç‰‡æ®µ

<strong>æˆæœ:</strong>
- é›¶æ‰‹åŠ¨æ–‡æ¡£åŒ–
- å§‹ç»ˆä¿æŒæœ€æ–°çš„ä»£ç ç¤ºä¾‹
- è®¾è®¡-å¼€å‘äº¤æ¥æ—¶é—´ç¼©çŸ­ 60%

### Case Study 2: Uber Design System

<strong>æ¥æº:</strong> YouTube - Deep Dive into Uber's Design Systems

<strong>è§„æ¨¡:</strong>
- 200+ ç»„ä»¶
- 10+ å¹³å°(iOSã€Androidã€Web ç­‰)
- 1,000+ è®¾è®¡å¸ˆå’Œå¼€å‘è€…

<strong>å¤šåº“ç­–ç•¥:</strong>

```
Uber Design System
â”œâ”€â”€ Foundations.fig(é¢œè‰²ã€æ’ç‰ˆã€é—´è·)
â”œâ”€â”€ Components-Mobile.fig(iOS/Android ç»„ä»¶)
â”œâ”€â”€ Components-Web.fig(Web ç»„ä»¶)
â”œâ”€â”€ Patterns.fig(å¤æ‚æ¨¡å¼)
â””â”€â”€ Icons.fig(å›¾æ ‡åº“)
```

<strong>ä»¤ç‰Œç®¡ç†:</strong>
- æ‰€æœ‰è®¾è®¡ä»¤ç‰Œä½¿ç”¨ Figma Variables
- ä½¿ç”¨ Style Dictionary è¿›è¡Œå¤šå¹³å°å¯¼å‡º
- è‡ªåŠ¨åŒ– CI/CD æµæ°´çº¿
- æ¯å‘¨åŒæ­¥è®¡åˆ’

### Case Study 3: Wealthsimple Design System

<strong>æ¥æº:</strong> Medium - From messy Figma files to a coded design system

<strong>æŒ‘æˆ˜:</strong>
- äº§å“ä¸­ Figma æ–‡ä»¶ä¸ä¸€è‡´
- ç¼ºä¹å•ä¸€çœŸå®æ¥æº
- æ‰‹åŠ¨è®¾è®¡-ä»£ç äº¤æ¥

<strong>è§£å†³æ–¹æ¡ˆ:</strong>
1. æ•´åˆ Figma ç»„ä»¶åº“
2. ä¸å·¥ç¨‹å›¢é˜Ÿæ¯å‘¨ç»„ä»¶æ¼”ç¤º
3. å»ºç«‹å‘½åè§„èŒƒ
4. å®ç° Figma â†’ ä»£ç å·¥ä½œæµ

<strong>æ ¸å¿ƒå­¦ä¹ :</strong>
> "æˆ‘ä»¬å­¦åˆ°äº†ä»€ä¹ˆæœ‰æ•ˆã€ä»€ä¹ˆæ— æ•ˆã€‚ä½œä¸ºç¼–ç çŸ¥è¯†æœ‰é™çš„è®¾è®¡å¸ˆ,åœ¨æ”¶åˆ°å‰ç«¯/QA åé¦ˆä¹‹å‰,æˆ‘ä»¬çœ‹åˆ°äº†ä¸€äº›å¸¦æœ‰æŠ€æœ¯å‡è®¾çš„è®¾è®¡ã€‚"

<strong>ç»“æœ:</strong>
- äº§å“é—´ä¸€è‡´çš„è§†è§‰è¯­è¨€
- æ›´å¿«çš„è®¾è®¡-å¼€å‘äº¤æ¥
- å‡å°‘æŠ€æœ¯å€ºåŠ¡
- æ›´å¥½çš„è®¾è®¡å¸ˆ-å¼€å‘è€…åä½œ

## æ³¨æ„äº‹é¡¹å’Œæ•…éšœæ’é™¤

### å®‰å…¨è€ƒè™‘

<strong>API å¯†é’¥ç®¡ç†:</strong>

```bash
# âŒ ç»å¯¹ä¸è¦è¿™æ ·åš
git add .env
git commit -m "Add API keys"

# âœ… æ­£ç¡®æ–¹æ³•
# æ·»åŠ åˆ° .gitignore
echo ".env" >> .gitignore

# ä½¿ç”¨ GitHub Secrets
# Settings â†’ Secrets â†’ Actions â†’ New repository secret
```

<strong>ä¿æŠ¤ç¯å¢ƒå˜é‡:</strong>

```yaml
# åœ¨ GitHub Actions ä¸­
env:
  FIGMA_API_KEY: ${{ secrets.FIGMA_API_KEY }}
  # ç»ä¸ç¡¬ç¼–ç 
```

<strong>éªŒè¯ Webhook:</strong>

```javascript
// ä½¿ç”¨ Passcode éªŒè¯ Webhook
if (req.body.passcode !== process.env.FIGMA_WEBHOOK_SECRET) {
  return res.status(401).json({ error: 'Unauthorized' });
}

// ä»…ä½¿ç”¨ HTTPS
// æ‹’ç» HTTP Webhook ç«¯ç‚¹
```

### æ€§èƒ½ä¼˜åŒ–

<strong>è®¾è®¡å±‚:</strong>
- ä¿æŒ Figma æ–‡ä»¶åœ¨ 50MB ä»¥ä¸‹
- ä½¿ç”¨ç»„ä»¶è€Œéå¸§
- é™åˆ¶æ’ä»¶ä½¿ç”¨
- å®šæœŸæ–‡ä»¶æ¸…ç†

<strong>ä»£ç å±‚:</strong>
- ç»„ä»¶æ‡’åŠ è½½
- JavaScript æœ€å°åŒ–
- ä½¿ç”¨çº¯ CSS åŠ¨ç”»
- ä¼˜åŒ–æ‰“åŒ…å¤§å°

<strong>åŒæ­¥å±‚:</strong>
- Webhook è°ƒç”¨é˜²æŠ–
- å®ç°é€Ÿç‡é™åˆ¶
- ç¼“å­˜ API å“åº”
- ä»…æ‰§è¡Œå¢é‡æ›´æ–°

### å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

<strong>é—®é¢˜ 1: Webhook æœªè§¦å‘</strong>

```javascript
// è§£å†³æ–¹æ¡ˆ:æ£€æŸ¥ Webhook çŠ¶æ€
async function checkWebhookStatus() {
  const response = await axios.get(
    'https://api.figma.com/v2/webhooks',
    {
      headers: {
        'X-Figma-Token': process.env.FIGMA_API_KEY
      }
    }
  );

  console.log('Active webhooks:', response.data);
}
```

<strong>é—®é¢˜ 2: ä»¤ç‰Œè½¬æ¢å¤±è´¥</strong>

```javascript
// è§£å†³æ–¹æ¡ˆ:è½¬æ¢å‰éªŒè¯æ¨¡å¼
function validateTokenSchema(tokens) {
  const requiredFields = ['colors', 'spacing', 'typography'];

  for (const field of requiredFields) {
    if (!tokens[field]) {
      throw new Error(`Missing required token collection: ${field}`);
    }
  }

  return true;
}
```

<strong>é—®é¢˜ 3: ç»„ä»¶å†²çª</strong>

```javascript
// è§£å†³æ–¹æ¡ˆ:æ³¨å†Œå‰æ£€æŸ¥ç»„ä»¶
if (customElements.get('ds-button')) {
  console.warn('ds-button already registered');
} else {
  customElements.define('ds-button', DSButton);
}
```

## ç»“è®º

### æ ¸å¿ƒæ€»ç»“

æˆªè‡³ 2025 å¹´,Figma MCP ä¸ Web ç»„ä»¶çš„é›†æˆæ˜¯æˆç†Ÿä¸”ç”Ÿäº§å°±ç»ªçš„æ–¹æ³•:

<strong>æ ¸å¿ƒæˆæœ:</strong>
- <strong>Figma MCP</strong> è·å¾—å®˜æ–¹æ”¯æŒä¸”æ­£åœ¨ç§¯æå¼€å‘
- <strong>Web ç»„ä»¶</strong>åœ¨æ‰€æœ‰ä¸»æµæµè§ˆå™¨ä¸­æ— éœ€ polyfill å³å¯æ”¯æŒ
- <strong>è®¾è®¡ä»¤ç‰Œ</strong>æ­£åœ¨è¿›è¡Œ W3C æ ‡å‡†åŒ–
- <strong>è‡ªåŠ¨åŒ–å·¥å…·</strong>(Webhookã€GitHub Actions)ç¨³å®šä¸”æ–‡æ¡£å®Œå–„

<strong>é‡‡ç”¨çš„æ”¶ç›Š:</strong>
- å¼¥åˆè®¾è®¡-ä»£ç é¸¿æ²Ÿ
- ä¸€è‡´çš„è®¾è®¡ç³»ç»Ÿ
- æé«˜å¼€å‘ç”Ÿäº§åŠ›
- é™ä½ç»´æŠ¤æˆæœ¬
- å¯æ‰©å±•çš„æ¶æ„

### å…¥é—¨è·¯çº¿å›¾

<strong>ç¬¬ 1 é˜¶æ®µ:æ„å»ºåŸºç¡€(1ã€œ2 å‘¨)</strong>
- è®¾ç½® Figma ç»„ä»¶åº“
- åˆ›å»º `components-map.md` æ˜ å°„æ–‡ä»¶
- å®šä¹‰è®¾è®¡ä»¤ç‰Œç»“æ„
- å»ºç«‹å‘½åè§„èŒƒ

<strong>ç¬¬ 2 é˜¶æ®µ:Claude Code è®¾ç½®(1 å‘¨)</strong>
- å®šä¹‰ `.claude/agents/figma-sync.md` ä»£ç†
- åˆ›å»º `.claude/commands/sync-components.md` æ–œæ å‘½ä»¤
- å®ç° `.claude/skills/component-comparison.md` æŠ€èƒ½
- è¿æ¥å’Œæµ‹è¯• Figma MCP

<strong>ç¬¬ 3 é˜¶æ®µ:è‡ªåŠ¨åŒ–è„šæœ¬(2ã€œ3 å‘¨)</strong>
- ç»„ä»¶å…ƒæ•°æ®æå–è„šæœ¬
- åŸºäºå“ˆå¸Œçš„å˜æ›´æ£€æµ‹é€»è¾‘
- Web ç»„ä»¶ä»£ç ç”Ÿæˆå™¨
- æ˜ å°„æ–‡ä»¶æ›´æ–°é€»è¾‘

<strong>ç¬¬ 4 é˜¶æ®µ:é›†æˆå’Œæµ‹è¯•(1ã€œ2 å‘¨)</strong>
- ä½¿ç”¨ `/sync-components` å‘½ä»¤æµ‹è¯•å®Œæ•´å·¥ä½œæµ
- éªŒè¯é€‰æ‹©æ€§æ›´æ–°
- é”™è¯¯å¤„ç†å’Œæ¢å¤æœºåˆ¶
- æ”¹è¿›åŒæ­¥æŠ¥å‘Š

<strong>ç¬¬ 5 é˜¶æ®µ:é«˜çº§åŠŸèƒ½(å¯é€‰,2ã€œ3 å‘¨)</strong>
- é€šè¿‡ Webhook å®ç°å®æ—¶åŒæ­¥
- æ„å»º GitHub Actions æµæ°´çº¿
- è‡ªåŠ¨ PR åˆ›å»º
- Slack/Discord é€šçŸ¥é›†æˆ

### æœªæ¥å±•æœ›

<strong>é¢„æœŸå‘å±•(2025ã€œ2026):</strong>

1. <strong>å¢å¼ºçš„ AI é›†æˆ</strong>
   - æ›´å¤æ‚çš„ MCP å·¥å…·
   - æ›´å¥½çš„ä¸Šä¸‹æ–‡ç†è§£
   - æ›´æ™ºèƒ½çš„ä»£ç ç”Ÿæˆ
   - è‡ªåŠ¨åŒ–æµ‹è¯•å»ºè®®

2. <strong>æ”¹è¿›çš„å·¥å…·</strong>
   - å®˜æ–¹ Figma CLI
   - æ›´å¥½çš„è°ƒè¯•å·¥å…·
   - å¢å¼ºçš„ Code Connect åŠŸèƒ½
   - è®¾è®¡å˜æ›´çš„å¯è§†åŒ– diff å·¥å…·

3. <strong>æ ‡å‡†æˆç†ŸåŒ–</strong>
   - W3C Design Tokens æœ€ç»ˆç¡®å®š
   - è¡Œä¸šèŒƒå›´é‡‡ç”¨
   - å·¥å…·é—´äº’æ“ä½œæ€§
   - æ›´å¥½çš„æ–‡æ¡£

4. <strong>å¹³å°æ¼”è¿›</strong>
   - Figma Make æ­£å¼å‘å¸ƒ
   - æ›´å¤š MCP æœåŠ¡å™¨åŠŸèƒ½
   - å¢å¼ºçš„ Webhook åŠŸèƒ½
   - æ›´å¥½çš„ API é€Ÿç‡é™åˆ¶

### æœ€åå»ºè®®

æ„å»ºè®¾è®¡ç³»ç»Ÿæ˜¯é©¬æ‹‰æ¾,ä¸æ˜¯çŸ­è·‘ã€‚<strong>ä»å°å¤„å¼€å§‹,é¢‘ç¹è¿­ä»£,ä¸å›¢é˜Ÿæ²Ÿé€šã€‚</strong>

<strong>æˆåŠŸçš„å…³é”®:</strong>
- <strong>å•ä¸€çœŸå®æ¥æº:</strong> ä½¿ç”¨ `components-map.md` æ–‡ä»¶é›†ä¸­ç®¡ç†æ‰€æœ‰ç»„ä»¶
- <strong>æ™ºèƒ½è‡ªåŠ¨åŒ–:</strong> ä½¿ç”¨ Claude Code ä»£ç†è¿›è¡Œå˜æ›´æ£€æµ‹å’Œé€‰æ‹©æ€§æ›´æ–°
- <strong>åŸºäºå“ˆå¸Œçš„éªŒè¯:</strong> æœ€å°åŒ–ä¸å¿…è¦çš„æ›´æ–°ä»¥æœ€å¤§åŒ–æ•ˆç‡
- <strong>æ¸è¿›å¼é‡‡ç”¨:</strong> ä¸è¦ä¸€æ¬¡è½¬æ¢æ‰€æœ‰ç»„ä»¶,ä»æ ¸å¿ƒå¼€å§‹
- <strong>å›¢é˜Ÿåä½œ:</strong> è®¾è®¡å¸ˆå’Œå¼€å‘è€…å…±åŒç®¡ç†æ˜ å°„æ–‡ä»¶

<strong>å®æˆ˜æŠ€å·§:</strong>

1. <strong>ä»ç¬¬ä¸€ä¸ªç»„ä»¶å¼€å§‹:</strong> ä½¿ç”¨ Button æˆ– Card ç­‰ç®€å•ç»„ä»¶éªŒè¯å·¥ä½œæµ
2. <strong>å®šæœŸåŒæ­¥:</strong> å°† `/sync-components` å‘½ä»¤çº³å…¥æ¯å‘¨ä¾‹è¡Œå·¥ä½œ
3. <strong>å®¡æŸ¥å˜æ›´:</strong> å³ä½¿æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç ä¹Ÿå¿…é¡»å®¡æŸ¥
4. <strong>ç‰ˆæœ¬æ§åˆ¶:</strong> ä½¿ç”¨ Git è·Ÿè¸ªæ˜ å°„æ–‡ä»¶å’Œç”Ÿæˆçš„ç»„ä»¶
5. <strong>æ–‡æ¡£åŒ–:</strong> åœ¨ README ä¸­è®°å½•æ¯ä¸ªç»„ä»¶çš„ç”¨æ³•å’Œçº¦æŸ

<strong>åº”é¿å…çš„é”™è¯¯:</strong>

- âœ— æ²¡æœ‰æ˜ å°„æ–‡ä»¶æ‰‹åŠ¨åˆ›å»ºç»„ä»¶(å¤±å»ä¸€è‡´æ€§)
- âœ— å¼ºåˆ¶æ›´æ–°æ‰€æœ‰ç»„ä»¶(å¢åŠ ä¸å¿…è¦çš„å·¥ä½œ)
- âœ— æ²¡æœ‰å“ˆå¸ŒéªŒè¯ç”Ÿæˆä»£ç (é‡å¤å·¥ä½œ)
- âœ— ä»…å°† Figma å˜æ›´åæ˜ åˆ°ä»£ç (åŒå‘åŒæ­¥å¤±è´¥)
- âœ— é”™è¯¯å¤„ç†ä¸è¶³(éƒ¨åˆ†å¤±è´¥æ—¶æ•´ä¸ªåŒæ­¥ä¸­æ–­)

å¸Œæœ›è¿™ä¸ªæŒ‡å—åœ¨æ„å»ºç°ä»£è®¾è®¡-ä»£ç å·¥ä½œæµçš„æ—…ç¨‹ä¸­æˆä¸ºæ‚¨åšå®çš„ä¼™ä¼´ã€‚æˆªè‡³ 2025 å¹´,Claude Code ä¸ MCP çš„ç»„åˆæ˜¯æœ€å®ç”¨ä¸”å¯ç»´æŠ¤çš„æ–¹æ³•ã€‚

---

## å‚è€ƒèµ„æ–™

### å®˜æ–¹æ–‡æ¡£
- [Figma MCP Server å®˜æ–¹æ–‡æ¡£](https://developers.figma.com/docs/figma-mcp-server/)
- [MDN Web Components](https://developer.mozilla.org/en-US/docs/Web/API/Web_components)
- [W3C Design Tokens](https://github.com/design-tokens/community-group)
- [Style Dictionary](https://amzn.github.io/style-dictionary)

### å·¥å…·å’Œåº“
- [Code Connect](https://github.com/figma/code-connect)
- [Figmagic](https://github.com/mikaelvesavuori/figmagic)
- [Lit](https://lit.dev)
- [Tokens Studio](https://tokens.studio)

### ç¤¾åŒºèµ„æº
- [Figma Design Systems Forum](https://forum.figma.com)
- [Web Components Community](https://webcomponents.org)
- [Design Tokens Community](https://designtokens.org)
