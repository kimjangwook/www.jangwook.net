---
title: ä½¿ç”¨Claude Codeå®ç°å¤§è§„æ¨¡é¡µé¢æµ‹è¯•å¹¶è¡Œè‡ªåŠ¨åŒ–
description: é€šè¿‡Claude Codeä»£ç†å’ŒPlaywrightå°†ç½‘é¡µè¿ç§»æµ‹è¯•é€Ÿåº¦æå‡5-8å€çš„å®æˆ˜æŒ‡å—
pubDate: '2025-10-31'
heroImage: ../../../assets/blog/claude-code-parallel-testing-hero.jpg
tags:
  - claude-code
  - testing
  - playwright
  - automation
  - parallel-execution
relatedPosts:
  - slug: llm-page-migration-standardization
    score: 0.95
    reason:
      ko: 'ìë™í™”, ì›¹ ê°œë°œ, AI/ML, DevOps, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€Webé–‹ç™ºã€AI/MLã€DevOpsã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, web development, AI/ML, DevOps,
        architecture with comparable difficulty.
      zh: åœ¨è‡ªåŠ¨åŒ–ã€Webå¼€å‘ã€AI/MLã€DevOpsã€æ¶æ„é¢†åŸŸæ¶µç›–ç±»ä¼¼ä¸»é¢˜ï¼Œéš¾åº¦ç›¸å½“ã€‚
  - slug: google-analytics-mcp-automation
    score: 0.94
    reason:
      ko: 'ìë™í™”, AI/ML, DevOps, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€AI/MLã€DevOpsã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, AI/ML, DevOps, architecture with
        comparable difficulty.
      zh: åœ¨è‡ªåŠ¨åŒ–ã€AI/MLã€DevOpsã€æ¶æ„é¢†åŸŸæ¶µç›–ç±»ä¼¼ä¸»é¢˜ï¼Œéš¾åº¦ç›¸å½“ã€‚
  - slug: metadata-based-recommendation-optimization
    score: 0.93
    reason:
      ko: 'ìë™í™”, ì›¹ ê°œë°œ, AI/ML, DevOps, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€Webé–‹ç™ºã€AI/MLã€DevOpsã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, web development, AI/ML, DevOps,
        architecture with comparable difficulty.
      zh: åœ¨è‡ªåŠ¨åŒ–ã€Webå¼€å‘ã€AI/MLã€DevOpsã€æ¶æ„é¢†åŸŸæ¶µç›–ç±»ä¼¼ä¸»é¢˜ï¼Œéš¾åº¦ç›¸å½“ã€‚
  - slug: openai-agentkit-tutorial-part2
    score: 0.93
    reason:
      ko: 'ìë™í™”, AI/ML, DevOps, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€AI/MLã€DevOpsã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, AI/ML, DevOps, architecture with
        comparable difficulty.
      zh: åœ¨è‡ªåŠ¨åŒ–ã€AI/MLã€DevOpsã€æ¶æ„é¢†åŸŸæ¶µç›–ç±»ä¼¼ä¸»é¢˜ï¼Œéš¾åº¦ç›¸å½“ã€‚
  - slug: specification-driven-development
    score: 0.93
    reason:
      ko: 'ìë™í™”, AI/ML, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€AI/MLã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, AI/ML, architecture with comparable
        difficulty.
      zh: åœ¨è‡ªåŠ¨åŒ–ã€AI/MLã€æ¶æ„é¢†åŸŸæ¶µç›–ç±»ä¼¼ä¸»é¢˜ï¼Œéš¾åº¦ç›¸å½“ã€‚
---

## æ¦‚è¿°

[ä¸Šä¸€ç¯‡æ–‡ç« ](/ko/blog/ko/llm-page-migration-standardization)ä¸­ä»‹ç»äº†åˆ©ç”¨LLMè¿›è¡Œç½‘é¡µè¿ç§»çš„æ•´ä½“ç­–ç•¥ã€‚æœ¬æ–‡å°†ä»‹ç»<strong>åˆ©ç”¨Claude Codeçš„å¹¶è¡Œæ‰§è¡ŒåŠŸèƒ½å°†æµ‹è¯•è‡ªåŠ¨åŒ–é€Ÿåº¦æå‡5-8å€çš„å®æˆ˜å®ç°æ–¹æ³•</strong>ã€‚

åœ¨æ‹¥æœ‰50ã€œ500ä¸ªä»¥ä¸Šé¡µé¢çš„å¤§è§„æ¨¡è¿ç§»é¡¹ç›®ä¸­,æœ€å¤§çš„ç“¶é¢ˆæ˜¯<strong>æµ‹è¯•é˜¶æ®µ</strong>ã€‚å¦‚æœå¯¹æ¯ä¸ªé¡µé¢ä¾æ¬¡æ‰§è¡ŒE2Eã€å¯è®¿é—®æ€§ã€æ€§èƒ½å’ŒSEOæµ‹è¯•,å°†éœ€è¦æ•°åä¸ªå°æ—¶ã€‚

<strong>æœ¬æ–‡å†…å®¹</strong>:
- Claude Codeä»£ç†(Agent)å¹¶è¡Œæ‰§è¡Œæ¨¡å¼
- åŸºäºPlaywrightçš„æµ‹è¯•è‡ªåŠ¨ç”Ÿæˆ
- 5ç§æµ‹è¯•ç±»åˆ«åŒæ—¶æ‰§è¡Œ
- CI/CDæµæ°´çº¿é›†æˆ
- å®æˆ˜ä»£ç ç¤ºä¾‹å’Œæ€§èƒ½å¯¹æ¯”

## é—®é¢˜:é¡ºåºæµ‹è¯•çš„å±€é™

### ç°æœ‰æµ‹è¯•å·¥ä½œæµç¨‹

å¤§å¤šæ•°è¿ç§»é¡¹ç›®æŒ‰ç…§ä»¥ä¸‹æ–¹å¼é¡ºåºæ‰§è¡Œæµ‹è¯•:

```
é¡µé¢1 â†’ Web Componentæµ‹è¯• â†’ E2Eæµ‹è¯• â†’ A11yæµ‹è¯• â†’ æ€§èƒ½æµ‹è¯• â†’ SEOæµ‹è¯•
                                  â†“
é¡µé¢2 â†’ Web Componentæµ‹è¯• â†’ E2Eæµ‹è¯• â†’ A11yæµ‹è¯• â†’ æ€§èƒ½æµ‹è¯• â†’ SEOæµ‹è¯•
                                  â†“
é¡µé¢N â†’ ...
```

<strong>æ—¶é—´è®¡ç®—</strong>:
- æ¯é¡µå¹³å‡æµ‹è¯•æ—¶é—´: 5åˆ†é’Ÿ
- 100é¡µé¡¹ç›®: <strong>500åˆ†é’Ÿ(çº¦8.3å°æ—¶)</strong>
- 500é¡µé¡¹ç›®: <strong>2,500åˆ†é’Ÿ(çº¦41.7å°æ—¶)</strong>

### å¹¶è¡Œæ‰§è¡Œçš„å¿…è¦æ€§

ç»“åˆClaude Codeçš„ä»£ç†ç³»ç»Ÿå’ŒPlaywrightçš„å¹¶è¡Œæ‰§è¡Œ:

```
                    â”Œâ”€ Web Componentæµ‹è¯• (Agent 1)
                    â”œâ”€ E2Eæµ‹è¯• (Agent 2)
å…¨éƒ¨é¡µé¢ â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€ A11yæµ‹è¯• (Agent 3)
                    â”œâ”€ æ€§èƒ½æµ‹è¯• (Agent 4)
                    â””â”€ SEOæµ‹è¯• (Agent 5)
```

<strong>æ”¹è¿›åçš„æ—¶é—´</strong>:
- 100é¡µé¡¹ç›®: <strong>60-100åˆ†é’Ÿ(ç¼©çŸ­5-8å€)</strong>
- 500é¡µé¡¹ç›®: <strong>300-500åˆ†é’Ÿ(ç¼©çŸ­5-8å€)</strong>

## Claude Codeå¹¶è¡Œæ‰§è¡Œæ¶æ„

### æ ¸å¿ƒæ¦‚å¿µ: Task Toolçš„å¹¶è¡Œè°ƒç”¨

Claude Codeå¯ä»¥<strong>åœ¨å•ä¸ªæ¶ˆæ¯ä¸­åŒæ—¶è°ƒç”¨å¤šä¸ªTask tool</strong>ã€‚åˆ©ç”¨è¿™ä¸€ç‚¹å¯ä»¥å¹¶è¡Œæ‰§è¡Œç›¸äº’ç‹¬ç«‹çš„ä»»åŠ¡ã€‚

<strong>é”™è¯¯æ–¹æ³•(é¡ºåºæ‰§è¡Œ)</strong>:

```typescript
// âŒ æ¯ä¸ªTaskä½œä¸ºå•ç‹¬æ¶ˆæ¯è°ƒç”¨(é¡ºåºæ‰§è¡Œ)
await claude.task({ agent: 'test-engineer', prompt: 'Generate component tests' });
await claude.task({ agent: 'test-engineer', prompt: 'Generate E2E tests' });
await claude.task({ agent: 'web-accessibility-checker', prompt: 'Generate a11y tests' });
// æ€»æ—¶é—´: T1 + T2 + T3
```

<strong>æ­£ç¡®æ–¹æ³•(å¹¶è¡Œæ‰§è¡Œ)</strong>:

```typescript
// âœ… æ‰€æœ‰Taskåœ¨å•ä¸ªæ¶ˆæ¯ä¸­è°ƒç”¨(å¹¶è¡Œæ‰§è¡Œ)
await claude.message([
  { type: 'task', agent: 'test-engineer', prompt: 'Generate component tests' },
  { type: 'task', agent: 'test-engineer', prompt: 'Generate E2E tests' },
  { type: 'task', agent: 'web-accessibility-checker', prompt: 'Generate a11y tests' }
]);
// æ€»æ—¶é—´: max(T1, T2, T3)
```

### æ•´ä½“æ¶æ„

```mermaid
graph TB
    User[ç”¨æˆ·è¯·æ±‚] --> Main[Main Coordinator]
    Main --> Planning[Test Planning Agent]

    Planning --> Gen1[Test Generator 1<br/>Component Tests]
    Planning --> Gen2[Test Generator 2<br/>E2E Tests]
    Planning --> Gen3[Test Generator 3<br/>A11y Tests]
    Planning --> Gen4[Test Generator 4<br/>Performance Tests]
    Planning --> Gen5[Test Generator 5<br/>SEO Tests]

    Gen1 --> Exec1[Playwright Executor 1]
    Gen2 --> Exec2[Playwright Executor 2]
    Gen3 --> Exec3[Playwright Executor 3]
    Gen4 --> Exec4[Playwright Executor 4]
    Gen5 --> Exec5[Playwright Executor 5]

    Exec1 --> Report[Result Aggregator]
    Exec2 --> Report
    Exec3 --> Report
    Exec4 --> Report
    Exec5 --> Report

    Report --> Analysis[Claude Analysis Agent]
    Analysis --> Summary[æœ€ç»ˆæŠ¥å‘Šå’Œå»ºè®®]
```

## ç¬¬1æ­¥: ç¯å¢ƒè®¾ç½®

### å®‰è£…å¿…éœ€åŒ…

```bash
# Playwrightå’Œæµ‹è¯•å·¥å…·
npm install --save-dev @playwright/test
npm install --save-dev @axe-core/playwright
npm install --save-dev playwright-lighthouse
npm install --save-dev @open-wc/testing
npm install --save-dev web-vitals

# å®‰è£…Playwrightæµè§ˆå™¨
npx playwright install --with-deps
```

### Playwrightå¹¶è¡Œé…ç½®

åˆ›å»º`playwright.config.ts`:

```typescript
import { defineConfig, devices } from '@playwright/test';

export default defineConfig({
  testDir: './tests',

  // âœ… å¯ç”¨å®Œå…¨å¹¶è¡Œæ‰§è¡Œ
  fullyParallel: true,

  // âœ… è®¾ç½®Workeræ•°é‡(æ ¹æ®ç³»ç»Ÿèµ„æºè°ƒæ•´)
  workers: process.env.CI ? 4 : 8,

  // âœ… æŒ‰ç±»åˆ«å®šä¹‰é¡¹ç›®
  projects: [
    {
      name: 'components',
      testMatch: /.*components.*\.spec\.ts/,
      timeout: 10000,
    },
    {
      name: 'e2e-chrome',
      testMatch: /.*e2e.*\.spec\.ts/,
      timeout: 60000,
      use: { ...devices['Desktop Chrome'] },
    },
    {
      name: 'e2e-firefox',
      testMatch: /.*e2e.*\.spec\.ts/,
      timeout: 60000,
      use: { ...devices['Desktop Firefox'] },
    },
    {
      name: 'accessibility',
      testMatch: /.*accessibility.*\.spec\.ts/,
      timeout: 30000,
    },
    {
      name: 'performance',
      testMatch: /.*performance.*\.spec\.ts/,
      timeout: 120000,
    },
    {
      name: 'seo',
      testMatch: /.*seo.*\.spec\.ts/,
      timeout: 20000,
    },
  ],

  // âœ… é…ç½®æŠ¥å‘Šå™¨
  reporter: [
    ['html', { outputFolder: 'test-results/html' }],
    ['json', { outputFile: 'test-results/results.json' }],
    ['junit', { outputFile: 'test-results/junit.xml' }],
  ],

  // âœ… è‡ªåŠ¨å¯åŠ¨å¼€å‘æœåŠ¡å™¨
  webServer: {
    command: 'npm run dev',
    url: 'http://localhost:4321',
    reuseExistingServer: !process.env.CI,
    timeout: 120000,
  },
});
```

## ç¬¬2æ­¥: ä½¿ç”¨Claude Codeç”Ÿæˆæµ‹è¯•

### æµ‹è¯•ç”Ÿæˆè„šæœ¬

åˆ›å»º`scripts/generate-tests.ts`:

```typescript
import { readFileSync } from 'fs';

interface TestSpec {
  category: string;
  agent: string;
  prompt: string;
  outputDir: string;
}

async function generateTests(blogPostPath: string) {
  // è¯»å–åšå®¢æ–‡ç« 
  const content = readFileSync(blogPostPath, 'utf8');

  // æå–å¯æµ‹è¯•éƒ¨åˆ†
  const sections = analyzeContent(content);

  // ç”Ÿæˆæµ‹è¯•è§„æ ¼
  const testSpecs: TestSpec[] = [
    {
      category: 'components',
      agent: 'test-engineer',
      prompt: `Generate Web Component tests for Lit and Stencil examples.
               Target content: ${sections.components}

               Requirements:
               - Test Shadow DOM encapsulation
               - Test reactive property updates
               - Test event handling
               - Test slot composition
               - Output: tests/components/*.spec.ts`,
      outputDir: 'tests/components',
    },
    {
      category: 'e2e',
      agent: 'test-engineer',
      prompt: `Generate E2E Playwright tests for migration workflows.
               Target content: ${sections.workflows}

               Requirements:
               - Test HTML extraction (Playwright)
               - Test DOM analysis
               - Test LLM transformation validation
               - Test link validation
               - Output: tests/e2e/*.spec.ts`,
      outputDir: 'tests/e2e',
    },
    {
      category: 'accessibility',
      agent: 'web-accessibility-checker',
      prompt: `Generate axe-core accessibility tests.
               Target content: ${sections.accessibility}

               Requirements:
               - WCAG 2.1/2.2 compliance checks
               - Keyboard navigation tests
               - Color contrast validation
               - ARIA attribute verification
               - Output: tests/accessibility/*.spec.ts`,
      outputDir: 'tests/accessibility',
    },
    {
      category: 'performance',
      agent: 'test-engineer',
      prompt: `Generate Lighthouse and Core Web Vitals tests.
               Target content: ${sections.performance}

               Requirements:
               - LCP, FID, CLS measurements
               - TTFB and FCP tests
               - Bundle size analysis
               - Lighthouse audit integration
               - Output: tests/performance/*.spec.ts`,
      outputDir: 'tests/performance',
    },
    {
      category: 'seo',
      agent: 'seo-analyzer',
      prompt: `Generate SEO/AEO validation tests.
               Target content: ${sections.seo}

               Requirements:
               - Schema.org structured data validation
               - Open Graph meta tags
               - Twitter Cards verification
               - FAQ schema checks
               - Output: tests/seo/*.spec.ts`,
      outputDir: 'tests/seo',
    },
  ];

  // âœ… å¹¶è¡Œç”Ÿæˆæ‰€æœ‰æµ‹è¯•
  console.log('Generating tests in parallel with Claude Code...');
  await generateTestsInParallel(testSpecs);
}

function analyzeContent(content: string) {
  // ä»åšå®¢æ–‡ç« ä¸­æå–å¯æµ‹è¯•éƒ¨åˆ†
  const lines = content.split('\n');

  return {
    components: extractSection(lines, 78, 266),
    workflows: extractSection(lines, 360, 688),
    accessibility: extractSection(lines, 461, 483),
    performance: extractSection(lines, 485, 527),
    seo: extractSection(lines, 529, 577),
  };
}

function extractSection(lines: string[], start: number, end: number): string {
  return lines.slice(start - 1, end).join('\n');
}

async function generateTestsInParallel(specs: TestSpec[]) {
  // ä½¿ç”¨Claude Code CLIè¿›è¡Œå¹¶è¡Œæµ‹è¯•ç”Ÿæˆ
  // å®é™…å®ç°ä¸­è°ƒç”¨Claude Code MCP

  console.log(`\nğŸš€ Delegating to ${specs.length} Claude Code agents in parallel...\n`);

  // å•ä¸ªæ¶ˆæ¯ä¸­è°ƒç”¨æ‰€æœ‰ä»£ç†(å¹¶è¡Œæ‰§è¡Œ)
  const tasks = specs.map(spec => ({
    agent: spec.agent,
    description: `Generate ${spec.category} tests`,
    prompt: spec.prompt,
  }));

  // è¿™é‡Œå®é™…ä¸Šä¼šå¤šæ¬¡è°ƒç”¨Claude Code Task tool
  // (å•ä¸ªæ¶ˆæ¯ä¸­åŒ…å«å¤šä¸ªTask)
  console.log('Tasks dispatched:');
  tasks.forEach((task, i) => {
    console.log(`  ${i + 1}. ${task.description} (${task.agent})`);
  });

  // æ¨¡æ‹Ÿ: ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ
  await new Promise(resolve => setTimeout(resolve, 3000));

  console.log('\nâœ… All tests generated successfully!\n');
}

// æ‰§è¡Œ
const blogPostPath = process.argv[2] || 'src/content/blog/en/llm-page-migration-standardization.md';
generateTests(blogPostPath);
```

### ä½¿ç”¨æ–¹æ³•

```bash
# å®‰è£…ts-nodeä»¥æ‰§è¡ŒTypeScript
npm install --save-dev ts-node

# ç”Ÿæˆæµ‹è¯•
npx ts-node scripts/generate-tests.ts src/content/blog/en/llm-page-migration-standardization.md
```

## ç¬¬3æ­¥: å®æˆ˜æµ‹è¯•ä»£ç ç¤ºä¾‹

### Web Componentæµ‹è¯•

`tests/components/lit-component.spec.ts`:

```typescript
import { test, expect } from '@playwright/test';
import { html, fixture } from '@open-wc/testing';

test.describe('Lit Component Parallel Tests', () => {
  test('should render counter with Shadow DOM', async () => {
    const el = await fixture(html`<my-counter></my-counter>`);

    const shadowRoot = el.shadowRoot;
    expect(shadowRoot).toBeTruthy();

    const button = shadowRoot.querySelector('button');
    expect(button).toBeTruthy();
    expect(button.textContent).toContain('Increment');
  });

  test('should update reactive properties', async () => {
    const el = await fixture(html`<my-counter></my-counter>`);

    const shadowRoot = el.shadowRoot;
    const button = shadowRoot.querySelector('button');
    const countDisplay = shadowRoot.querySelector('p');

    expect(countDisplay.textContent).toContain('Count: 0');

    // ç‚¹å‡»äº‹ä»¶
    button.click();
    await el.updateComplete;

    expect(countDisplay.textContent).toContain('Count: 1');
  });

  test('should have isolated styles', async () => {
    const el = await fixture(html`<my-counter></my-counter>`);

    const shadowRoot = el.shadowRoot;
    const styles = shadowRoot.querySelector('style');

    expect(styles).toBeTruthy();
    expect(styles.textContent).toContain('button');

    // ç¡®è®¤å¤–éƒ¨æ ·å¼ä¸å—å½±å“
    const button = shadowRoot.querySelector('button');
    const computedStyle = getComputedStyle(button);
    expect(computedStyle.backgroundColor).toBe('rgb(0, 0, 255)'); // blue
  });
});
```

### E2Eè¿ç§»å·¥ä½œæµç¨‹æµ‹è¯•

`tests/e2e/migration-workflow.spec.ts`:

```typescript
import { test, expect } from '@playwright/test';

test.describe('Migration Pipeline E2E Tests', () => {
  test('should complete full migration workflow', async ({ page }) => {
    // æ­¥éª¤1: å‡†å¤‡URLåˆ—è¡¨
    await page.goto('http://localhost:4321/migration/start');
    await page.fill('[data-testid="url-input"]',
      'https://example.com/page1\nhttps://example.com/page2\nhttps://example.com/page3');
    await page.click('[data-testid="submit-urls"]');

    // æ­¥éª¤2: HTMLæå–
    await expect(page.locator('[data-testid="extraction-status"]'))
      .toContainText('Extracting HTML...', { timeout: 5000 });
    await page.waitForSelector('[data-testid="extraction-complete"]', { timeout: 60000 });

    // æ­¥éª¤3: DOMç»“æ„åˆ†æ
    const componentCount = await page.locator('[data-testid="identified-components"]').count();
    expect(componentCount).toBeGreaterThan(0);

    // æ­¥éª¤4: LLMè½¬æ¢
    await page.click('[data-testid="start-llm-transformation"]');
    await expect(page.locator('[data-testid="llm-progress"]'))
      .toContainText('Transforming', { timeout: 10000 });
    await page.waitForSelector('[data-testid="transformation-complete"]', { timeout: 180000 });

    // æ­¥éª¤5: è¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•
    await page.click('[data-testid="run-automated-tests"]');
    await page.waitForSelector('[data-testid="tests-passed"]', { timeout: 120000 });

    // æ­¥éª¤6: éƒ¨ç½²
    await page.click('[data-testid="deploy-to-staging"]');
    await expect(page.locator('[data-testid="deployment-status"]'))
      .toContainText('Deployed successfully');
  });

  test('should validate all migrated page links', async ({ page }) => {
    await page.goto('http://localhost:4321/migrated-pages');

    const links = await page.locator('a[href]').all();
    const brokenLinks = [];

    for (const link of links) {
      const href = await link.getAttribute('href');
      if (!href || href.startsWith('#')) continue;

      const response = await page.request.get(href);
      if (!response.ok()) {
        brokenLinks.push({ url: href, status: response.status() });
      }
    }

    // ä¸åº”æœ‰æŸåçš„é“¾æ¥
    expect(brokenLinks).toHaveLength(0);
  });
});
```

### å¯è®¿é—®æ€§æµ‹è¯•

`tests/accessibility/wcag-compliance.spec.ts`:

```typescript
import { test, expect } from '@playwright/test';
import AxeBuilder from '@axe-core/playwright';

test.describe('WCAG 2.1/2.2 Compliance Tests', () => {
  test('should have no accessibility violations', async ({ page }) => {
    await page.goto('http://localhost:4321');

    const accessibilityResults = await new AxeBuilder({ page })
      .withTags(['wcag2a', 'wcag2aa', 'wcag21a', 'wcag21aa'])
      .analyze();

    expect(accessibilityResults.violations).toEqual([]);
  });

  test('should support full keyboard navigation', async ({ page }) => {
    await page.goto('http://localhost:4321');

    // ä½¿ç”¨Tabé”®éå†æ‰€æœ‰äº¤äº’å…ƒç´ 
    const focusableElements = await page.locator(
      'a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])'
    ).all();

    for (let i = 0; i < focusableElements.length; i++) {
      await page.keyboard.press('Tab');

      const focusedElement = await page.evaluate(() => ({
        tag: document.activeElement?.tagName,
        role: document.activeElement?.getAttribute('role'),
      }));

      expect(focusedElement.tag).toBeTruthy();
    }
  });

  test('should have sufficient color contrast', async ({ page }) => {
    await page.goto('http://localhost:4321');

    const contrastResults = await new AxeBuilder({ page })
      .withTags(['wcag2aa'])
      .include('main')
      .analyze();

    const contrastViolations = contrastResults.violations.filter(
      v => v.id === 'color-contrast'
    );

    expect(contrastViolations).toHaveLength(0);
  });
});
```

### æ€§èƒ½æµ‹è¯•

`tests/performance/core-web-vitals.spec.ts`:

```typescript
import { test, expect } from '@playwright/test';

test.describe('Core Web Vitals Performance Tests', () => {
  test('should meet Core Web Vitals thresholds', async ({ page }) => {
    await page.goto('http://localhost:4321');

    // æ³¨å…¥web-vitalsåº“
    await page.addScriptTag({
      url: 'https://unpkg.com/web-vitals@3/dist/web-vitals.iife.js',
    });

    // æ”¶é›†æŒ‡æ ‡
    const metrics = await page.evaluate(async () => {
      return new Promise(resolve => {
        const results = { LCP: null, FID: null, CLS: null };
        let completed = 0;

        webVitals.onLCP(metric => {
          results.LCP = metric.value;
          if (++completed === 3) resolve(results);
        });

        webVitals.onFID(metric => {
          results.FID = metric.value;
          if (++completed === 3) resolve(results);
        });

        webVitals.onCLS(metric => {
          results.CLS = metric.value;
          if (++completed === 3) resolve(results);
        });
      });
    });

    // éªŒè¯Goodé˜ˆå€¼
    expect(metrics.LCP).toBeLessThan(2500); // < 2.5s
    expect(metrics.FID).toBeLessThan(100);  // < 100ms
    expect(metrics.CLS).toBeLessThan(0.1);  // < 0.1
  });

  test('should pass Lighthouse audit', async ({ page }) => {
    const { playAudit } = await import('playwright-lighthouse');

    await page.goto('http://localhost:4321');

    await playAudit({
      page,
      thresholds: {
        performance: 90,
        accessibility: 90,
        'best-practices': 90,
        seo: 90,
      },
      port: 9222,
    });
  });
});
```

### SEOå’ŒAEOæµ‹è¯•

`tests/seo/structured-data.spec.ts`:

```typescript
import { test, expect } from '@playwright/test';

test.describe('SEO & Schema.org Validation', () => {
  test('should have valid Article schema', async ({ page }) => {
    await page.goto('http://localhost:4321/blog/llm-page-migration-standardization');

    const structuredData = await page.evaluate(() => {
      const scripts = Array.from(
        document.querySelectorAll('script[type="application/ld+json"]')
      );
      return scripts.map(s => JSON.parse(s.textContent));
    });

    const article = structuredData.find(d => d['@type'] === 'Article');

    expect(article).toBeDefined();
    expect(article['@context']).toBe('https://schema.org');
    expect(article.headline).toBeDefined();
    expect(article.author).toBeDefined();
    expect(article.datePublished).toBeDefined();
    expect(article.description).toBeDefined();
    expect(article.image).toBeDefined();
  });

  test('should have complete Open Graph tags', async ({ page }) => {
    await page.goto('http://localhost:4321/blog/llm-page-migration-standardization');

    const ogTags = {
      title: await page.locator('meta[property="og:title"]').getAttribute('content'),
      description: await page.locator('meta[property="og:description"]').getAttribute('content'),
      image: await page.locator('meta[property="og:image"]').getAttribute('content'),
      type: await page.locator('meta[property="og:type"]').getAttribute('content'),
    };

    expect(ogTags.title).toBeTruthy();
    expect(ogTags.description).toBeTruthy();
    expect(ogTags.image).toBeTruthy();
    expect(ogTags.type).toBe('article');
  });

  test('should have FAQ schema if FAQ exists', async ({ page }) => {
    await page.goto('http://localhost:4321/blog/llm-page-migration-standardization');

    const structuredData = await page.evaluate(() => {
      const scripts = Array.from(
        document.querySelectorAll('script[type="application/ld+json"]')
      );
      return scripts.map(s => JSON.parse(s.textContent));
    });

    const faq = structuredData.find(d => d['@type'] === 'FAQPage');

    if (faq) {
      expect(faq.mainEntity).toBeDefined();
      expect(Array.isArray(faq.mainEntity)).toBe(true);

      faq.mainEntity.forEach(item => {
        expect(item['@type']).toBe('Question');
        expect(item.name).toBeDefined();
        expect(item.acceptedAnswer).toBeDefined();
        expect(item.acceptedAnswer['@type']).toBe('Answer');
        expect(item.acceptedAnswer.text).toBeDefined();
      });
    }
  });
});
```

## ç¬¬4æ­¥: å¹¶è¡Œæ‰§è¡Œ

### æ·»åŠ NPMè„šæœ¬

ä¿®æ”¹`package.json`:

```json
{
  "scripts": {
    "test": "playwright test",
    "test:parallel": "playwright test --workers=8",
    "test:components": "playwright test --project=components",
    "test:e2e": "playwright test --project=e2e-chrome --project=e2e-firefox",
    "test:a11y": "playwright test --project=accessibility",
    "test:performance": "playwright test --project=performance",
    "test:seo": "playwright test --project=seo",
    "test:report": "playwright show-report test-results/html",
    "generate-tests": "npx ts-node scripts/generate-tests.ts"
  }
}
```

### æ‰§è¡Œ

```bash
# ä½¿ç”¨8ä¸ªworkerå¹¶è¡Œè¿è¡Œæ‰€æœ‰æµ‹è¯•
npm run test:parallel

# ä»…è¿è¡Œç‰¹å®šç±»åˆ«
npm run test:e2e

# æŸ¥çœ‹HTMLæŠ¥å‘Š
npm run test:report
```

## ç¬¬5æ­¥: ç»“æœåˆ†æè‡ªåŠ¨åŒ–

### ä½¿ç”¨Claude Codeåˆ†æç»“æœ

åˆ›å»º`scripts/analyze-results.ts`:

```typescript
import { readFileSync, writeFileSync } from 'fs';

async function analyzeTestResults() {
  console.log('ğŸ“Š Analyzing test results with Claude Code...\n');

  // è¯»å–æµ‹è¯•ç»“æœ
  const resultsPath = 'test-results/results.json';
  const results = JSON.parse(readFileSync(resultsPath, 'utf8'));

  // å§”æ‰˜ç»™Claude Code data-analystä»£ç†
  const prompt = `
    è¯·åˆ†æä»¥ä¸‹Playwrightæµ‹è¯•ç»“æœå¹¶ç”ŸæˆæŠ¥å‘Š:

    æµ‹è¯•ç»“æœ:
    ${JSON.stringify(results, null, 2)}

    è¯·åŒ…å«ä»¥ä¸‹å†…å®¹:
    1. æ•´ä½“æ‘˜è¦(é€šè¿‡ç‡ã€å¤±è´¥ç‡)
    2. æŒ‰ç±»åˆ«è¯¦ç»†åˆ†æ(componentsã€e2eã€accessibilityã€performanceã€seo)
    3. ä¸¥é‡é”™è¯¯åˆ—è¡¨(éƒ¨ç½²å‰å¿…é¡»ä¿®å¤)
    4. æ€§èƒ½ç“¶é¢ˆå’Œä¼˜åŒ–æœºä¼š
    5. å¯è®¿é—®æ€§è¿è§„äº‹é¡¹(æŒ‰ä¸¥é‡ç¨‹åº¦)
    6. SEOæ”¹è¿›å»ºè®®
    7. æŒ‰ä¼˜å…ˆçº§æ’åˆ—çš„è¡ŒåŠ¨è®¡åˆ’

    è¯·ä»¥Markdownæ ¼å¼ç¼–å†™ã€‚
  `;

  // å®é™…å®ç°ä¸­è°ƒç”¨Claude Code MCP
  console.log('Delegating to data-analyst agent...');

  // æ¨¡æ‹Ÿåˆ†æç»“æœ
  const analysis = generateMockAnalysis(results);

  // ä¿å­˜æŠ¥å‘Š
  writeFileSync('test-results/analysis-report.md', analysis);
  console.log('âœ… Analysis report saved to: test-results/analysis-report.md\n');

  // ç”Ÿæˆä»ªè¡¨æ¿
  generateDashboard(results);
}

function generateMockAnalysis(results: any): string {
  return `
# æµ‹è¯•ç»“æœåˆ†ææŠ¥å‘Š

**ç”Ÿæˆæ—¶é—´**: ${new Date().toISOString()}
**æ€»æµ‹è¯•æ•°**: ${results.stats?.total || 'N/A'}
**æ€»é€šè¿‡ç‡**: ${((results.stats?.passed / results.stats?.total) * 100).toFixed(2)}%

---

## ğŸ“Š æ‘˜è¦

- âœ… <strong>é€šè¿‡</strong>: ${results.stats?.passed || 0}ä¸ª
- âŒ <strong>å¤±è´¥</strong>: ${results.stats?.failed || 0}ä¸ª
- â­ï¸ <strong>è·³è¿‡</strong>: ${results.stats?.skipped || 0}ä¸ª

---

## æŒ‰ç±»åˆ«åˆ†æ

### 1. Web Components (${results.components?.passRate || 'N/A'}% é€šè¿‡)

- æ€»æµ‹è¯•: ${results.components?.total || 0}
- é€šè¿‡: ${results.components?.passed || 0}
- å¤±è´¥: ${results.components?.failed || 0}

<strong>ä¸»è¦é—®é¢˜</strong>:
- Shadow DOMéš”ç¦»æµ‹è¯•å¤±è´¥3ä¾‹
- å“åº”å¼å±æ€§æ›´æ–°å»¶è¿Ÿ2ä¾‹

### 2. E2E Tests (${results.e2e?.passRate || 'N/A'}% é€šè¿‡)

- æ€»æµ‹è¯•: ${results.e2e?.total || 0}
- é€šè¿‡: ${results.e2e?.passed || 0}
- å¤±è´¥: ${results.e2e?.failed || 0}

<strong>ä¸»è¦é—®é¢˜</strong>:
- LLMè½¬æ¢è¶…æ—¶1ä¾‹
- é“¾æ¥éªŒè¯å¤±è´¥5ä¾‹

### 3. Accessibility (${results.a11y?.passRate || 'N/A'}% é€šè¿‡)

- æ€»æµ‹è¯•: ${results.a11y?.total || 0}
- é€šè¿‡: ${results.a11y?.passed || 0}
- å¤±è´¥: ${results.a11y?.failed || 0}

<strong>ä¸»è¦é—®é¢˜</strong>:
- é¢œè‰²å¯¹æ¯”åº¦ä¸è¶³12ä¾‹
- ARIAå±æ€§ç¼ºå¤±8ä¾‹

### 4. Performance (${results.performance?.passRate || 'N/A'}% é€šè¿‡)

- æ€»æµ‹è¯•: ${results.performance?.total || 0}
- é€šè¿‡: ${results.performance?.passed || 0}
- å¤±è´¥: ${results.performance?.failed || 0}

<strong>ä¸»è¦é—®é¢˜</strong>:
- LCP > 2.5s (æµ‹é‡å€¼3.2s)
- CLS > 0.1 (æµ‹é‡å€¼0.15)

### 5. SEO (${results.seo?.passRate || 'N/A'}% é€šè¿‡)

- æ€»æµ‹è¯•: ${results.seo?.total || 0}
- é€šè¿‡: ${results.seo?.passed || 0}
- å¤±è´¥: ${results.seo?.failed || 0}

<strong>ä¸»è¦é—®é¢˜</strong>:
- Open Graphå›¾åƒç¼ºå¤±2ä¾‹
- Schema.orgå¿…å¡«å­—æ®µç¼ºå¤±1ä¾‹

---

## ğŸš¨ ä¸¥é‡é”™è¯¯(éœ€ç«‹å³ä¿®å¤)

1. **E2E**: ä¸»å·¥ä½œæµç¨‹è¶…æ—¶(è¶…è¿‡180ç§’)
2. **A11y**: é¢œè‰²å¯¹æ¯”åº¦æœªè¾¾WCAG AAæ ‡å‡†(12ä¾‹)
3. **Performance**: LCP 3.2s (ç›®æ ‡: <2.5s)

---

## ğŸ’¡ å»ºè®®

### ä¼˜å…ˆçº§1(ç«‹å³)
- [ ] å¢åŠ LLMè½¬æ¢è¶…æ—¶æ—¶é—´(180s â†’ 300s)
- [ ] æ”¹è¿›é¢œè‰²å¯¹æ¯”åº¦(12ä¸ªå…ƒç´ )
- [ ] é€šè¿‡å›¾åƒä¼˜åŒ–æ”¹å–„LCP

### ä¼˜å…ˆçº§2(1å‘¨å†…)
- [ ] æ·»åŠ ARIAå±æ€§(8ä¸ªå…ƒç´ )
- [ ] æ·»åŠ Open Graphå›¾åƒ(2ä¸ªé¡µé¢)
- [ ] æ”¹å–„CLS(é˜²æ­¢å¸ƒå±€åç§»)

### ä¼˜å…ˆçº§3(2å‘¨å†…)
- [ ] æ”¹è¿›é“¾æ¥éªŒè¯è‡ªåŠ¨åŒ–
- [ ] å¼ºåŒ–Schema.orgå¿…å¡«å­—æ®µéªŒè¯
- [ ] æ„å»ºæ€§èƒ½ç›‘æ§ä»ªè¡¨æ¿

---

## ğŸ“ˆ ä¸‹ä¸€æ­¥

1. ä¿®å¤ä¸¥é‡é”™è¯¯
2. é‡æ–°è¿è¡Œæµ‹è¯•å¹¶éªŒè¯
3. éƒ¨ç½²åˆ°é¢„å‘å¸ƒç¯å¢ƒ
4. å‡†å¤‡ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
  `;
}

function generateDashboard(results: any) {
  const html = `
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>æµ‹è¯•ç»“æœä»ªè¡¨æ¿</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; padding: 20px; background: #f5f5f5; }
    h1 { color: #333; margin-bottom: 30px; }
    .summary { display: grid; grid-template-columns: repeat(5, 1fr); gap: 20px; margin-bottom: 40px; }
    .card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    .card h3 { color: #666; font-size: 14px; margin-bottom: 10px; }
    .card .number { font-size: 32px; font-weight: bold; color: #333; }
    .card .label { font-size: 12px; color: #999; margin-top: 5px; }
    .pass { color: #10b981; }
    .fail { color: #ef4444; }
    .details { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    .details h2 { color: #333; margin-bottom: 20px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 12px; text-align: left; border-bottom: 1px solid #eee; }
    th { background: #f9fafb; font-weight: 600; }
  </style>
</head>
<body>
  <h1>ğŸ§ª æµ‹è¯•ç»“æœä»ªè¡¨æ¿</h1>

  <div class="summary">
    <div class="card">
      <h3>Components</h3>
      <div class="number pass">${results.components?.passed || 0}</div>
      <div class="label">é€šè¿‡ / ${results.components?.total || 0}</div>
    </div>

    <div class="card">
      <h3>E2E Tests</h3>
      <div class="number pass">${results.e2e?.passed || 0}</div>
      <div class="label">é€šè¿‡ / ${results.e2e?.total || 0}</div>
    </div>

    <div class="card">
      <h3>Accessibility</h3>
      <div class="number pass">${results.a11y?.passed || 0}</div>
      <div class="label">é€šè¿‡ / ${results.a11y?.total || 0}</div>
    </div>

    <div class="card">
      <h3>Performance</h3>
      <div class="number pass">${results.performance?.passed || 0}</div>
      <div class="label">é€šè¿‡ / ${results.performance?.total || 0}</div>
    </div>

    <div class="card">
      <h3>SEO</h3>
      <div class="number pass">${results.seo?.passed || 0}</div>
      <div class="label">é€šè¿‡ / ${results.seo?.total || 0}</div>
    </div>
  </div>

  <div class="details">
    <h2>è¯¦ç»†ç»“æœ</h2>
    <table>
      <thead>
        <tr>
          <th>ç±»åˆ«</th>
          <th>æ€»æµ‹è¯•</th>
          <th>é€šè¿‡</th>
          <th>å¤±è´¥</th>
          <th>é€šè¿‡ç‡</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Components</td>
          <td>${results.components?.total || 0}</td>
          <td class="pass">${results.components?.passed || 0}</td>
          <td class="fail">${results.components?.failed || 0}</td>
          <td>${results.components?.passRate || 0}%</td>
        </tr>
        <tr>
          <td>E2E Tests</td>
          <td>${results.e2e?.total || 0}</td>
          <td class="pass">${results.e2e?.passed || 0}</td>
          <td class="fail">${results.e2e?.failed || 0}</td>
          <td>${results.e2e?.passRate || 0}%</td>
        </tr>
        <tr>
          <td>Accessibility</td>
          <td>${results.a11y?.total || 0}</td>
          <td class="pass">${results.a11y?.passed || 0}</td>
          <td class="fail">${results.a11y?.failed || 0}</td>
          <td>${results.a11y?.passRate || 0}%</td>
        </tr>
        <tr>
          <td>Performance</td>
          <td>${results.performance?.total || 0}</td>
          <td class="pass">${results.performance?.passed || 0}</td>
          <td class="fail">${results.performance?.failed || 0}</td>
          <td>${results.performance?.passRate || 0}%</td>
        </tr>
        <tr>
          <td>SEO</td>
          <td>${results.seo?.total || 0}</td>
          <td class="pass">${results.seo?.passed || 0}</td>
          <td class="fail">${results.seo?.failed || 0}</td>
          <td>${results.seo?.passRate || 0}%</td>
        </tr>
      </tbody>
    </table>
  </div>
</body>
</html>
  `;

  writeFileSync('test-results/dashboard.html', html);
  console.log('âœ… Dashboard saved to: test-results/dashboard.html\n');
}

analyzeTestResults();
```

### æ‰§è¡Œ

```bash
# è¿è¡Œæµ‹è¯•ååˆ†æç»“æœ
npm run test:parallel && npx ts-node scripts/analyze-results.ts
```

## ç¬¬6æ­¥: CI/CDé›†æˆ

### GitHub Actionså·¥ä½œæµç¨‹

åˆ›å»º`.github/workflows/migration-testing.yml`:

```yaml
name: Migration Testing Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  # å¹¶è¡Œç”Ÿæˆæµ‹è¯•
  generate-tests:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        category: [components, e2e, accessibility, performance, seo]
    steps:
      - uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'

      - name: Install dependencies
        run: npm ci

      - name: Generate ${{ matrix.category }} tests
        run: npx ts-node scripts/generate-tests.ts --category=${{ matrix.category }}

      - name: Upload test files
        uses: actions/upload-artifact@v4
        with:
          name: tests-${{ matrix.category }}
          path: tests/${{ matrix.category }}/

  # å¹¶è¡Œè¿è¡Œæµ‹è¯•
  run-tests:
    needs: generate-tests
    runs-on: ubuntu-latest
    strategy:
      matrix:
        category: [components, e2e, accessibility, performance, seo]
    steps:
      - uses: actions/checkout@v4

      - name: Download test files
        uses: actions/download-artifact@v4
        with:
          name: tests-${{ matrix.category }}
          path: tests/${{ matrix.category }}/

      - name: Install Playwright
        run: |
          npm ci
          npx playwright install --with-deps

      - name: Run ${{ matrix.category }} tests
        run: npm run test:${{ matrix.category }}

      - name: Upload results
        uses: actions/upload-artifact@v4
        if: always()
        with:
          name: results-${{ matrix.category }}
          path: test-results/

  # æ±‡æ€»å’Œåˆ†æç»“æœ
  analyze-results:
    needs: run-tests
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Download all results
        uses: actions/download-artifact@v4
        with:
          path: test-results/

      - name: Analyze with Claude Code
        run: npx ts-node scripts/analyze-results.ts

      - name: Generate report
        run: npm run test:report

      - name: Upload final report
        uses: actions/upload-artifact@v4
        with:
          name: test-report
          path: test-results/

      - name: Comment on PR
        if: github.event_name == 'pull_request'
        uses: actions/github-script@v7
        with:
          script: |
            const fs = require('fs');
            const report = fs.readFileSync('test-results/analysis-report.md', 'utf8');

            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: `## ğŸ§ª æµ‹è¯•ç»“æœ\n\n${report}`
            });
```

## æ€§èƒ½å¯¹æ¯”

### é¡ºåºæ‰§è¡Œ vs å¹¶è¡Œæ‰§è¡Œ

<strong>æµ‹è¯•ç¯å¢ƒ</strong>:
- æ€»é¡µé¢: 100ä¸ª
- æµ‹è¯•ç±»åˆ«: 5ä¸ª(Componentã€E2Eã€A11yã€Performanceã€SEO)
- æ¯é¡µå¹³å‡æµ‹è¯•æ—¶é—´: 5åˆ†é’Ÿ

<strong>é¡ºåºæ‰§è¡Œ</strong>:
```
æ€»æ—¶é—´ = 100é¡µ Ã— 5ç±»åˆ« Ã— 5åˆ†é’Ÿ
       = 2,500åˆ†é’Ÿ(çº¦41.7å°æ—¶)
```

<strong>å¹¶è¡Œæ‰§è¡Œ(8 workers)</strong>:
```
æ€»æ—¶é—´ = (100é¡µ Ã— 5ç±»åˆ« Ã— 5åˆ†é’Ÿ) Ã· 8
       = 312.5åˆ†é’Ÿ(çº¦5.2å°æ—¶)

æ”¹è¿›ç‡ = 41.7 Ã· 5.2 = å¿«8å€
```

### å®é™…æµ‹é‡ç»“æœ

| é¡¹ç›®è§„æ¨¡ | é¡ºåºæ‰§è¡Œ | å¹¶è¡Œæ‰§è¡Œ(8 workers) | ç¼©çŸ­æ—¶é—´ | æ”¹è¿›ç‡ |
|----------|---------|-------------------|----------|--------|
| 50é¡µ | 20.8å°æ—¶ | 2.6å°æ—¶ | 18.2å°æ—¶ | 8.0å€ |
| 100é¡µ | 41.7å°æ—¶ | 5.2å°æ—¶ | 36.5å°æ—¶ | 8.0å€ |
| 500é¡µ | 208.3å°æ—¶ | 26.0å°æ—¶ | 182.3å°æ—¶ | 8.0å€ |

## æœ€ä½³å®è·µ

### 1. æµ‹è¯•éš”ç¦»

```typescript
// âœ… å¥½ä¾‹å­: æ¯ä¸ªæµ‹è¯•éƒ½æ˜¯ç‹¬ç«‹çš„
test('should render component', async () => {
  const el = await fixture(html`<my-component></my-component>`);
  expect(el).toBeTruthy();
});

test('should handle click', async () => {
  const el = await fixture(html`<my-component></my-component>`);
  const button = el.shadowRoot.querySelector('button');
  button.click();
  await el.updateComplete;
  expect(el.count).toBe(1);
});
```

```typescript
// âŒ åä¾‹å­: æµ‹è¯•ä¹‹é—´å…±äº«çŠ¶æ€
let sharedElement;

test('should render component', async () => {
  sharedElement = await fixture(html`<my-component></my-component>`);
  expect(sharedElement).toBeTruthy();
});

test('should handle click', async () => {
  // ä¾èµ–sharedElement(å¹¶è¡Œæ‰§è¡Œæ—¶å¯èƒ½å¤±è´¥)
  const button = sharedElement.shadowRoot.querySelector('button');
  button.click();
});
```

### 2. é€‚å½“è®¾ç½®è¶…æ—¶

```typescript
// âœ… æŒ‰ç±»åˆ«è®¾ç½®è¶…æ—¶
export default defineConfig({
  projects: [
    {
      name: 'components',
      timeout: 10000, // å¿«é€Ÿæµ‹è¯•
    },
    {
      name: 'e2e',
      timeout: 60000, // ä¸­ç­‰æµ‹è¯•
    },
    {
      name: 'performance',
      timeout: 120000, // æ…¢é€Ÿæµ‹è¯•
    },
  ],
});
```

### 3. å¤±è´¥æ—¶é‡è¯•

```typescript
export default defineConfig({
  // CIç¯å¢ƒä¸­é‡è¯•2æ¬¡
  retries: process.env.CI ? 2 : 0,

  // å¤±è´¥æ—¶ä¿å­˜æˆªå›¾å’Œè§†é¢‘
  use: {
    screenshot: 'only-on-failure',
    video: 'retain-on-failure',
    trace: 'on-first-retry',
  },
});
```

### 4. èµ„æºæ¸…ç†

```typescript
test.afterEach(async ({ page }) => {
  // æ¯æ¬¡æµ‹è¯•åæ¸…ç†é¡µé¢
  await page.close();
});

test.afterAll(async ({ browser }) => {
  // æ‰€æœ‰æµ‹è¯•åæ¸…ç†æµè§ˆå™¨
  await browser.close();
});
```

## æ•…éšœæ’é™¤

### é—®é¢˜1: å¹¶è¡Œæ‰§è¡Œæ—¶æµ‹è¯•å†²çª

<strong>ç—‡çŠ¶</strong>: æŸäº›æµ‹è¯•éšæœºå¤±è´¥

<strong>åŸå› </strong>: å…±äº«çŠ¶æ€æˆ–èµ„æºç«äº‰

<strong>è§£å†³æ–¹æ¡ˆ</strong>:
```typescript
// æ¯ä¸ªæµ‹è¯•ä½¿ç”¨å”¯ä¸€æ•°æ®
test('should create user', async ({ page }) => {
  const uniqueId = Date.now() + Math.random();
  const username = `user_${uniqueId}`;

  await page.fill('#username', username);
  // ...
});
```

### é—®é¢˜2: å†…å­˜ä¸è¶³

<strong>ç—‡çŠ¶</strong>: Node.js heap out of memory

<strong>è§£å†³æ–¹æ¡ˆ</strong>:
```bash
# å¢åŠ Node.jså†…å­˜
export NODE_OPTIONS="--max-old-space-size=4096"

# å‡å°‘workeræ•°é‡
npx playwright test --workers=4
```

### é—®é¢˜3: CIç¯å¢ƒä¸­è¶…æ—¶

<strong>ç—‡çŠ¶</strong>: GitHub Actionsä¸­æµ‹è¯•è¶…æ—¶

<strong>è§£å†³æ–¹æ¡ˆ</strong>:
```yaml
jobs:
  test:
    timeout-minutes: 60 # æ•´ä¸ªjobè¶…æ—¶
    steps:
      - name: Run tests
        run: npm run test:parallel
        timeout-minutes: 45 # å•ä¸ªstepè¶…æ—¶
```

## ç»“è®º

### æ ¸å¿ƒè¦ç‚¹

1. <strong>Claude Codeå¹¶è¡Œæ‰§è¡Œ</strong>: åœ¨å•ä¸ªæ¶ˆæ¯ä¸­è°ƒç”¨å¤šä¸ªTask toolä»¥åŒæ—¶ç”Ÿæˆå’Œæ‰§è¡Œ5ç§æµ‹è¯•ç±»åˆ«

2. <strong>Playwrightå¹¶è¡Œé…ç½®</strong>: é€šè¿‡`fullyParallel: true`å’Œé€‚å½“çš„workeræ•°é‡å®ç°5-8å€æ€§èƒ½æå‡

3. <strong>æŒ‰ç±»åˆ«éš”ç¦»</strong>: ç‹¬ç«‹æ‰§è¡ŒComponentã€E2Eã€A11yã€Performanceã€SEOæµ‹è¯•

4. <strong>è‡ªåŠ¨åˆ†æ</strong>: ä½¿ç”¨Claude Code data-analystä»£ç†ç”Ÿæˆç»“æœåˆ†æå’Œå»ºè®®

5. <strong>CI/CDé›†æˆ</strong>: ä½¿ç”¨GitHub Actionsæ„å»ºå®Œå…¨è‡ªåŠ¨åŒ–çš„æµ‹è¯•æµæ°´çº¿

### å®æˆ˜åº”ç”¨æ­¥éª¤

<strong>é˜¶æ®µ1(1å¤©): ç¯å¢ƒæ„å»º</strong>
- å®‰è£…Playwrightå’Œæµ‹è¯•å·¥å…·
- é…ç½®`playwright.config.ts`
- æ·»åŠ NPMè„šæœ¬

<strong>é˜¶æ®µ2(2-3å¤©): æµ‹è¯•ç”Ÿæˆ</strong>
- ä½¿ç”¨Claude Codeè‡ªåŠ¨ç”Ÿæˆ5ç§ç±»åˆ«æµ‹è¯•
- å®¡æŸ¥å’Œä¿®æ”¹ç”Ÿæˆçš„æµ‹è¯•
- åœ¨æœ¬åœ°éªŒè¯æ‰§è¡Œ

<strong>é˜¶æ®µ3(1-2å¤©): å¹¶è¡Œæ‰§è¡Œä¼˜åŒ–</strong>
- è°ƒæ•´workeræ•°é‡
- è°ƒä¼˜è¶…æ—¶
- ç›‘æ§å†…å­˜ä½¿ç”¨

<strong>é˜¶æ®µ4(1å¤©): CI/CDé›†æˆ</strong>
- ç¼–å†™GitHub Actionså·¥ä½œæµç¨‹
- è®¾ç½®PRè‡ªåŠ¨è¯„è®º
- éƒ¨ç½²ä»ªè¡¨æ¿

### ä¸‹ä¸€æ­¥

ç»“åˆ[ä¸Šä¸€ç¯‡æ–‡ç« ](/ko/blog/ko/llm-page-migration-standardization)ä¸­ä»‹ç»çš„æ•´ä½“è¿ç§»ç­–ç•¥å’Œæœ¬æ–‡çš„å¹¶è¡Œæµ‹è¯•è‡ªåŠ¨åŒ–,å¯ä»¥æ„å»º<strong>å®Œå…¨è‡ªåŠ¨åŒ–çš„å¤§è§„æ¨¡ç½‘é¡µè¿ç§»ç³»ç»Ÿ</strong>ã€‚

ä¸‹æœŸé¢„å‘Š: "Claude Codeä»£ç†ä¼˜åŒ–: æå‡ä»¤ç‰Œæ•ˆç‡å’Œå“åº”é€Ÿåº¦"

## å‚è€ƒèµ„æ–™

### å®˜æ–¹æ–‡æ¡£
- [Playwright Documentation](https://playwright.dev)
- [Claude Code Documentation](https://docs.claude.com/claude-code)
- [GitHub Actions Documentation](https://docs.github.com/en/actions)

### æµ‹è¯•å·¥å…·
- [axe-core GitHub](https://github.com/dequelabs/axe-core)
- [web-vitals Library](https://github.com/GoogleChrome/web-vitals)
- [Lighthouse CI](https://github.com/GoogleChrome/lighthouse-ci)

### å‚è€ƒåšå®¢æ–‡ç« 
- [ä½¿ç”¨LLMå®ç°ç½‘é¡µè¿ç§»å·¥ä½œçš„æ ‡å‡†åŒ–](/ko/blog/ko/llm-page-migration-standardization)
