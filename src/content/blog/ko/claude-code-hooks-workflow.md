---
title: Claude Code Hookìœ¼ë¡œ êµ¬ì¶•í•˜ëŠ” ìë™í™” ì½”ë“œ ë¦¬ë·° ì‹œìŠ¤í…œ
description: 'Hook ê¸°ë°˜ ì½”ë”© ê·œì¹™ ì„¤ì •ë¶€í„° CI/CD í†µí•©ê¹Œì§€, ì‹¤ë¬´ì—ì„œ ë°”ë¡œ ì ìš© ê°€ëŠ¥í•œ ìë™í™” ë¦¬ë·° í”„ë¡œì„¸ìŠ¤ ì™„ì „ ê°€ì´ë“œ'
pubDate: '2025-10-29'
heroImage: ../../../assets/blog/claude-code-hooks-workflow-hero.jpg
tags:
  - claude-code
  - hooks
  - automation
  - code-review
  - workflow
relatedPosts:
  - slug: bigquery-mcp-prefix-filtering
    score: 0.94
    reason:
      ko: 'ìë™í™”, AI/ML, DevOps, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€AI/MLã€DevOpsã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, AI/ML, DevOps, architecture with
        comparable difficulty.
  - slug: google-analytics-mcp-automation
    score: 0.92
    reason:
      ko: 'ìë™í™”, AI/ML, DevOps, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€AI/MLã€DevOpsã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, AI/ML, DevOps, architecture with
        comparable difficulty.
  - slug: self-healing-ai-systems
    score: 0.92
    reason:
      ko: 'ë‹¤ìŒ ë‹¨ê³„ í•™ìŠµìœ¼ë¡œ ì í•©í•˜ë©°, ìë™í™”, AI/ML, DevOps, ì•„í‚¤í…ì²˜ ì£¼ì œì—ì„œ ì—°ê²°ë©ë‹ˆë‹¤.'
      ja: æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã®å­¦ç¿’ã«é©ã—ã¦ãŠã‚Šã€è‡ªå‹•åŒ–ã€AI/MLã€DevOpsã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ãƒˆãƒ”ãƒƒã‚¯ã§ç¹‹ãŒã‚Šã¾ã™ã€‚
      en: >-
        Suitable as a next-step learning resource, connecting through
        automation, AI/ML, DevOps, architecture topics.
  - slug: openai-agentkit-tutorial-part2
    score: 0.92
    reason:
      ko: 'ìë™í™”, AI/ML, DevOps, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€AI/MLã€DevOpsã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, AI/ML, DevOps, architecture with
        comparable difficulty.
  - slug: langgraph-multi-agent
    score: 0.92
    reason:
      ko: 'ìë™í™”, AI/ML, DevOps, ì•„í‚¤í…ì²˜ ë¶„ì•¼ì—ì„œ ìœ ì‚¬í•œ ì£¼ì œë¥¼ ë‹¤ë£¨ë©° ë¹„ìŠ·í•œ ë‚œì´ë„ì…ë‹ˆë‹¤.'
      ja: è‡ªå‹•åŒ–ã€AI/MLã€DevOpsã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ†é‡ã§é¡ä¼¼ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’æ‰±ã„ã€åŒç¨‹åº¦ã®é›£æ˜“åº¦ã§ã™ã€‚
      en: >-
        Covers similar topics in automation, AI/ML, DevOps, architecture with
        comparable difficulty.
---

## ê°œìš”

AI ê¸°ë°˜ ì½”ë”© ì–´ì‹œìŠ¤í„´íŠ¸ê°€ ìƒì‚°ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¤ì§€ë§Œ, <strong>ì¼ê´€ëœ ì½”ë“œ í’ˆì§ˆê³¼ ê·œì¹™ ì¤€ìˆ˜</strong>ë¥¼ ë³´ì¥í•˜ëŠ” ê²ƒì€ ì—¬ì „íˆ ì–´ë ¤ìš´ ê³¼ì œì…ë‹ˆë‹¤. Claude Codeì˜ <strong>Hook ì‹œìŠ¤í…œ</strong>ì€ ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê°•ë ¥í•œ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.

Hookì€ íŠ¹ì • ì›Œí¬í”Œë¡œìš° ë‹¨ê³„ì—ì„œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¡œ, ì½”ë“œ ì‘ì„±, íŒŒì¼ ì €ì¥, ì»¤ë°‹ ì „í›„ ë“± ë‹¤ì–‘í•œ ì‹œì ì— ì»¤ìŠ¤í…€ ê²€ì¦ ë¡œì§ì„ ì‚½ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì½”ë“œ ë¦¬ë·°, í…ŒìŠ¤íŠ¸, ë³´ì•ˆ ìŠ¤ìº”, ê·œì • ì¤€ìˆ˜ ë“±ì„ ì™„ì „íˆ ìë™í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì´ ê¸€ì—ì„œ ë‹¤ë£° ë‚´ìš©

- Hook ì‹œìŠ¤í…œì˜ í•µì‹¬ ê°œë…ê³¼ ë™ì‘ ì›ë¦¬
- ë‹¤ì–‘í•œ Hook íƒ€ì…ê³¼ í™œìš© ì‚¬ë¡€
- ì½”ë”© ê·œì¹™ ìë™ ê²€ì¦ êµ¬í˜„
- ìë™í™”ëœ ì½”ë“œ ë¦¬ë·° í”„ë¡œì„¸ìŠ¤ êµ¬ì¶•
- CI/CD íŒŒì´í”„ë¼ì¸ í†µí•© ì „ëµ
- ì‹¤ì „ ì˜ˆì œì™€ ëª¨ë²” ì‚¬ë¡€

## Hook ì‹œìŠ¤í…œ ì´í•´í•˜ê¸°

### Hookì´ë€?

Claude Code Hookì€ <strong>ì›Œí¬í”Œë¡œìš°ì˜ íŠ¹ì • ì‹œì ì—ì„œ ì‹¤í–‰ë˜ëŠ” ì‚¬ìš©ì ì •ì˜ ìŠ¤í¬ë¦½íŠ¸</strong>ì…ë‹ˆë‹¤. Git hookê³¼ ìœ ì‚¬í•œ ê°œë…ì´ì§€ë§Œ, Claudeì˜ AI ì½”ë”© ì›Œí¬í”Œë¡œìš°ì— íŠ¹í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```mermaid
graph LR
    A[Claude ì‘ì—… ì‹œì‘] --> B{Pre Hook}
    B -->|í†µê³¼| C[Claude ì‘ì—… ìˆ˜í–‰]
    B -->|ì‹¤íŒ¨| D[ì‘ì—… ì¤‘ë‹¨]
    C --> E{Post Hook}
    E -->|í†µê³¼| F[ì‘ì—… ì™„ë£Œ]
    E -->|ì‹¤íŒ¨| G[ë¡¤ë°±/ê²½ê³ ]
```

### Hook ì‹¤í–‰ ë©”ì»¤ë‹ˆì¦˜

Hookì€ ì¢…ë£Œ ì½”ë“œ(exit code)ë¡œ Claudeì˜ ë™ì‘ì„ ì œì–´í•©ë‹ˆë‹¤:

```bash
# ì„±ê³µ (ì‘ì—… ê³„ì†)
exit 0

# ì‹¤íŒ¨ (ì‘ì—… ì¤‘ë‹¨)
exit 1

# ê²½ê³  (ì‘ì—… ê³„ì†í•˜ë˜ ê²½ê³  í‘œì‹œ)
exit 2
```

### Hook ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
.claude/
â””â”€â”€ hooks/
    â”œâ”€â”€ pre-file-write.sh      # íŒŒì¼ ì €ì¥ ì „ ì‹¤í–‰
    â”œâ”€â”€ post-file-write.py     # íŒŒì¼ ì €ì¥ í›„ ì‹¤í–‰
    â”œâ”€â”€ pre-commit.sh          # ì»¤ë°‹ ì „ ì‹¤í–‰
    â”œâ”€â”€ post-commit.py         # ì»¤ë°‹ í›„ ì‹¤í–‰
    â””â”€â”€ code-review.js         # ì»¤ìŠ¤í…€ ë¦¬ë·° Hook
```

## Hook ì„¤ì • ë° êµ¬ì„±

### 1. ê¸°ë³¸ Hook ìƒì„±

ê°€ì¥ ê°„ë‹¨í•œ Hookë¶€í„° ì‹œì‘í•´ ë´…ì‹œë‹¤:

````bash
#!/bin/bash
# .claude/hooks/pre-file-write.sh

# Hook ì…ë ¥ ë°ì´í„°ëŠ” JSONìœ¼ë¡œ ì „ë‹¬ë¨
input=$(cat)

# íŒŒì¼ ê²½ë¡œ ì¶”ì¶œ
file_path=$(echo "$input" | jq -r '.file_path')

echo "Checking file: $file_path"

# ë¯¼ê°í•œ íŒŒì¼ ë³´í˜¸
if [[ "$file_path" == *".env"* ]] || [[ "$file_path" == *"credentials"* ]]; then
    echo "Error: Cannot modify sensitive files"
    exit 1
fi

# ì„±ê³µ
exit 0
````

### 2. ì‹¤í–‰ ê¶Œí•œ ì„¤ì •

Hook ìŠ¤í¬ë¦½íŠ¸ëŠ” ì‹¤í–‰ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤:

```bash
chmod +x .claude/hooks/pre-file-write.sh

# ëª¨ë“  Hookì— ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
chmod +x .claude/hooks/*.sh
chmod +x .claude/hooks/*.py
```

### 3. Hook ë°ì´í„° êµ¬ì¡°

ClaudeëŠ” Hookì— JSON í˜•ì‹ìœ¼ë¡œ ì»¨í…ìŠ¤íŠ¸ ì •ë³´ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤:

```json
{
  "file_path": "src/components/Button.tsx",
  "operation": "write",
  "content": "...",
  "metadata": {
    "timestamp": "2025-10-29T10:30:00Z",
    "user": "developer@example.com"
  }
}
```

## ì½”ë”© ê·œì¹™ ìë™ ê²€ì¦

### 1. TypeScript íƒ€ì… ì²´í¬ Hook

```bash
#!/bin/bash
# .claude/hooks/typescript-check.sh

input=$(cat)
file_path=$(echo "$input" | jq -r '.file_path')

# TypeScript íŒŒì¼ë§Œ ê²€ì‚¬
if [[ "$file_path" != *.ts ]] && [[ "$file_path" != *.tsx ]]; then
    exit 0
fi

echo "Running TypeScript type check..."

# íƒ€ì… ì²´í¬ ì‹¤í–‰
npx tsc --noEmit "$file_path" 2>&1 | tee /tmp/tsc-output.txt

if [ ${PIPESTATUS[0]} -ne 0 ]; then
    echo "âŒ Type check failed"
    cat /tmp/tsc-output.txt
    exit 1
fi

echo "âœ… Type check passed"
exit 0
```

### 2. ESLint ë¦°íŒ… Hook

```python
#!/usr/bin/env python3
# .claude/hooks/eslint-check.py

import sys
import json
import subprocess

def main():
    # ì…ë ¥ ë°ì´í„° ì½ê¸°
    input_data = json.loads(sys.stdin.read())
    file_path = input_data.get('file_path', '')

    # JavaScript/TypeScript íŒŒì¼ë§Œ ê²€ì‚¬
    if not (file_path.endswith('.js') or
            file_path.endswith('.ts') or
            file_path.endswith('.jsx') or
            file_path.endswith('.tsx')):
        sys.exit(0)

    print(f"Running ESLint on {file_path}...")

    # ESLint ì‹¤í–‰
    result = subprocess.run(
        ['npx', 'eslint', file_path, '--format', 'json'],
        capture_output=True,
        text=True
    )

    if result.returncode != 0:
        lint_results = json.loads(result.stdout)

        # ì—ëŸ¬ ìš”ì•½ ì¶œë ¥
        for file_result in lint_results:
            for message in file_result.get('messages', []):
                severity = 'Error' if message['severity'] == 2 else 'Warning'
                print(f"{severity}: {message['message']} "
                      f"(line {message['line']}, col {message['column']})")

        sys.exit(1)

    print("âœ… ESLint passed")
    sys.exit(0)

if __name__ == '__main__':
    main()
```

### 3. ì½”ë“œ í¬ë§·íŒ… ìë™ ì ìš©

```bash
#!/bin/bash
# .claude/hooks/post-file-write.sh

input=$(cat)
file_path=$(echo "$input" | jq -r '.file_path')

# ì§€ì›ë˜ëŠ” íŒŒì¼ í™•ì¥ì
if [[ "$file_path" =~ \.(js|ts|jsx|tsx|json|css|scss)$ ]]; then
    echo "Auto-formatting $file_path with Prettier..."

    npx prettier --write "$file_path"

    if [ $? -eq 0 ]; then
        echo "âœ… Formatted successfully"
    else
        echo "âš ï¸  Formatting failed, but continuing..."
    fi
fi

exit 0
```

## ìë™í™” ì½”ë“œ ë¦¬ë·° í”„ë¡œì„¸ìŠ¤

### 1. ì¢…í•© ì½”ë“œ ë¦¬ë·° Hook

```bash
#!/bin/bash
# .claude/hooks/comprehensive-review.sh

set -e

input=$(cat)
file_path=$(echo "$input" | jq -r '.file_path')

echo "ğŸ” Starting comprehensive code review for $file_path"

# ë‹¨ê³„ë³„ ê²€ì¦
declare -a checks=(
    "Security scan"
    "Type checking"
    "Linting"
    "Test coverage"
    "Documentation check"
)

# 1. ë³´ì•ˆ ìŠ¤ìº”
echo "ğŸ”’ ${checks[0]}..."
if command -v semgrep &> /dev/null; then
    semgrep --config=auto "$file_path" --quiet
fi

# 2. íƒ€ì… ì²´í¬
echo "ğŸ“ ${checks[1]}..."
if [[ "$file_path" =~ \.(ts|tsx)$ ]]; then
    npx tsc --noEmit "$file_path"
fi

# 3. ë¦°íŒ…
echo "âœ¨ ${checks[2]}..."
if [[ "$file_path" =~ \.(js|ts|jsx|tsx)$ ]]; then
    npx eslint "$file_path"
fi

# 4. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ì¸
echo "ğŸ§ª ${checks[3]}..."
test_file="${file_path/src/tests}"
test_file="${test_file/.ts/.test.ts}"

if [ ! -f "$test_file" ]; then
    echo "âš ï¸  Warning: No test file found at $test_file"
    # ê²½ê³ ë§Œ í•˜ê³  ê³„ì† ì§„í–‰
fi

# 5. ë¬¸ì„œí™” í™•ì¸
echo "ğŸ“š ${checks[4]}..."
if [[ "$file_path" =~ \.(ts|tsx|js|jsx)$ ]]; then
    # JSDoc ì£¼ì„ ê²€ì‚¬
    if ! grep -q "\/\*\*" "$file_path"; then
        echo "âš ï¸  Warning: No JSDoc comments found"
    fi
fi

echo "âœ… Code review completed successfully"
exit 0
```

### 2. SOX/SOC2 ê°ì‚¬ ì¶”ì  Hook

```python
#!/usr/bin/env python3
# .claude/hooks/audit-trail.py

import sys
import json
import hashlib
from datetime import datetime
import os

AUDIT_LOG = '.claude/audit/trail.jsonl'

def main():
    # ì…ë ¥ ë°ì´í„°
    input_data = json.loads(sys.stdin.read())

    # ê°ì‚¬ ë¡œê·¸ ë””ë ‰í† ë¦¬ ìƒì„±
    os.makedirs(os.path.dirname(AUDIT_LOG), exist_ok=True)

    # ê°ì‚¬ ì—”íŠ¸ë¦¬ ìƒì„±
    audit_entry = {
        'timestamp': datetime.utcnow().isoformat(),
        'operation': input_data.get('operation', 'unknown'),
        'file_path': input_data.get('file_path', ''),
        'user': os.environ.get('USER', 'unknown'),
        'content_hash': hashlib.sha256(
            input_data.get('content', '').encode()
        ).hexdigest(),
        'metadata': input_data.get('metadata', {})
    }

    # JSONL í˜•ì‹ìœ¼ë¡œ ë¡œê·¸ ì¶”ê°€
    with open(AUDIT_LOG, 'a') as f:
        f.write(json.dumps(audit_entry) + '\n')

    print(f"âœ… Audit trail recorded: {audit_entry['timestamp']}")
    sys.exit(0)

if __name__ == '__main__':
    main()
```

### 3. Pull Request ìë™ ê²€ì¦

```bash
#!/bin/bash
# .claude/hooks/pr-validation.sh

input=$(cat)
file_path=$(echo "$input" | jq -r '.file_path')

echo "ğŸ” PR Validation Checks"

# ì²´í¬ë¦¬ìŠ¤íŠ¸
declare -A checks=(
    ["Tests"]="npm test"
    ["Build"]="npm run build"
    ["Type Check"]="npm run typecheck"
    ["Lint"]="npm run lint"
)

failed=0

for check_name in "${!checks[@]}"; do
    echo ""
    echo "Running: $check_name"

    if eval "${checks[$check_name]}" > /tmp/check-output.txt 2>&1; then
        echo "âœ… $check_name passed"
    else
        echo "âŒ $check_name failed"
        cat /tmp/check-output.txt
        failed=1
    fi
done

if [ $failed -eq 1 ]; then
    echo ""
    echo "âŒ PR validation failed. Please fix the issues before committing."
    exit 1
fi

echo ""
echo "âœ… All PR validation checks passed"
exit 0
```

## CI/CD í†µí•© ì „ëµ

### 1. GitHub Actions í†µí•©

```yaml
# .github/workflows/claude-hooks.yml
name: Claude Code Hooks

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  run-hooks:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'

      - name: Install dependencies
        run: npm ci

      - name: Make hooks executable
        run: chmod +x .claude/hooks/*.sh

      - name: Run pre-commit hooks
        run: |
          for file in $(git diff --name-only origin/main); do
            if [ -f ".claude/hooks/pre-commit.sh" ]; then
              echo "{\"file_path\": \"$file\"}" | .claude/hooks/pre-commit.sh
            fi
          done

      - name: Run code review hook
        run: |
          for file in $(git diff --name-only origin/main); do
            if [ -f ".claude/hooks/code-review.sh" ]; then
              echo "{\"file_path\": \"$file\"}" | .claude/hooks/code-review.sh
            fi
          done
```

### 2. N8N ì›Œí¬í”Œë¡œìš° ìë™í™”

Hook ì‹¤í–‰ ê²°ê³¼ë¥¼ N8Nìœ¼ë¡œ ì „ì†¡í•˜ì—¬ ì•Œë¦¼ ìë™í™”:

```bash
#!/bin/bash
# .claude/hooks/notify-n8n.sh

input=$(cat)
file_path=$(echo "$input" | jq -r '.file_path')

# N8N webhook URL (í™˜ê²½ ë³€ìˆ˜ì—ì„œ ê°€ì ¸ì˜¤ê¸°)
WEBHOOK_URL="${N8N_WEBHOOK_URL}"

if [ -z "$WEBHOOK_URL" ]; then
    echo "Warning: N8N_WEBHOOK_URL not set"
    exit 0
fi

# ì•Œë¦¼ í˜ì´ë¡œë“œ ìƒì„±
payload=$(cat <<EOF
{
  "event": "code_review_completed",
  "file": "$file_path",
  "timestamp": "$(date -u +%Y-%m-%dT%H:%M:%SZ)",
  "status": "success"
}
EOF
)

# N8Nìœ¼ë¡œ ì „ì†¡
curl -X POST "$WEBHOOK_URL" \
  -H "Content-Type: application/json" \
  -d "$payload" \
  --silent

exit 0
```

### 3. Telegram ì•Œë¦¼ í†µí•©

```python
#!/usr/bin/env python3
# .claude/hooks/telegram-notify.py

import sys
import json
import os
import requests

def send_telegram_message(message):
    bot_token = os.environ.get('TELEGRAM_BOT_TOKEN')
    chat_id = os.environ.get('TELEGRAM_CHAT_ID')

    if not bot_token or not chat_id:
        print("Warning: Telegram credentials not set")
        return

    url = f"https://api.telegram.org/bot{bot_token}/sendMessage"
    payload = {
        'chat_id': chat_id,
        'text': message,
        'parse_mode': 'Markdown'
    }

    try:
        requests.post(url, json=payload, timeout=5)
    except Exception as e:
        print(f"Warning: Failed to send Telegram notification: {e}")

def main():
    input_data = json.loads(sys.stdin.read())
    file_path = input_data.get('file_path', 'unknown')

    message = f"""
ğŸ” *Code Review Completed*

ğŸ“ File: `{file_path}`
âœ… All checks passed
ğŸ• {input_data.get('metadata', {}).get('timestamp', 'N/A')}
"""

    send_telegram_message(message)
    sys.exit(0)

if __name__ == '__main__':
    main()
```

## ì‹¤ì „ ì˜ˆì œì™€ íŒ¨í„´

### 1. ì ì§„ì  Hook ë„ì… ì „ëµ

Hookì„ í•œ ë²ˆì— ëª¨ë‘ ì ìš©í•˜ë©´ ì›Œí¬í”Œë¡œìš°ê°€ ëŠë ¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì ì§„ì  ë„ì… ì „ëµ:

```mermaid
graph TD
    A[Phase 1: ë¹„íŒŒê´´ì  Hook] --> B[Phase 2: ê²½ê³  ìˆ˜ì¤€ Hook]
    B --> C[Phase 3: ë¸”ë¡œí‚¹ Hook]

    A1[ì½”ë“œ í¬ë§·íŒ…] --> A
    A2[ê°ì‚¬ ë¡œê¹…] --> A

    B1[ë¦°íŒ… ê²½ê³ ] --> B
    B2[í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ì¸] --> B

    C1[íƒ€ì… ì²´í¬ ê°•ì œ] --> C
    C2[ë³´ì•ˆ ìŠ¤ìº” ê°•ì œ] --> C
```

**Phase 1 êµ¬í˜„:**

```bash
#!/bin/bash
# .claude/hooks/phase1-gentle.sh

input=$(cat)

# í•­ìƒ ì„±ê³µí•˜ì§€ë§Œ ì •ë³´ ì œê³µ
echo "â„¹ï¸  Code formatting applied"
echo "â„¹ï¸  Audit trail recorded"

exit 0
```

**Phase 2 êµ¬í˜„:**

```bash
#!/bin/bash
# .claude/hooks/phase2-warnings.sh

input=$(cat)
file_path=$(echo "$input" | jq -r '.file_path')

# ë¦°íŒ… ì‹¤í–‰í•˜ì§€ë§Œ ì‹¤íŒ¨í•´ë„ ê³„ì†
npx eslint "$file_path" || echo "âš ï¸  Linting issues found"

# ê²½ê³  ì½”ë“œë¡œ ì¢…ë£Œ
exit 2
```

**Phase 3 êµ¬í˜„:**

```bash
#!/bin/bash
# .claude/hooks/phase3-blocking.sh

input=$(cat)
file_path=$(echo "$input" | jq -r '.file_path')

# íƒ€ì… ì²´í¬ ì‹¤íŒ¨ ì‹œ ì¤‘ë‹¨
npx tsc --noEmit "$file_path"

if [ $? -ne 0 ]; then
    echo "âŒ Type check failed - blocking operation"
    exit 1
fi

exit 0
```

### 2. Hook ì¡°ê±´ë¶€ ì‹¤í–‰

ëª¨ë“  íŒŒì¼ì— ëª¨ë“  Hookì„ ì‹¤í–‰í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤:

```bash
#!/bin/bash
# .claude/hooks/conditional-hooks.sh

input=$(cat)
file_path=$(echo "$input" | jq -r '.file_path')

# ì¡°ê±´ë³„ Hook ì‹¤í–‰
case "$file_path" in
    *.ts|*.tsx)
        echo "Running TypeScript checks..."
        .claude/hooks/typescript-check.sh <<< "$input"
        ;;
    *.py)
        echo "Running Python checks..."
        .claude/hooks/python-check.sh <<< "$input"
        ;;
    *.md)
        echo "Running Markdown lint..."
        .claude/hooks/markdown-lint.sh <<< "$input"
        ;;
    *)
        echo "No specific checks for this file type"
        ;;
esac

exit 0
```

### 3. Hook ì„±ëŠ¥ ìµœì í™”

Hookì´ ë„ˆë¬´ ëŠë¦¬ë©´ ê°œë°œ ê²½í—˜ì´ ì €í•´ë©ë‹ˆë‹¤:

```bash
#!/bin/bash
# .claude/hooks/optimized-hook.sh

input=$(cat)
file_path=$(echo "$input" | jq -r '.file_path')

# íƒ€ì„ì•„ì›ƒ ì„¤ì • (5ì´ˆ)
TIMEOUT=5

# ë³‘ë ¬ ì‹¤í–‰
(
    timeout $TIMEOUT npx eslint "$file_path" &
    timeout $TIMEOUT npx prettier --check "$file_path" &
    wait
) 2>/dev/null

if [ $? -eq 124 ]; then
    echo "âš ï¸  Hook timeout - skipping detailed checks"
    exit 2
fi

exit 0
```

### 4. ìºì‹±ì„ í™œìš©í•œ ìµœì í™”

```bash
#!/bin/bash
# .claude/hooks/cached-checks.sh

input=$(cat)
file_path=$(echo "$input" | jq -r '.file_path')
content=$(echo "$input" | jq -r '.content')

# ì½˜í…ì¸  í•´ì‹œ ìƒì„±
content_hash=$(echo "$content" | sha256sum | cut -d' ' -f1)
cache_dir=".claude/cache"
cache_file="$cache_dir/$content_hash"

mkdir -p "$cache_dir"

# ìºì‹œ í™•ì¸
if [ -f "$cache_file" ]; then
    cache_result=$(cat "$cache_file")
    echo "âœ… Using cached result: $cache_result"
    exit 0
fi

# ì‹¤ì œ ê²€ì‚¬ ìˆ˜í–‰
echo "Running checks..."
npx eslint "$file_path"

if [ $? -eq 0 ]; then
    echo "passed" > "$cache_file"
    exit 0
else
    echo "failed" > "$cache_file"
    exit 1
fi
```

## ëª¨ë²” ì‚¬ë¡€ ë° íŒ

### 1. Hook ì„¤ê³„ ì›ì¹™

<strong>SOLID ì›ì¹™ì„ Hookì— ì ìš©:</strong>

- <strong>Single Responsibility</strong>: í•˜ë‚˜ì˜ Hookì€ í•˜ë‚˜ì˜ ì±…ì„ë§Œ
- <strong>Open/Closed</strong>: í™•ì¥ì—ëŠ” ì—´ë ¤ìˆê³  ìˆ˜ì •ì—ëŠ” ë‹«í˜€ìˆê²Œ
- <strong>Liskov Substitution</strong>: Hookì„ êµì²´ ê°€ëŠ¥í•˜ê²Œ ì„¤ê³„
- <strong>Interface Segregation</strong>: í•„ìš”í•œ ë°ì´í„°ë§Œ ìš”êµ¬
- <strong>Dependency Inversion</strong>: êµ¬ì²´ì  êµ¬í˜„ì´ ì•„ë‹Œ ì¶”ìƒí™”ì— ì˜ì¡´

### 2. ì˜¤ë¥˜ ì²˜ë¦¬ ì „ëµ

```bash
#!/bin/bash
# .claude/hooks/error-handling.sh

set -euo pipefail  # ì˜¤ë¥˜ ë°œìƒ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨

input=$(cat)

# ì—ëŸ¬ ë¡œê·¸ íŒŒì¼
ERROR_LOG=".claude/logs/hook-errors.log"
mkdir -p "$(dirname "$ERROR_LOG")"

# ì—ëŸ¬ í•¸ë“¤ëŸ¬
handle_error() {
    local exit_code=$?
    local line_num=$1

    echo "Error on line $line_num (exit code: $exit_code)" | tee -a "$ERROR_LOG"

    # ì—ëŸ¬ ìƒì„¸ ì •ë³´ ë¡œê¹…
    echo "Input data:" >> "$ERROR_LOG"
    echo "$input" >> "$ERROR_LOG"
    echo "---" >> "$ERROR_LOG"

    exit 1
}

# ì—ëŸ¬ íŠ¸ë© ì„¤ì •
trap 'handle_error $LINENO' ERR

# Hook ë¡œì§...
echo "Executing hook logic..."

exit 0
```

### 3. í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ Hook ì‘ì„±

```bash
#!/bin/bash
# .claude/hooks/testable-hook.sh

# í…ŒìŠ¤íŠ¸ ëª¨ë“œ ì§€ì›
TEST_MODE=${TEST_MODE:-false}

if [ "$TEST_MODE" = "true" ]; then
    # í…ŒìŠ¤íŠ¸ìš© ì…ë ¥ ë°ì´í„°
    input='{"file_path": "test.ts", "content": "// test"}'
else
    # ì‹¤ì œ ì…ë ¥ ë°ì´í„°
    input=$(cat)
fi

# ë¡œì§ ì‹¤í–‰
file_path=$(echo "$input" | jq -r '.file_path')
echo "Processing: $file_path"

exit 0
```

Hook í…ŒìŠ¤íŠ¸:

```bash
# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
TEST_MODE=true .claude/hooks/testable-hook.sh

# ì‹¤ì œ ë°ì´í„°ë¡œ í…ŒìŠ¤íŠ¸
echo '{"file_path": "src/app.ts"}' | .claude/hooks/testable-hook.sh
```

### 4. ë¬¸ì„œí™” í…œí”Œë¦¿

```bash
#!/bin/bash
# .claude/hooks/example-hook.sh

# Hook ì •ë³´
# Name: Example Hook
# Purpose: íŒŒì¼ ì €ì¥ ì „ ê¸°ë³¸ ê²€ì¦ ìˆ˜í–‰
# Trigger: pre-file-write
# Exit Codes:
#   0 - Success (ì‘ì—… ê³„ì†)
#   1 - Error (ì‘ì—… ì¤‘ë‹¨)
#   2 - Warning (ì‘ì—… ê³„ì†í•˜ë˜ ê²½ê³  í‘œì‹œ)
#
# Input JSON Schema:
# {
#   "file_path": "string",
#   "operation": "string",
#   "content": "string",
#   "metadata": {}
# }
#
# Environment Variables:
#   HOOK_DEBUG - Set to "true" for verbose output
#
# Dependencies:
#   - jq (JSON parser)
#   - bash 4.0+
#
# Author: Your Name
# Last Updated: 2025-10-29

# ë””ë²„ê·¸ ëª¨ë“œ
DEBUG=${HOOK_DEBUG:-false}

if [ "$DEBUG" = "true" ]; then
    set -x
fi

# Hook ë¡œì§...
input=$(cat)
echo "Hook executed successfully"

exit 0
```

### 5. ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

```bash
#!/bin/bash
# .claude/hooks/secure-hook.sh

set -euo pipefail

input=$(cat)

# 1. ì…ë ¥ ê²€ì¦
if ! echo "$input" | jq empty 2>/dev/null; then
    echo "Error: Invalid JSON input"
    exit 1
fi

# 2. ê²½ë¡œ ì£¼ì… ë°©ì§€
file_path=$(echo "$input" | jq -r '.file_path')

# ì ˆëŒ€ ê²½ë¡œë§Œ í—ˆìš©í•˜ê±°ë‚˜ ìƒëŒ€ ê²½ë¡œë¥¼ ì•ˆì „í•˜ê²Œ ì •ê·œí™”
if [[ "$file_path" =~ \.\. ]]; then
    echo "Error: Path traversal detected"
    exit 1
fi

# 3. ë¯¼ê°í•œ ë°ì´í„° ë¡œê¹… ë°©ì§€
# ì½˜í…ì¸ ëŠ” ë¡œê·¸ì— ë‚¨ê¸°ì§€ ì•ŠìŒ
echo "Processing file: $(basename "$file_path")"

# 4. í™˜ê²½ ë³€ìˆ˜ ê²€ì¦
if [ -n "${GITHUB_TOKEN:-}" ]; then
    echo "Warning: Sensitive env var detected, masking in logs"
fi

# 5. ì„ì‹œ íŒŒì¼ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬
temp_file=$(mktemp)
trap "rm -f $temp_file" EXIT

# Hook ë¡œì§...

exit 0
```

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ

### ì¼ë°˜ì ì¸ ë¬¸ì œì™€ í•´ê²°ì±…

#### 1. Hookì´ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ

<strong>ì¦ìƒ:</strong> Hook ìŠ¤í¬ë¦½íŠ¸ê°€ ì „í˜€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ

<strong>í•´ê²°ì±…:</strong>

```bash
# ì‹¤í–‰ ê¶Œí•œ í™•ì¸
ls -la .claude/hooks/

# ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
chmod +x .claude/hooks/*.sh

# Hook ë””ë ‰í† ë¦¬ í™•ì¸
cat .claude/settings.json | jq '.hooks'
```

#### 2. Hookì´ ëŠë¦¼

<strong>ì¦ìƒ:</strong> Hook ì‹¤í–‰ìœ¼ë¡œ ì›Œí¬í”Œë¡œìš°ê°€ í¬ê²Œ ëŠë ¤ì§

<strong>í•´ê²°ì±…:</strong>

```bash
# Hook ì‹¤í–‰ ì‹œê°„ ì¸¡ì •
time echo '{"file_path": "test.ts"}' | .claude/hooks/slow-hook.sh

# ë³‘ë ¬ ì‹¤í–‰ìœ¼ë¡œ ìµœì í™”
# Before: ìˆœì°¨ ì‹¤í–‰ (ëŠë¦¼)
check1.sh && check2.sh && check3.sh

# After: ë³‘ë ¬ ì‹¤í–‰ (ë¹ ë¦„)
check1.sh & check2.sh & check3.sh & wait
```

#### 3. Hook ë””ë²„ê¹…

```bash
#!/bin/bash
# .claude/hooks/debug-hook.sh

# ë””ë²„ê·¸ ì¶œë ¥ì„ íŒŒì¼ë¡œ ì €ì¥
DEBUG_LOG=".claude/logs/hook-debug.log"
mkdir -p "$(dirname "$DEBUG_LOG")"

{
    echo "=== Hook Debug Log ==="
    echo "Timestamp: $(date)"
    echo "Input:"
    cat
} | tee -a "$DEBUG_LOG"

# ì…ë ¥ ë°ì´í„° íŒŒì‹±
input=$(tail -n 1 "$DEBUG_LOG")

echo "Parsed input: $input" >> "$DEBUG_LOG"

exit 0
```

#### 4. JSON íŒŒì‹± ì˜¤ë¥˜

```bash
#!/bin/bash
# .claude/hooks/safe-json-parsing.sh

input=$(cat)

# jqê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
if ! command -v jq &> /dev/null; then
    echo "Error: jq is not installed"
    exit 1
fi

# JSON ìœ íš¨ì„± ê²€ì¦
if ! echo "$input" | jq empty 2>/dev/null; then
    echo "Error: Invalid JSON input"
    echo "Received: $input"
    exit 1
fi

# ì•ˆì „í•˜ê²Œ ê°’ ì¶”ì¶œ
file_path=$(echo "$input" | jq -r '.file_path // "unknown"')

exit 0
```

## ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤: ì—”í„°í”„ë¼ì´ì¦ˆ í™˜ê²½ êµ¬ì¶•

### ì™„ì „í•œ Hook ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```mermaid
graph TB
    A[Claude ì‘ì—… ì‹œì‘] --> B{Pre-file-write Hook}

    B --> C[ë³´ì•ˆ ìŠ¤ìº”]
    B --> D[íƒ€ì… ì²´í¬]
    B --> E[ë¦°íŒ…]

    C --> F{ëª¨ë“  ê²€ì‚¬ í†µê³¼?}
    D --> F
    E --> F

    F -->|Yes| G[íŒŒì¼ ì €ì¥]
    F -->|No| H[ì‘ì—… ì¤‘ë‹¨]

    G --> I{Post-file-write Hook}

    I --> J[í¬ë§·íŒ…]
    I --> K[ê°ì‚¬ ë¡œê·¸]
    I --> L[ì•Œë¦¼ ì „ì†¡]

    J --> M[ì™„ë£Œ]
    K --> M
    L --> M
```

### í†µí•© Hook ìŠ¤í¬ë¦½íŠ¸

```bash
#!/bin/bash
# .claude/hooks/enterprise-review.sh

set -euo pipefail

input=$(cat)
file_path=$(echo "$input" | jq -r '.file_path')

LOG_DIR=".claude/logs/$(date +%Y-%m-%d)"
mkdir -p "$LOG_DIR"

echo "ğŸš€ Enterprise Code Review Pipeline"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

# 1ë‹¨ê³„: ë³´ì•ˆ ìŠ¤ìº”
echo "ğŸ”’ Security Scan..."
if command -v semgrep &> /dev/null; then
    semgrep --config=auto "$file_path" --json > "$LOG_DIR/security.json"
    echo "âœ… Security scan completed"
else
    echo "âš ï¸  Semgrep not installed, skipping"
fi

# 2ë‹¨ê³„: ì •ì  ë¶„ì„
echo "ğŸ“Š Static Analysis..."
if [[ "$file_path" =~ \.(ts|tsx)$ ]]; then
    npx tsc --noEmit "$file_path" 2>&1 | tee "$LOG_DIR/typecheck.log"
    echo "âœ… Type check completed"
fi

# 3ë‹¨ê³„: ì½”ë“œ í’ˆì§ˆ
echo "âœ¨ Code Quality Check..."
if command -v sonar-scanner &> /dev/null; then
    sonar-scanner -Dsonar.sources="$file_path" > "$LOG_DIR/sonar.log"
    echo "âœ… SonarQube analysis completed"
fi

# 4ë‹¨ê³„: í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
echo "ğŸ§ª Test Coverage..."
npm run test:coverage -- "$file_path" > "$LOG_DIR/coverage.log" 2>&1 || true

# 5ë‹¨ê³„: ê°ì‚¬ ì¶”ì 
echo "ğŸ“ Audit Trail..."
python3 .claude/hooks/audit-trail.py <<< "$input"

# 6ë‹¨ê³„: ê²°ê³¼ ìš”ì•½
echo ""
echo "ğŸ“‹ Review Summary"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "File: $file_path"
echo "Timestamp: $(date -u +%Y-%m-%dT%H:%M:%SZ)"
echo "Logs: $LOG_DIR/"
echo ""
echo "âœ… All checks passed"

exit 0
```

## ê²°ë¡ 

Claude Code Hook ì‹œìŠ¤í…œì€ AI ê¸°ë°˜ ì½”ë”© ì›Œí¬í”Œë¡œìš°ì— <strong>ì¼ê´€ì„±, í’ˆì§ˆ, ë³´ì•ˆ</strong>ì„ ë³´ì¥í•˜ëŠ” ê°•ë ¥í•œ ë„êµ¬ì…ë‹ˆë‹¤. ì´ ê¸€ì—ì„œ ë‹¤ë£¬ ë‚´ìš©ì„ ìš”ì•½í•˜ë©´:

### í•µì‹¬ ìš”ì 

1. <strong>Hookì€ ì›Œí¬í”Œë¡œìš° ìë™í™”ì˜ í•µì‹¬</strong>
   - íŠ¹ì • ì‹œì ì— ì‚¬ìš©ì ì •ì˜ ë¡œì§ ì‚½ì…
   - ì¢…ë£Œ ì½”ë“œë¡œ Claude ë™ì‘ ì œì–´
   - ë‹¤ì–‘í•œ ì–¸ì–´ì™€ ë„êµ¬ ì§€ì›

2. <strong>ì ì§„ì  ë„ì…ì´ ì¤‘ìš”</strong>
   - Phase 1: ë¹„íŒŒê´´ì  Hook (ì •ë³´ ì œê³µ)
   - Phase 2: ê²½ê³  ìˆ˜ì¤€ Hook (ë¬¸ì œ ì§€ì )
   - Phase 3: ë¸”ë¡œí‚¹ Hook (ì‘ì—… ì¤‘ë‹¨)

3. <strong>ì„±ëŠ¥ê³¼ ë³´ì•ˆ ê³ ë ¤</strong>
   - ë³‘ë ¬ ì‹¤í–‰ìœ¼ë¡œ ì†ë„ í–¥ìƒ
   - ìºì‹±ìœ¼ë¡œ ì¤‘ë³µ ì‘ì—… ë°©ì§€
   - ì…ë ¥ ê²€ì¦ê³¼ ì•ˆì „í•œ ì²˜ë¦¬

4. <strong>ì‹¤ì „ ì ìš© íŒ¨í„´</strong>
   - ì¡°ê±´ë¶€ ì‹¤í–‰ìœ¼ë¡œ íš¨ìœ¨ì„± í–¥ìƒ
   - CI/CD í†µí•©ìœ¼ë¡œ ìë™í™” í™•ì¥
   - ì•Œë¦¼ ì‹œìŠ¤í…œìœ¼ë¡œ íˆ¬ëª…ì„± í™•ë³´

### ë‹¤ìŒ ë‹¨ê³„

1. í”„ë¡œì íŠ¸ì— ê¸°ë³¸ Hook ì„¤ì •
2. ì½”ë”© ê·œì¹™ ìë™ ê²€ì¦ êµ¬í˜„
3. CI/CD íŒŒì´í”„ë¼ì¸ í†µí•©
4. íŒ€ ì „ì²´ë¡œ í™•ì‚° ë° ê°œì„ 

Hook ì‹œìŠ¤í…œì„ íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•˜ë©´ ì½”ë“œ í’ˆì§ˆì€ í–¥ìƒë˜ê³ , ë¦¬ë·° ì‹œê°„ì€ ë‹¨ì¶•ë˜ë©°, ê·œì • ì¤€ìˆ˜ëŠ” ìë™í™”ë©ë‹ˆë‹¤. ì‘ì€ Hookë¶€í„° ì‹œì‘í•˜ì—¬ ì ì§„ì ìœ¼ë¡œ í™•ì¥í•´ ë‚˜ê°€ì„¸ìš”.

## ì°¸ê³  ìë£Œ

- [Claude Code Hooks Implementation Guide](https://medium.com/@richardhightower/claude-code-hooks-implementation-guide-audit-system-03763748700f)
- [Complete Guide: Creating Claude Code Hooks](https://suiteinsider.com/complete-guide-creating-claude-code-hooks/)
- [6 Easy Ways to Level Up Claude Code](https://blog.logrocket.com/6-easy-ways-to-level-up-claude-code/)
- [Claude Code Documentation Map](https://simonwillison.net/2025/Oct/24/claude-code-docs-map/)
- [GitHub Actions with Claude Code](https://skywork.ai/blog/claude-code-plus-ci-cd-integration-setup/)
