---
import BaseHead from '../../components/BaseHead.astro';
import Footer from '../../components/Footer.astro';
import Header from '../../components/Header.astro';
import { getStaticPaths as getI18nStaticPaths } from '../../lib/i18n/utils';
import { useTranslations, type Language } from '../../lib/i18n/languages';

export function getStaticPaths() {
	return getI18nStaticPaths();
}

const { lang } = Astro.params as { lang: Language };
const t = useTranslations(lang);

const contactInfo = {
	ko: {
		intro: 'EffiFlowì— ê´€ì‹¬ì„ ê°€ì ¸ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ê¶ê¸ˆí•˜ì‹  ì ì´ë‚˜ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì•„ë˜ ë°©ë²•ìœ¼ë¡œ ì—°ë½í•´ ì£¼ì„¸ìš”.',
		emailTitle: 'ì´ë©”ì¼',
		emailDesc: 'ì¼ë°˜ ë¬¸ì˜, ê¸°ìˆ  ì§ˆë¬¸, í˜‘ì—… ì œì•ˆ ë“± ëª¨ë“  ë¬¸ì˜ë¥¼ í™˜ì˜í•©ë‹ˆë‹¤. ë³´í†µ 1~2 ì˜ì—…ì¼ ë‚´ì— ë‹µë³€ë“œë¦½ë‹ˆë‹¤.',
		socialTitle: 'ì†Œì…œ ë¯¸ë””ì–´',
		socialDesc: 'ë¹ ë¥¸ ì§ˆë¬¸ì´ë‚˜ ê¸°ìˆ  í† ë¡ ì€ ì†Œì…œ ë¯¸ë””ì–´ë¥¼ í†µí•´ì„œë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.',
		formTitle: 'ë¬¸ì˜ í¼',
		formDesc: 'ì•„ë˜ í¼ì„ í†µí•´ì„œë„ ë¬¸ì˜í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
		aboutTitle: 'ë¸”ë¡œê·¸ ì†Œê°œ',
		aboutDesc: 'EffiFlowëŠ” AI, ìë™í™”, ê°œë°œì ìƒì‚°ì„±ì— ê´€í•œ ê¸°ìˆ  ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. Claude Code, MCP, ì›Œí¬í”Œë¡œìš° ìë™í™”, AI ê¸°ë°˜ ê°œë°œì— ëŒ€í•œ ì‹¤ìš©ì ì¸ ê°€ì´ë“œì™€ ì‹¬ì¸µ ë¶„ì„ì„ ê³µìœ í•©ë‹ˆë‹¤. 316í¸ ì´ìƒì˜ ê¸°ìˆ  ì•„í‹°í´ì„ 4ê°œ ì–¸ì–´(í•œêµ­ì–´, ì˜ì–´, ì¼ë³¸ì–´, ì¤‘êµ­ì–´)ë¡œ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.',
	},
	ja: {
		intro: 'EffiFlowã«ã”èˆˆå‘³ã‚’ãŠæŒã¡ã„ãŸã ãã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚ã”è³ªå•ã‚„ãŠå•ã„åˆã‚ã›ãŒã”ã–ã„ã¾ã—ãŸã‚‰ã€ä»¥ä¸‹ã®æ–¹æ³•ã§ã”é€£çµ¡ãã ã•ã„ã€‚',
		emailTitle: 'ãƒ¡ãƒ¼ãƒ«',
		emailDesc: 'ä¸€èˆ¬çš„ãªãŠå•ã„åˆã‚ã›ã€æŠ€è¡“çš„ãªã”è³ªå•ã€ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ã”ææ¡ˆãªã©ã€ã™ã¹ã¦ã®ãŠå•ã„åˆã‚ã›ã‚’æ­“è¿ã—ã¾ã™ã€‚é€šå¸¸1ã€œ2å–¶æ¥­æ—¥ä»¥å†…ã«ã”è¿”ä¿¡ã„ãŸã—ã¾ã™ã€‚',
		socialTitle: 'ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ¡ãƒ‡ã‚£ã‚¢',
		socialDesc: 'ç°¡å˜ãªã”è³ªå•ã‚„æŠ€è¡“ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã¯ã€ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ¡ãƒ‡ã‚£ã‚¢ã§ã‚‚å¯èƒ½ã§ã™ã€‚',
		formTitle: 'ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ',
		formDesc: 'ä»¥ä¸‹ã®ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ã‚‚ãŠå•ã„åˆã‚ã›ã„ãŸã ã‘ã¾ã™ã€‚',
		aboutTitle: 'ãƒ–ãƒ­ã‚°ã«ã¤ã„ã¦',
		aboutDesc: 'EffiFlowã¯ã€AIã€è‡ªå‹•åŒ–ã€é–‹ç™ºè€…ã®ç”Ÿç”£æ€§ã«é–¢ã™ã‚‹æŠ€è¡“ãƒ–ãƒ­ã‚°ã§ã™ã€‚Claude Codeã€MCPã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è‡ªå‹•åŒ–ã€AIãƒ™ãƒ¼ã‚¹é–‹ç™ºã«é–¢ã™ã‚‹å®Ÿç”¨çš„ãªã‚¬ã‚¤ãƒ‰ã¨æ·±ã„åˆ†æã‚’å…±æœ‰ã—ã¦ã„ã¾ã™ã€‚316ä»¥ä¸Šã®æŠ€è¡“è¨˜äº‹ã‚’4è¨€èªï¼ˆéŸ“å›½èªã€è‹±èªã€æ—¥æœ¬èªã€ä¸­å›½èªï¼‰ã§æä¾›ã—ã¦ã„ã¾ã™ã€‚',
	},
	zh: {
		intro: 'æ„Ÿè°¢æ‚¨å¯¹EffiFlowçš„å…³æ³¨ã€‚å¦‚æœ‰ä»»ä½•ç–‘é—®æˆ–å’¨è¯¢äº‹é¡¹ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¸æˆ‘ä»¬è”ç³»ã€‚',
		emailTitle: 'ç”µå­é‚®ä»¶',
		emailDesc: 'æ¬¢è¿å„ç±»å’¨è¯¢ï¼ŒåŒ…æ‹¬ä¸€èˆ¬é—®é¢˜ã€æŠ€æœ¯ç–‘é—®ã€åˆä½œå»ºè®®ç­‰ã€‚é€šå¸¸ä¼šåœ¨1-2ä¸ªå·¥ä½œæ—¥å†…å›å¤ã€‚',
		socialTitle: 'ç¤¾äº¤åª’ä½“',
		socialDesc: 'å¿«é€Ÿé—®é¢˜æˆ–æŠ€æœ¯è®¨è®ºä¹Ÿå¯ä»¥é€šè¿‡ç¤¾äº¤åª’ä½“è¿›è¡Œã€‚',
		formTitle: 'è”ç³»è¡¨å•',
		formDesc: 'æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ä»¥ä¸‹è¡¨å•è”ç³»æˆ‘ä»¬ã€‚',
		aboutTitle: 'åšå®¢ç®€ä»‹',
		aboutDesc: 'EffiFlowæ˜¯ä¸€ä¸ªå…³äºAIã€è‡ªåŠ¨åŒ–å’Œå¼€å‘è€…ç”Ÿäº§åŠ›çš„æŠ€æœ¯åšå®¢ã€‚åˆ†äº«å…³äºClaude Codeã€MCPã€å·¥ä½œæµè‡ªåŠ¨åŒ–ã€AIé©±åŠ¨å¼€å‘çš„å®ç”¨æŒ‡å—å’Œæ·±å…¥åˆ†æã€‚æä¾›è¶…è¿‡316ç¯‡æŠ€æœ¯æ–‡ç« ï¼Œæ”¯æŒ4ç§è¯­è¨€ï¼ˆéŸ©è¯­ã€è‹±è¯­ã€æ—¥è¯­ã€ä¸­æ–‡ï¼‰ã€‚',
	},
	en: {
		intro: 'Thank you for your interest in EffiFlow. If you have any questions or inquiries, please feel free to reach out through any of the methods below.',
		emailTitle: 'Email',
		emailDesc: 'We welcome all inquiries including general questions, technical discussions, and collaboration proposals. We typically respond within 1-2 business days.',
		socialTitle: 'Social Media',
		socialDesc: 'For quick questions or tech discussions, you can also reach us via social media.',
		formTitle: 'Contact Form',
		formDesc: 'You can also reach out through the form below.',
		aboutTitle: 'About This Blog',
		aboutDesc: 'EffiFlow is a technical blog dedicated to AI, automation, and developer productivity. We share practical guides and in-depth analysis on Claude Code, MCP, workflow automation, and AI-powered development. With 316+ technical articles available in 4 languages (Korean, English, Japanese, Chinese).',
	},
};

const info = contactInfo[lang] || contactInfo.en;
---

<!doctype html>
<html lang={lang}>
	<head>
		<BaseHead title={t('nav.contact')} description={t('site.description')} />
	</head>
	<body class="bg-gray-50 dark:bg-gray-900">
		<Header lang={lang} />
		<main class="max-w-4xl mx-auto px-4 py-12">
			<h1 class="text-4xl font-bold mb-8 text-gray-900 dark:text-gray-100">{t('nav.contact')}</h1>

			<div class="prose prose-lg max-w-none mb-12 dark:prose-invert">
				<p class="text-lg text-gray-600 dark:text-gray-300">{info.intro}</p>
			</div>

			<!-- Contact Methods -->
			<div class="grid md:grid-cols-2 gap-6 mb-12">
				<!-- Email -->
				<div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6 shadow-sm">
					<div class="flex items-center gap-3 mb-4">
						<svg class="w-8 h-8 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
						</svg>
						<h2 class="text-xl font-bold text-gray-900 dark:text-gray-100">{info.emailTitle}</h2>
					</div>
					<a href="mailto:kim.jangwook.1029@gmail.com" class="text-accent hover:underline text-lg font-medium block mb-3">
						kim.jangwook.1029@gmail.com
					</a>
					<p class="text-sm text-gray-600 dark:text-gray-400">{info.emailDesc}</p>
				</div>

				<!-- Social Media -->
				<div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6 shadow-sm">
					<div class="flex items-center gap-3 mb-4">
						<svg class="w-8 h-8 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z" />
						</svg>
						<h2 class="text-xl font-bold text-gray-900 dark:text-gray-100">{info.socialTitle}</h2>
					</div>
					<div class="space-y-2">
						<a href="https://x.com/Kim_Jangwook" target="_blank" rel="noopener noreferrer" class="text-accent hover:underline block">
							ğ• (Twitter): @Kim_Jangwook
						</a>
						<a href="https://linkedin.com/in/jangwook-kim-2590a1174" target="_blank" rel="noopener noreferrer" class="text-accent hover:underline block">
							LinkedIn: Jangwook Kim
						</a>
						<a href="https://github.com/kimjangwook" target="_blank" rel="noopener noreferrer" class="text-accent hover:underline block">
							GitHub: kimjangwook
						</a>
					</div>
					<p class="text-sm text-gray-600 dark:text-gray-400 mt-3">{info.socialDesc}</p>
				</div>
			</div>

			<!-- About Section (adds crawlable content) -->
			<div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-8 mb-12">
				<h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-gray-100">{info.aboutTitle}</h2>
				<p class="text-gray-600 dark:text-gray-300 leading-relaxed">{info.aboutDesc}</p>
			</div>

			<!-- Embedded Form -->
			<div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-8">
				<h2 class="text-2xl font-bold mb-4 text-gray-900 dark:text-gray-100">{info.formTitle}</h2>
				<p class="text-gray-600 dark:text-gray-400 mb-6">{info.formDesc}</p>
				<iframe
					src="https://docs.google.com/forms/d/e/1FAIpQLScrrwaSvM0oJ20MghN7-K463SbfxlSGyBwuiTpADlYI4iHclA/viewform?embedded=true"
					width="100%"
					height="1000"
					frameborder="0"
					marginheight="0"
					marginwidth="0"
					class="rounded-lg"
					title="Contact Form">
					Loadingâ€¦
				</iframe>
			</div>
		</main>
		<Footer lang={lang} />

		<!-- Contact Form Interaction Tracking -->
		<script is:inline>
			let contactTracked = false;

			function trackContactInteraction() {
				if (contactTracked) return;
				contactTracked = true;

				if (typeof gtag !== 'undefined') {
					gtag('event', 'contact_button_click', {
						'page_title': document.title,
						'page_location': window.location.href,
						'page_path': window.location.pathname,
						'event_category': 'engagement',
						'event_label': 'contact_form_interaction'
					});
				}
			}

			const iframe = document.querySelector('iframe');
			if (iframe) {
				iframe.addEventListener('load', () => {
					window.addEventListener('blur', () => {
						if (document.activeElement === iframe) {
							trackContactInteraction();
						}
					});
				});
			}
		</script>
	</body>
</html>
