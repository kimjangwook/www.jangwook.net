---
import { getCollection } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import BlogCard from '../components/BlogCard.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import { filterPostsByDate, calculateReadingTime } from '../lib/content';
import { languages } from '../lib/i18n/languages';

// Get all blog posts and filter by date
const allPosts = await getCollection('blog');
const publishedPosts = filterPostsByDate(allPosts);

// Group posts by slug (without language prefix) to find translations
type PostWithTranslations = {
	slug: string;
	posts: Record<string, typeof publishedPosts[0]>;
	primaryPost: typeof publishedPosts[0];
};

const postsBySlug = new Map<string, PostWithTranslations>();
publishedPosts.forEach((post) => {
	// Extract slug without language prefix (e.g., "ko/post-title" -> "post-title")
	const slugMatch = post.id.match(/^(ko|en|ja|zh)\/(.+)$/);
	if (slugMatch) {
		const [, lang, slug] = slugMatch;
		if (!postsBySlug.has(slug)) {
			postsBySlug.set(slug, {
				slug,
				posts: {},
				primaryPost: post,
			});
		}
		const group = postsBySlug.get(slug)!;
		group.posts[lang] = post;
	}
});

// Get latest posts with their translations (sorted by date)
const latestPostGroups = Array.from(postsBySlug.values())
	.sort((a, b) => b.primaryPost.data.pubDate.valueOf() - a.primaryPost.data.pubDate.valueOf())
	.slice(0, 6);

// Get posts per language for featured sections
const featuredPosts = {
	ko: publishedPosts
		.filter((post) => post.id.startsWith('ko/'))
		.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
		.slice(0, 4),
	en: publishedPosts
		.filter((post) => post.id.startsWith('en/'))
		.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
		.slice(0, 4),
	ja: publishedPosts
		.filter((post) => post.id.startsWith('ja/'))
		.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
		.slice(0, 4),
	zh: publishedPosts
		.filter((post) => post.id.startsWith('zh/'))
		.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
		.slice(0, 4),
};

// Calculate statistics
const totalPosts = publishedPosts.length;
const languageCount = Object.keys(languages).length;

// Extract unique tags from all posts
const allTags = new Set<string>();
publishedPosts.forEach((post) => {
	if (post.data.tags) {
		post.data.tags.forEach((tag) => allTags.add(tag));
	}
});
const topTags = Array.from(allTags).slice(0, 8);

// Language metadata for display
const langMeta = {
	ko: { name: 'í•œêµ­ì–´', flag: 'ğŸ‡°ğŸ‡·', nativeName: 'Korean' },
	en: { name: 'English', flag: 'ğŸ‡ºğŸ‡¸', nativeName: 'English' },
	ja: { name: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ', nativeName: 'Japanese' },
	zh: { name: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³', nativeName: 'Chinese' },
};

// UI translations
const uiText = {
	ko: {
		welcome: 'EffiFlowì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤',
		description: 'AI, ìë™í™”, ê°œë°œì ìƒì‚°ì„±ì— ê´€í•œ ê¸°ìˆ  ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. Claude Code, MCP(Model Context Protocol), ì›Œí¬í”Œë¡œìš° ìµœì í™” ë“± ìµœì‹  AI ê¸°ìˆ ì— ëŒ€í•œ ì‹¬ì¸µì ì¸ ê¸€ì„ ê³µìœ í•©ë‹ˆë‹¤.',
		featuredTitle: 'ìµœì‹  í¬ìŠ¤íŠ¸',
		featuredDesc: 'AI, ìë™í™”, ê°œë°œ íš¨ìœ¨ì„±ì— ëŒ€í•œ ìµœì‹  ì¸ì‚¬ì´íŠ¸',
		viewAll: 'ì „ì²´ ë³´ê¸° â†’',
		alsoIn: 'ë‹¤ë¥¸ ì–¸ì–´ë¡œ ì½ê¸°',
		topics: 'ì¸ê¸° í† í”½',
		aboutAuthor: 'ì €ì ì†Œê°œ',
		aboutDesc: 'Kim JangwookëŠ” ìë™í™”, ê°œë°œì ìƒì‚°ì„±, ìµœì‹  ì›¹ ê¸°ìˆ ì„ ì „ë¬¸ìœ¼ë¡œ í•˜ëŠ” í’€ìŠ¤íƒ ê°œë°œìì´ì AI ì• í˜¸ê°€ì…ë‹ˆë‹¤.',
		projects: 'ì£¼ìš” í”„ë¡œì íŠ¸',
		experience: 'ê²½ë ¥',
		expertise: 'ì „ë¬¸ ë¶„ì•¼',
	},
	en: {
		welcome: 'Welcome to EffiFlow',
		description: 'A comprehensive technical blog dedicated to artificial intelligence, automation, and developer productivity. We explore cutting-edge AI technologies like Claude Code, MCP, and workflow optimization.',
		featuredTitle: 'Latest Articles',
		featuredDesc: 'Explore our latest insights on AI, automation, and development efficiency',
		viewAll: 'View all â†’',
		alsoIn: 'Also available in',
		topics: 'Popular Topics',
		aboutAuthor: 'About the Author',
		aboutDesc: 'Kim Jangwook is a full-stack developer and AI enthusiast specializing in automation, developer productivity, and modern web technologies.',
		projects: 'Featured Projects',
		experience: 'Professional Experience',
		expertise: 'Core Expertise',
	},
	ja: {
		welcome: 'EffiFlowã¸ã‚ˆã†ã“ã',
		description: 'AIã€è‡ªå‹•åŒ–ã€é–‹ç™ºè€…ã®ç”Ÿç”£æ€§ã«é–¢ã™ã‚‹æŠ€è¡“ãƒ–ãƒ­ã‚°ã§ã™ã€‚Claude Codeã€MCPã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æœ€é©åŒ–ãªã©ã€æœ€å…ˆç«¯ã®AIæŠ€è¡“ã«ã¤ã„ã¦æ·±ãæ˜ã‚Šä¸‹ã’ãŸè¨˜äº‹ã‚’å…±æœ‰ã—ã¦ã„ã¾ã™ã€‚',
		featuredTitle: 'æœ€æ–°è¨˜äº‹',
		featuredDesc: 'AIã€è‡ªå‹•åŒ–ã€é–‹ç™ºåŠ¹ç‡ã«é–¢ã™ã‚‹æœ€æ–°ã®ã‚¤ãƒ³ã‚µã‚¤ãƒˆ',
		viewAll: 'ã™ã¹ã¦è¦‹ã‚‹ â†’',
		alsoIn: 'ä»–ã®è¨€èªã§èª­ã‚€',
		topics: 'äººæ°—ãƒˆãƒ”ãƒƒã‚¯',
		aboutAuthor: 'è‘—è€…ã«ã¤ã„ã¦',
		aboutDesc: 'Kim Jangwookã¯ã€è‡ªå‹•åŒ–ã€é–‹ç™ºè€…ã®ç”Ÿç”£æ€§ã€ãƒ¢ãƒ€ãƒ³WebæŠ€è¡“ã‚’å°‚é–€ã¨ã™ã‚‹ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºè€…ã§ã‚ã‚ŠAIæ„›å¥½å®¶ã§ã™ã€‚',
		projects: 'ä¸»ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ',
		experience: 'è·å‹™çµŒæ­´',
		expertise: 'å°‚é–€åˆ†é‡',
	},
	zh: {
		welcome: 'æ¬¢è¿æ¥åˆ° EffiFlow',
		description: 'è¿™æ˜¯ä¸€ä¸ªä¸“æ³¨äºäººå·¥æ™ºèƒ½ã€è‡ªåŠ¨åŒ–å’Œå¼€å‘è€…ç”Ÿäº§åŠ›çš„æŠ€æœ¯åšå®¢ã€‚æˆ‘ä»¬æ·±å…¥æ¢è®¨ Claude Codeã€MCP å’Œå·¥ä½œæµç¨‹ä¼˜åŒ–ç­‰å‰æ²¿ AI æŠ€æœ¯ã€‚',
		featuredTitle: 'æœ€æ–°æ–‡ç« ',
		featuredDesc: 'æ¢ç´¢æˆ‘ä»¬å…³äºAIã€è‡ªåŠ¨åŒ–å’Œå¼€å‘æ•ˆç‡çš„æœ€æ–°è§è§£',
		viewAll: 'æŸ¥çœ‹å…¨éƒ¨ â†’',
		alsoIn: 'å…¶ä»–è¯­è¨€ç‰ˆæœ¬',
		topics: 'çƒ­é—¨è¯é¢˜',
		aboutAuthor: 'å…³äºä½œè€…',
		aboutDesc: 'Kim Jangwook æ˜¯ä¸€åå…¨æ ˆå¼€å‘è€…å’Œ AI çˆ±å¥½è€…ï¼Œä¸“æ³¨äºè‡ªåŠ¨åŒ–ã€å¼€å‘è€…ç”Ÿäº§åŠ›å’Œç°ä»£ Web æŠ€æœ¯ã€‚',
		projects: 'ç²¾é€‰é¡¹ç›®',
		experience: 'èŒä¸šç»å†',
		expertise: 'æ ¸å¿ƒä¸“é•¿',
	},
};
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
		<style>
			.lang-section { display: none; }
			.lang-section.active { display: block; }
			.other-langs { opacity: 0.7; }
			.other-langs:hover { opacity: 1; }
		</style>
	</head>
	<body class="bg-gray-50 dark:bg-gray-900">
		<Header lang="en" />

		<main>
			<!-- Hero Section - Language Adaptive -->
			<section class="bg-gradient-to-br from-purple-600 via-blue-600 to-indigo-700 text-white">
				<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 md:py-32">
					<div class="text-center">
						<h1 id="hero-title" class="text-4xl md:text-6xl font-bold mb-6">
							Welcome to <span class="text-yellow-300">EffiFlow</span>
						</h1>
						<p id="hero-description" class="text-xl md:text-2xl mb-8 max-w-3xl mx-auto leading-relaxed">
							A comprehensive technical blog dedicated to artificial intelligence, automation, and developer productivity.
							We explore cutting-edge AI technologies like Claude Code, MCP, and workflow optimization.
						</p>
						<div class="flex flex-wrap justify-center gap-4 mb-8">
							<a href="/ko/" data-lang="ko" class="lang-btn inline-flex items-center gap-2 bg-white text-purple-700 hover:bg-yellow-300 hover:text-purple-800 px-6 py-3 rounded-full font-semibold transition-colors shadow-md">
								<span class="text-2xl">ğŸ‡°ğŸ‡·</span>
								<span class="lang-text">í•œêµ­ì–´</span>
							</a>
							<a href="/en/" data-lang="en" class="lang-btn inline-flex items-center gap-2 bg-white/90 text-purple-700 hover:bg-yellow-300 hover:text-purple-800 px-6 py-3 rounded-full font-semibold transition-colors shadow-md">
								<span class="text-2xl">ğŸ‡ºğŸ‡¸</span>
								<span class="lang-text">English</span>
							</a>
							<a href="/ja/" data-lang="ja" class="lang-btn inline-flex items-center gap-2 bg-white/90 text-purple-700 hover:bg-yellow-300 hover:text-purple-800 px-6 py-3 rounded-full font-semibold transition-colors shadow-md">
								<span class="text-2xl">ğŸ‡¯ğŸ‡µ</span>
								<span class="lang-text">æ—¥æœ¬èª</span>
							</a>
							<a href="/zh/" data-lang="zh" class="lang-btn inline-flex items-center gap-2 bg-white/90 text-purple-700 hover:bg-yellow-300 hover:text-purple-800 px-6 py-3 rounded-full font-semibold transition-colors shadow-md">
								<span class="text-2xl">ğŸ‡¨ğŸ‡³</span>
								<span class="lang-text">ä¸­æ–‡</span>
							</a>
						</div>
					</div>
				</div>
			</section>

			<!-- Statistics Section -->
			<section class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700">
				<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
					<div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
						<div>
							<div class="text-4xl font-bold text-purple-600 dark:text-purple-400 mb-2">{totalPosts}+</div>
							<div class="text-gray-600 dark:text-gray-300 font-medium">Technical Articles</div>
						</div>
						<div>
							<div class="text-4xl font-bold text-blue-600 dark:text-blue-400 mb-2">{languageCount}</div>
							<div class="text-gray-600 dark:text-gray-300 font-medium">Languages Supported</div>
						</div>
						<div>
							<div class="text-4xl font-bold text-indigo-600 dark:text-indigo-400 mb-2">{topTags.length}+</div>
							<div class="text-gray-600 dark:text-gray-300 font-medium">Tech Topics</div>
						</div>
						<div>
							<div class="text-4xl font-bold text-pink-600 dark:text-pink-400 mb-2">2025</div>
							<div class="text-gray-600 dark:text-gray-300 font-medium">Actively Updated</div>
						</div>
					</div>
				</div>
			</section>

			<!-- Featured Posts Section - Language Adaptive -->
			<section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
				<div class="text-center mb-12">
					<h2 id="featured-title" class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4">
						Latest Articles
					</h2>
					<p id="featured-desc" class="text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
						Explore our latest insights on AI, automation, and development efficiency
					</p>
				</div>

				<!-- Korean Posts Section -->
				<div id="posts-ko" class="lang-section">
					<div class="flex items-center gap-3 mb-6">
						<span class="text-3xl">ğŸ‡°ğŸ‡·</span>
						<h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100">í•œêµ­ì–´ (Korean)</h3>
						<a href="/ko/blog" class="ml-auto text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 font-medium view-all-link">
							ì „ì²´ ë³´ê¸° â†’
						</a>
					</div>
					<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
						{featuredPosts.ko.map((post) => {
							const slug = post.id.replace(/^ko\//, '');
							const translations = postsBySlug.get(slug);
							const otherLangs = translations ? Object.keys(translations.posts).filter(l => l !== 'ko') : [];
							return (
								<div class="relative">
									<BlogCard
										href={`/ko/blog/ko/${slug}/`}
										title={post.data.title}
										description={post.data.description}
										pubDate={post.data.pubDate}
										heroImage={post.data.heroImage}
										tags={post.data.tags}
										readingTime={calculateReadingTime(post.body || '')}
									/>
									{otherLangs.length > 0 && (
										<div class="mt-2 flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400">
											<span class="also-in-label">ë‹¤ë¥¸ ì–¸ì–´:</span>
											{otherLangs.map((lang) => (
												<a
													href={`/${lang}/blog/${lang}/${slug}/`}
													class="inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"
												>
													{langMeta[lang as keyof typeof langMeta].flag}
													<span class="text-xs">{langMeta[lang as keyof typeof langMeta].name}</span>
												</a>
											))}
										</div>
									)}
								</div>
							);
						})}
					</div>
				</div>

				<!-- English Posts Section -->
				<div id="posts-en" class="lang-section">
					<div class="flex items-center gap-3 mb-6">
						<span class="text-3xl">ğŸ‡ºğŸ‡¸</span>
						<h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100">English</h3>
						<a href="/en/blog" class="ml-auto text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 font-medium view-all-link">
							View all â†’
						</a>
					</div>
					<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
						{featuredPosts.en.map((post) => {
							const slug = post.id.replace(/^en\//, '');
							const translations = postsBySlug.get(slug);
							const otherLangs = translations ? Object.keys(translations.posts).filter(l => l !== 'en') : [];
							return (
								<div class="relative">
									<BlogCard
										href={`/en/blog/en/${slug}/`}
										title={post.data.title}
										description={post.data.description}
										pubDate={post.data.pubDate}
										heroImage={post.data.heroImage}
										tags={post.data.tags}
										readingTime={calculateReadingTime(post.body || '')}
									/>
									{otherLangs.length > 0 && (
										<div class="mt-2 flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400">
											<span class="also-in-label">Also in:</span>
											{otherLangs.map((lang) => (
												<a
													href={`/${lang}/blog/${lang}/${slug}/`}
													class="inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"
												>
													{langMeta[lang as keyof typeof langMeta].flag}
													<span class="text-xs">{langMeta[lang as keyof typeof langMeta].name}</span>
												</a>
											))}
										</div>
									)}
								</div>
							);
						})}
					</div>
				</div>

				<!-- Japanese Posts Section -->
				<div id="posts-ja" class="lang-section">
					<div class="flex items-center gap-3 mb-6">
						<span class="text-3xl">ğŸ‡¯ğŸ‡µ</span>
						<h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100">æ—¥æœ¬èª (Japanese)</h3>
						<a href="/ja/blog" class="ml-auto text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 font-medium view-all-link">
							ã™ã¹ã¦è¦‹ã‚‹ â†’
						</a>
					</div>
					<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
						{featuredPosts.ja.map((post) => {
							const slug = post.id.replace(/^ja\//, '');
							const translations = postsBySlug.get(slug);
							const otherLangs = translations ? Object.keys(translations.posts).filter(l => l !== 'ja') : [];
							return (
								<div class="relative">
									<BlogCard
										href={`/ja/blog/ja/${slug}/`}
										title={post.data.title}
										description={post.data.description}
										pubDate={post.data.pubDate}
										heroImage={post.data.heroImage}
										tags={post.data.tags}
										readingTime={calculateReadingTime(post.body || '')}
									/>
									{otherLangs.length > 0 && (
										<div class="mt-2 flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400">
											<span class="also-in-label">ä»–ã®è¨€èª:</span>
											{otherLangs.map((lang) => (
												<a
													href={`/${lang}/blog/${lang}/${slug}/`}
													class="inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"
												>
													{langMeta[lang as keyof typeof langMeta].flag}
													<span class="text-xs">{langMeta[lang as keyof typeof langMeta].name}</span>
												</a>
											))}
										</div>
									)}
								</div>
							);
						})}
					</div>
				</div>

				<!-- Chinese Posts Section -->
				<div id="posts-zh" class="lang-section">
					<div class="flex items-center gap-3 mb-6">
						<span class="text-3xl">ğŸ‡¨ğŸ‡³</span>
						<h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100">ä¸­æ–‡ (Chinese)</h3>
						<a href="/zh/blog" class="ml-auto text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 font-medium view-all-link">
							æŸ¥çœ‹å…¨éƒ¨ â†’
						</a>
					</div>
					<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
						{featuredPosts.zh.map((post) => {
							const slug = post.id.replace(/^zh\//, '');
							const translations = postsBySlug.get(slug);
							const otherLangs = translations ? Object.keys(translations.posts).filter(l => l !== 'zh') : [];
							return (
								<div class="relative">
									<BlogCard
										href={`/zh/blog/zh/${slug}/`}
										title={post.data.title}
										description={post.data.description}
										pubDate={post.data.pubDate}
										heroImage={post.data.heroImage}
										tags={post.data.tags}
										readingTime={calculateReadingTime(post.body || '')}
									/>
									{otherLangs.length > 0 && (
										<div class="mt-2 flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400">
											<span class="also-in-label">å…¶ä»–è¯­è¨€:</span>
											{otherLangs.map((lang) => (
												<a
													href={`/${lang}/blog/${lang}/${slug}/`}
													class="inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors"
												>
													{langMeta[lang as keyof typeof langMeta].flag}
													<span class="text-xs">{langMeta[lang as keyof typeof langMeta].name}</span>
												</a>
											))}
										</div>
									)}
								</div>
							);
						})}
					</div>
				</div>

				<!-- Other Languages Section (shown below primary) -->
				<div id="other-languages" class="mt-12 pt-8 border-t border-gray-200 dark:border-gray-700">
					<h3 id="other-langs-title" class="text-xl font-semibold text-gray-700 dark:text-gray-300 mb-6">
						Also available in other languages
					</h3>
					<div id="other-langs-container" class="grid grid-cols-2 md:grid-cols-4 gap-4 other-langs">
						<!-- Populated by JavaScript -->
					</div>
				</div>
			</section>

			<!-- Topics Section -->
			<section class="bg-gray-100 dark:bg-gray-800 py-16">
				<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
					<div class="text-center mb-12">
						<h2 id="topics-title" class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4">
							Popular Topics
						</h2>
					</div>
					<div class="flex flex-wrap justify-center gap-4">
						{topTags.map((tag) => (
							<div class="bg-white dark:bg-gray-700 px-6 py-3 rounded-full shadow-md hover:shadow-lg transition-shadow">
								<span class="text-purple-600 dark:text-purple-400 font-semibold">#{tag}</span>
							</div>
						))}
					</div>
				</div>
			</section>

			<!-- About Author Section -->
			<section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
				<div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 md:p-12">
					<div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
						<div>
							<h2 id="about-title" class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-6">
								About the Author
							</h2>
							<div id="about-desc-container" class="space-y-4 text-gray-600 dark:text-gray-300">
								<!-- Content will be updated by JavaScript -->
							</div>
							<div class="flex gap-4 mt-8">
								<a href="https://github.com/kimjangwook" target="_blank"
								   class="inline-flex items-center gap-2 bg-gray-900 dark:bg-gray-700 text-white px-6 py-3 rounded-lg hover:bg-gray-800 dark:hover:bg-gray-600 transition-colors font-medium">
									<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
										<path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"/>
									</svg>
									GitHub
								</a>
								<a href="https://linkedin.com/in/jangwook-kim-2590a1174" target="_blank"
								   class="inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium">
									<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
										<path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
									</svg>
									LinkedIn
								</a>
							</div>
						</div>
						<div class="space-y-6">
							<div class="bg-gradient-to-br from-purple-100 to-blue-100 dark:from-purple-900/30 dark:to-blue-900/30 rounded-xl p-6">
								<h3 id="experience-title" class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-4">Professional Experience</h3>
								<ul id="experience-list" class="space-y-3 text-gray-700 dark:text-gray-300">
									<!-- Content will be updated by JavaScript -->
								</ul>
							</div>
							<div class="bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-xl p-6">
								<h3 id="expertise-title" class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-4">Core Expertise</h3>
								<div class="flex flex-wrap gap-2">
									<span class="px-3 py-1 bg-white dark:bg-gray-700 rounded-full text-sm font-medium text-gray-700 dark:text-gray-300">AI & LLM</span>
									<span class="px-3 py-1 bg-white dark:bg-gray-700 rounded-full text-sm font-medium text-gray-700 dark:text-gray-300">Claude Code</span>
									<span class="px-3 py-1 bg-white dark:bg-gray-700 rounded-full text-sm font-medium text-gray-700 dark:text-gray-300">MCP</span>
									<span class="px-3 py-1 bg-white dark:bg-gray-700 rounded-full text-sm font-medium text-gray-700 dark:text-gray-300">Automation</span>
									<span class="px-3 py-1 bg-white dark:bg-gray-700 rounded-full text-sm font-medium text-gray-700 dark:text-gray-300">SvelteKit</span>
									<span class="px-3 py-1 bg-white dark:bg-gray-700 rounded-full text-sm font-medium text-gray-700 dark:text-gray-300">Vue.js</span>
									<span class="px-3 py-1 bg-white dark:bg-gray-700 rounded-full text-sm font-medium text-gray-700 dark:text-gray-300">Python</span>
									<span class="px-3 py-1 bg-white dark:bg-gray-700 rounded-full text-sm font-medium text-gray-700 dark:text-gray-300">Laravel</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- Projects Section -->
			<section class="bg-gray-100 dark:bg-gray-800 py-16">
				<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
					<div class="text-center mb-12">
						<h2 id="projects-title" class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4">
							Featured Projects
						</h2>
					</div>

					<!-- Personal Projects -->
					<div class="mb-12">
						<h3 id="personal-projects-title" class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6">Personal Projects</h3>
						<div id="personal-projects-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
							<!-- Content will be updated by JavaScript -->
						</div>
					</div>

					<!-- Professional Works -->
					<div>
						<h3 id="professional-works-title" class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6">Professional Works</h3>
						<div id="professional-works-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
							<!-- Content will be updated by JavaScript -->
						</div>
					</div>
				</div>
			</section>
		</main>

		<Footer lang="en" />

		<!-- Language Detection and UI Adaptation Script -->
		<script>
			import { getRecommendedLanguage, saveLanguagePreference, type SupportedLanguage } from '../lib/language-detection';

			// UI text translations
			const uiText: Record<SupportedLanguage, Record<string, string>> = {
				ko: {
					heroTitle: 'EffiFlowì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤',
					heroDesc: 'AI, ìë™í™”, ê°œë°œì ìƒì‚°ì„±ì— ê´€í•œ ê¸°ìˆ  ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. Claude Code, MCP(Model Context Protocol), ì›Œí¬í”Œë¡œìš° ìµœì í™” ë“± ìµœì‹  AI ê¸°ìˆ ì— ëŒ€í•œ ì‹¬ì¸µì ì¸ ê¸€ì„ ê³µìœ í•©ë‹ˆë‹¤.',
					featuredTitle: 'ìµœì‹  í¬ìŠ¤íŠ¸',
					featuredDesc: 'AI, ìë™í™”, ê°œë°œ íš¨ìœ¨ì„±ì— ëŒ€í•œ ìµœì‹  ì¸ì‚¬ì´íŠ¸',
					topics: 'ì¸ê¸° í† í”½',
					aboutTitle: 'ì €ì ì†Œê°œ',
					experienceTitle: 'ê²½ë ¥',
					expertiseTitle: 'ì „ë¬¸ ë¶„ì•¼',
					projectsTitle: 'ì£¼ìš” í”„ë¡œì íŠ¸',
					otherLangsTitle: 'ë‹¤ë¥¸ ì–¸ì–´ë¡œë„ ì½ê¸°',
				},
				en: {
					heroTitle: 'Welcome to EffiFlow',
					heroDesc: 'A comprehensive technical blog dedicated to artificial intelligence, automation, and developer productivity. We explore cutting-edge AI technologies like Claude Code, MCP, and workflow optimization.',
					featuredTitle: 'Latest Articles',
					featuredDesc: 'Explore our latest insights on AI, automation, and development efficiency',
					topics: 'Popular Topics',
					aboutTitle: 'About the Author',
					experienceTitle: 'Professional Experience',
					expertiseTitle: 'Core Expertise',
					projectsTitle: 'Featured Projects',
					otherLangsTitle: 'Also available in other languages',
				},
				ja: {
					heroTitle: 'EffiFlowã¸ã‚ˆã†ã“ã',
					heroDesc: 'AIã€è‡ªå‹•åŒ–ã€é–‹ç™ºè€…ã®ç”Ÿç”£æ€§ã«é–¢ã™ã‚‹æŠ€è¡“ãƒ–ãƒ­ã‚°ã§ã™ã€‚Claude Codeã€MCPã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æœ€é©åŒ–ãªã©ã€æœ€å…ˆç«¯ã®AIæŠ€è¡“ã«ã¤ã„ã¦æ·±ãæ˜ã‚Šä¸‹ã’ãŸè¨˜äº‹ã‚’å…±æœ‰ã—ã¦ã„ã¾ã™ã€‚',
					featuredTitle: 'æœ€æ–°è¨˜äº‹',
					featuredDesc: 'AIã€è‡ªå‹•åŒ–ã€é–‹ç™ºåŠ¹ç‡ã«é–¢ã™ã‚‹æœ€æ–°ã®ã‚¤ãƒ³ã‚µã‚¤ãƒˆ',
					topics: 'äººæ°—ãƒˆãƒ”ãƒƒã‚¯',
					aboutTitle: 'è‘—è€…ã«ã¤ã„ã¦',
					experienceTitle: 'è·å‹™çµŒæ­´',
					expertiseTitle: 'å°‚é–€åˆ†é‡',
					projectsTitle: 'ä¸»ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ',
					otherLangsTitle: 'ä»–ã®è¨€èªã§ã‚‚èª­ã‚€',
				},
				zh: {
					heroTitle: 'æ¬¢è¿æ¥åˆ° EffiFlow',
					heroDesc: 'è¿™æ˜¯ä¸€ä¸ªä¸“æ³¨äºäººå·¥æ™ºèƒ½ã€è‡ªåŠ¨åŒ–å’Œå¼€å‘è€…ç”Ÿäº§åŠ›çš„æŠ€æœ¯åšå®¢ã€‚æˆ‘ä»¬æ·±å…¥æ¢è®¨ Claude Codeã€MCP å’Œå·¥ä½œæµç¨‹ä¼˜åŒ–ç­‰å‰æ²¿ AI æŠ€æœ¯ã€‚',
					featuredTitle: 'æœ€æ–°æ–‡ç« ',
					featuredDesc: 'æ¢ç´¢æˆ‘ä»¬å…³äºAIã€è‡ªåŠ¨åŒ–å’Œå¼€å‘æ•ˆç‡çš„æœ€æ–°è§è§£',
					topics: 'çƒ­é—¨è¯é¢˜',
					aboutTitle: 'å…³äºä½œè€…',
					experienceTitle: 'èŒä¸šç»å†',
					expertiseTitle: 'æ ¸å¿ƒä¸“é•¿',
					projectsTitle: 'ç²¾é€‰é¡¹ç›®',
					otherLangsTitle: 'å…¶ä»–è¯­è¨€ç‰ˆæœ¬',
				},
			};

			const langOrder: SupportedLanguage[] = ['ko', 'en', 'ja', 'zh'];
			const langMeta: Record<SupportedLanguage, { name: string; flag: string; path: string }> = {
				ko: { name: 'í•œêµ­ì–´', flag: 'ğŸ‡°ğŸ‡·', path: '/ko/' },
				en: { name: 'English', flag: 'ğŸ‡ºğŸ‡¸', path: '/en/' },
				ja: { name: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ', path: '/ja/' },
				zh: { name: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³', path: '/zh/' },
			};

			// Navigation translations
			const navText: Record<SupportedLanguage, Record<string, string>> = {
				ko: {
					home: 'í™ˆ',
					blog: 'ë¸”ë¡œê·¸',
					about: 'ì†Œê°œ',
					contact: 'ì—°ë½ì²˜',
					social: 'ì†Œì…œ',
					improvementHistory: 'ê°œì„  ì´ë ¥',
					privacy: 'ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨',
					terms: 'ì´ìš©ì•½ê´€',
				},
				en: {
					home: 'Home',
					blog: 'Blog',
					about: 'About',
					contact: 'Contact',
					social: 'Social',
					improvementHistory: 'Improvement History',
					privacy: 'Privacy',
					terms: 'Terms',
				},
				ja: {
					home: 'ãƒ›ãƒ¼ãƒ ',
					blog: 'ãƒ–ãƒ­ã‚°',
					about: 'è‡ªå·±ç´¹ä»‹',
					contact: 'ãŠå•ã„åˆã‚ã›',
					social: 'ã‚½ãƒ¼ã‚·ãƒ£ãƒ«',
					improvementHistory: 'æ”¹å–„å±¥æ­´',
					privacy: 'ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼',
					terms: 'åˆ©ç”¨è¦ç´„',
				},
				zh: {
					home: 'é¦–é¡µ',
					blog: 'åšå®¢',
					about: 'å…³äº',
					contact: 'è”ç³»',
					social: 'ç¤¾äº¤',
					improvementHistory: 'æ”¹è¿›å†å²',
					privacy: 'éšç§æ”¿ç­–',
					terms: 'æœåŠ¡æ¡æ¬¾',
				},
			};

			// Update header navigation links
			function updateNavigationLinks(lang: SupportedLanguage) {
				const nav = navText[lang];
				const header = document.querySelector('header');
				if (!header) return;

				// Update logo link
				const logoLink = header.querySelector('h2 a');
				if (logoLink) {
					logoLink.setAttribute('href', `/${lang}/`);
				}

				// Update desktop navigation links
				const desktopNav = header.querySelector('.lg\\:flex');
				if (desktopNav) {
					const links = desktopNav.querySelectorAll('a');
					links.forEach((link) => {
						const href = link.getAttribute('href') || '';
						const pathMatch = href.match(/^\/[a-z]{2}(\/.*)?$/);
						if (pathMatch) {
							const path = pathMatch[1] || '/';
							link.setAttribute('href', `/${lang}${path}`);

							// Update link text based on path
							if (path === '/' || path === '') {
								link.textContent = nav.home;
							} else if (path.includes('/blog')) {
								link.textContent = nav.blog;
							} else if (path.includes('/about')) {
								link.textContent = nav.about;
							} else if (path.includes('/contact')) {
								link.textContent = nav.contact;
							} else if (path.includes('/social')) {
								link.textContent = nav.social;
							} else if (path.includes('/improvement-history')) {
								link.textContent = nav.improvementHistory;
							}
						}
					});
				}

				// Update mobile menu links
				const mobileMenu = document.getElementById('mobile-menu');
				if (mobileMenu) {
					const links = mobileMenu.querySelectorAll('a');
					links.forEach((link) => {
						const href = link.getAttribute('href') || '';
						const pathMatch = href.match(/^\/[a-z]{2}(\/.*)?$/);
						if (pathMatch) {
							const path = pathMatch[1] || '/';
							link.setAttribute('href', `/${lang}${path}`);

							// Update link text based on path
							if (path === '/' || path === '') {
								link.textContent = nav.home;
							} else if (path.includes('/blog')) {
								link.textContent = nav.blog;
							} else if (path.includes('/about')) {
								link.textContent = nav.about;
							} else if (path.includes('/contact')) {
								link.textContent = nav.contact;
							} else if (path.includes('/social')) {
								link.textContent = nav.social;
							} else if (path.includes('/improvement-history')) {
								link.textContent = nav.improvementHistory;
							}
						}
					});
				}
			}

			// Footer tagline translations
			const footerText: Record<SupportedLanguage, { siteDescription: string; tagline: string; copyright: string }> = {
				ko: {
					siteDescription: 'AIë¡œ ë§Œë“œëŠ” íš¨ìœ¨ì˜ íë¦„',
					tagline: 'AIë¡œ íš¨ìœ¨ì˜ íë¦„ì„ ë§Œë“¤ë‹¤',
					copyright: 'Â© 2025 EffiFlow. ëª¨ë“  ê¶Œë¦¬ ë³´ìœ .',
				},
				en: {
					siteDescription: 'Creating the Flow of Efficiency with AI',
					tagline: 'Creating the Flow of Efficiency with AI',
					copyright: 'Â© 2025 EffiFlow. All rights reserved.',
				},
				ja: {
					siteDescription: 'AIã§å‰µã‚‹åŠ¹ç‡ã®æµã‚Œ',
					tagline: 'AIã§åŠ¹ç‡ã®æµã‚Œã‚’å‰µã‚‹',
					copyright: 'Â© 2025 EffiFlow. All rights reserved.',
				},
				zh: {
					siteDescription: 'ç”¨AIåˆ›é€ æ•ˆç‡ä¹‹æµ',
					tagline: 'ç”¨AIåˆ›é€ æ•ˆç‡ä¹‹æµ',
					copyright: 'Â© 2025 EffiFlow. ä¿ç•™æ‰€æœ‰æƒåˆ©.',
				},
			};

			// Update footer links
			function updateFooterLinks(lang: SupportedLanguage) {
				const nav = navText[lang];
				const footerContent = footerText[lang];
				const footer = document.querySelector('footer');
				if (!footer) return;

				// Update Quick Links section
				const quickLinks = footer.querySelectorAll('ul a');
				quickLinks.forEach((link) => {
					const href = link.getAttribute('href') || '';
					const pathMatch = href.match(/^\/[a-z]{2}(\/.*)?$/);
					if (pathMatch) {
						const path = pathMatch[1] || '';
						link.setAttribute('href', `/${lang}${path}`);

						// Update link text based on path
						if (path === '' || path === '/') {
							link.textContent = nav.home;
						} else if (path.includes('/blog')) {
							link.textContent = nav.blog;
						} else if (path.includes('/about')) {
							link.textContent = nav.about;
						} else if (path.includes('/contact')) {
							link.textContent = nav.contact;
						} else if (path.includes('/social')) {
							link.textContent = nav.social;
						} else if (path.includes('/privacy')) {
							link.textContent = nav.privacy;
						} else if (path.includes('/terms')) {
							link.textContent = nav.terms;
						}
					}
				});

				// Update footer site description (About section)
				const siteDescElement = document.getElementById('footer-site-description');
				if (siteDescElement) {
					siteDescElement.textContent = footerContent.siteDescription;
				}

				// Update footer tagline
				const taglineElement = document.getElementById('footer-tagline');
				if (taglineElement) {
					taglineElement.textContent = footerContent.tagline;
				}

				// Update copyright text
				const copyrightElement = document.getElementById('footer-copyright');
				if (copyrightElement) {
					copyrightElement.textContent = footerContent.copyright;
				}
			}

			// About section content
			const aboutContent: Record<SupportedLanguage, { desc1: string; desc2: string; inKorea: string; inJapan: string; personalProjects: string; professionalWorks: string }> = {
				ko: {
					desc1: '<strong class="text-gray-900 dark:text-gray-100">ê¹€ì¥ìš±</strong>ì€ ìë™í™”, ê°œë°œì ìƒì‚°ì„±, ìµœì‹  ì›¹ ê¸°ìˆ ì„ ì „ë¬¸ìœ¼ë¡œ í•˜ëŠ” í’€ìŠ¤íƒ ê°œë°œìì´ì AI ì• í˜¸ê°€ì…ë‹ˆë‹¤. Laravel, Vue.js, Nuxt.js, SvelteKit, Python ë“± ë‹¤ì–‘í•œ ê¸°ìˆ  ìŠ¤íƒì—ì„œ ê´‘ë²”ìœ„í•œ ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ íš¨ìœ¨ì ì¸ B2B SaaS ì†”ë£¨ì…˜ êµ¬ì¶•ê³¼ ìµœì²¨ë‹¨ AI ì• í”Œë¦¬ì¼€ì´ì…˜ íƒêµ¬ì— ì§‘ì¤‘í•˜ê³  ìˆìŠµë‹ˆë‹¤.',
					desc2: 'í˜„ì¬ ì¼ë³¸ ì¸ë°”ìš´ë“œ ê´€ê´‘ ì‚¬ì—…ìì™€ ì¤‘ì†Œê¸°ì—… íšŒê³„íŒ€ì„ ìœ„í•œ AI ê¸°ë°˜ OCR ìë™í™” í”Œë«í¼ì¸ <strong class="text-gray-900 dark:text-gray-100">Agent Effi Flow</strong>ì˜ ê°œë°œì„ ì£¼ë„í•˜ê³  ìˆìŠµë‹ˆë‹¤.',
					inKorea: 'í•œêµ­',
					inJapan: 'ì¼ë³¸',
					personalProjects: 'ê°œì¸ í”„ë¡œì íŠ¸',
					professionalWorks: 'ì—…ë¬´ í”„ë¡œì íŠ¸',
				},
				en: {
					desc1: '<strong class="text-gray-900 dark:text-gray-100">Kim Jangwook</strong> is a full-stack developer and AI enthusiast specializing in automation, developer productivity, and modern web technologies. With extensive experience across multiple tech stacks including Laravel, Vue.js, Nuxt.js, SvelteKit, and Python, he focuses on building efficient B2B SaaS solutions and exploring cutting-edge AI applications.',
					desc2: 'Currently leading the development of <strong class="text-gray-900 dark:text-gray-100">Agent Effi Flow</strong>, an AI-powered OCR automation platform serving Japanese inbound tourism businesses and SME accounting teams.',
					inKorea: 'In Korea',
					inJapan: 'In Japan',
					personalProjects: 'Personal Projects',
					professionalWorks: 'Professional Works',
				},
				ja: {
					desc1: '<strong class="text-gray-900 dark:text-gray-100">Kim Jangwook</strong>ã¯ã€è‡ªå‹•åŒ–ã€é–‹ç™ºè€…ã®ç”Ÿç”£æ€§ã€ãƒ¢ãƒ€ãƒ³WebæŠ€è¡“ã‚’å°‚é–€ã¨ã™ã‚‹ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºè€…ã§ã‚ã‚ŠAIæ„›å¥½å®¶ã§ã™ã€‚Laravelã€Vue.jsã€Nuxt.jsã€SvelteKitã€Pythonãªã©ã€å¤šæ§˜ãªæŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã§ã®è±Šå¯ŒãªçµŒé¨“ã‚’æ´»ã‹ã—ã€åŠ¹ç‡çš„ãªB2B SaaSã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹ç¯‰ã¨æœ€å…ˆç«¯AIã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ¢æ±‚ã«æ³¨åŠ›ã—ã¦ã„ã¾ã™ã€‚',
					desc2: 'ç¾åœ¨ã€æ—¥æœ¬ã®ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰è¦³å…‰äº‹æ¥­è€…ã¨ä¸­å°ä¼æ¥­ã®çµŒç†ãƒãƒ¼ãƒ å‘ã‘ã®AIæ­è¼‰OCRè‡ªå‹•åŒ–ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ <strong class="text-gray-900 dark:text-gray-100">Agent Effi Flow</strong>ã®é–‹ç™ºã‚’ãƒªãƒ¼ãƒ‰ã—ã¦ã„ã¾ã™ã€‚',
					inKorea: 'éŸ“å›½',
					inJapan: 'æ—¥æœ¬',
					personalProjects: 'å€‹äººãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ',
					professionalWorks: 'æ¥­å‹™ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ',
				},
				zh: {
					desc1: '<strong class="text-gray-900 dark:text-gray-100">Kim Jangwook</strong> æ˜¯ä¸€åå…¨æ ˆå¼€å‘è€…å’Œ AI çˆ±å¥½è€…ï¼Œä¸“æ³¨äºè‡ªåŠ¨åŒ–ã€å¼€å‘è€…ç”Ÿäº§åŠ›å’Œç°ä»£ Web æŠ€æœ¯ã€‚å‡­å€Ÿåœ¨ Laravelã€Vue.jsã€Nuxt.jsã€SvelteKit å’Œ Python ç­‰å¤šç§æŠ€æœ¯æ ˆçš„ä¸°å¯Œç»éªŒï¼Œä»–ä¸“æ³¨äºæ„å»ºé«˜æ•ˆçš„ B2B SaaS è§£å†³æ–¹æ¡ˆå’Œæ¢ç´¢å‰æ²¿ AI åº”ç”¨ã€‚',
					desc2: 'ç›®å‰æ­£åœ¨ä¸»å¯¼å¼€å‘ <strong class="text-gray-900 dark:text-gray-100">Agent Effi Flow</strong>ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸ºæ—¥æœ¬å…¥å¢ƒæ—…æ¸¸ä¼ä¸šå’Œä¸­å°ä¼ä¸šä¼šè®¡å›¢é˜Ÿæä¾›æœåŠ¡çš„ AI é©±åŠ¨ OCR è‡ªåŠ¨åŒ–å¹³å°ã€‚',
					inKorea: 'éŸ©å›½',
					inJapan: 'æ—¥æœ¬',
					personalProjects: 'ä¸ªäººé¡¹ç›®',
					professionalWorks: 'ä¸“ä¸šé¡¹ç›®',
				},
			};

			// Projects content
			const projectsContent: Record<SupportedLanguage, {
				agentEffiFlow: string;
				ssrSurvey: string;
				librariesCollection: string;
				cdp: string;
				efo: string;
				remotax: string;
			}> = {
				ko: {
					agentEffiFlow: 'OCR ìë™í™”ë¥¼ ìœ„í•œ AI ê¸°ë°˜ B2B SaaS. ë©´ì„¸ ì˜ìˆ˜ì¦ OCR ë° íšŒê³„ OCR ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.',
					ssrSurvey: 'ë¸”ë¡œê·¸ ì¬ë°©ë¬¸ ì˜ë„ë¥¼ ë¶„ì„í•˜ê¸° ìœ„í•œ LLM ê¸°ë°˜ ì˜ë¯¸ì  ìœ ì‚¬ì„± í‰ê°€ ë°©ë²•ë¡ . ICC ì‹ ë¢°ë„ 0.833 ë‹¬ì„±.',
					librariesCollection: 'ì „ë¬¸ì ì¸ ê°œë°œ ì‘ì—…ì„ ìœ„í•œ ì‹¤ìš©ì ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ë„êµ¬ ëª¨ìŒ.',
					cdp: 'í´ë¼ì´ì–¸íŠ¸ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ë°ì´í„° ì›¨ì–´í•˜ìš°ìŠ¤ êµ¬ì¶•ì„ ì§€ì›í•˜ê³  ì›¹ì‚¬ì´íŠ¸ ê°œì¸í™”ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ì‹œìŠ¤í…œ.',
					efo: 'ì§€ëŠ¥ì ì¸ ì–‘ì‹ ì‘ì„± ì§€ì›ì„ í†µí•´ ì‚¬ìš©ìì˜ ì–‘ì‹ ì‘ì„± ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì¤„ì´ê³  ì´íƒˆì„ ë°©ì§€í•˜ë„ë¡ ì„¤ê³„ëœ ì„œë¹„ìŠ¤.',
					remotax: 'ì†Œë§¤ì ì„ ìœ„í•œ ë©´ì„¸ ì ˆì°¨ ëŒ€í–‰ ì„œë¹„ìŠ¤. ìŠ¤ë§ˆíŠ¸í° ê¸°ë°˜ ìš´ì˜ì„ í†µí•´ ë³µì¡í•œ ë©´ì„¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ê°„ì†Œí™”í•©ë‹ˆë‹¤.',
				},
				en: {
					agentEffiFlow: 'AI-powered B2B SaaS for OCR automation. Provides Receipt OCR for Tax Refund and Accounting OCR services.',
					ssrSurvey: 'LLM-based Semantic Similarity Rating methodology for analyzing blog revisit intent. Achieved ICC reliability of 0.833.',
					librariesCollection: 'A curated collection of practical libraries and tools for professional development work.',
					cdp: 'A system that supports the construction of a data warehouse to store client data and enables website personalization.',
					efo: 'A service designed to reduce form-filling user stress and prevent abandonment through intelligent form-filling support.',
					remotax: 'A tax-free procedure agency service for retail stores. Simplifies the complex duty-free process through smartphone-based operations.',
				},
				ja: {
					agentEffiFlow: 'OCRè‡ªå‹•åŒ–ã®ãŸã‚ã®AIæ­è¼‰B2B SaaSã€‚å…ç¨ãƒ¬ã‚·ãƒ¼ãƒˆOCRãŠã‚ˆã³ä¼šè¨ˆOCRã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã€‚',
					ssrSurvey: 'ãƒ–ãƒ­ã‚°å†è¨ªæ„å›³ã‚’åˆ†æã™ã‚‹ãŸã‚ã®LLMãƒ™ãƒ¼ã‚¹ã®æ„å‘³çš„é¡ä¼¼æ€§è©•ä¾¡æ‰‹æ³•ã€‚ICCä¿¡é ¼æ€§0.833ã‚’é”æˆã€‚',
					librariesCollection: 'ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªé–‹ç™ºä½œæ¥­ã®ãŸã‚ã®å®Ÿç”¨çš„ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ãƒ„ãƒ¼ãƒ«ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã€‚',
					cdp: 'ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚¦ã‚§ã‚¢ãƒã‚¦ã‚¹ã®æ§‹ç¯‰ã‚’æ”¯æ´ã—ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿç¾ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã€‚',
					efo: 'ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆãªãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ã‚µãƒãƒ¼ãƒˆã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ã‚¹ãƒˆãƒ¬ã‚¹ã‚’è»½æ¸›ã—ã€é›¢è„±ã‚’é˜²æ­¢ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã€‚',
					remotax: 'å°å£²åº—å‘ã‘ã®å…ç¨æ‰‹ç¶šãä»£è¡Œã‚µãƒ¼ãƒ“ã‚¹ã€‚ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ãƒ™ãƒ¼ã‚¹ã®æ“ä½œã§è¤‡é›‘ãªå…ç¨ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç°¡ç´ åŒ–ã€‚',
				},
				zh: {
					agentEffiFlow: 'ç”¨äº OCR è‡ªåŠ¨åŒ–çš„ AI é©±åŠ¨ B2B SaaSã€‚æä¾›é€€ç¨æ”¶æ® OCR å’Œä¼šè®¡ OCR æœåŠ¡ã€‚',
					ssrSurvey: 'ç”¨äºåˆ†æåšå®¢é‡è®¿æ„å‘çš„åŸºäº LLM çš„è¯­ä¹‰ç›¸ä¼¼æ€§è¯„åˆ†æ–¹æ³•ã€‚è¾¾åˆ° ICC å¯é æ€§ 0.833ã€‚',
					librariesCollection: 'ä¸ºä¸“ä¸šå¼€å‘å·¥ä½œç²¾é€‰çš„å®ç”¨åº“å’Œå·¥å…·é›†åˆã€‚',
					cdp: 'æ”¯æŒæ„å»ºæ•°æ®ä»“åº“ä»¥å­˜å‚¨å®¢æˆ·æ•°æ®å¹¶å®ç°ç½‘ç«™ä¸ªæ€§åŒ–çš„ç³»ç»Ÿã€‚',
					efo: 'é€šè¿‡æ™ºèƒ½è¡¨å•å¡«å†™æ”¯æŒå‡å°‘ç”¨æˆ·å¡«è¡¨å‹åŠ›å¹¶é˜²æ­¢æ”¾å¼ƒçš„æœåŠ¡ã€‚',
					remotax: 'é›¶å”®åº—å…ç¨æ‰‹ç»­ä»£ç†æœåŠ¡ã€‚é€šè¿‡åŸºäºæ™ºèƒ½æ‰‹æœºçš„æ“ä½œç®€åŒ–å¤æ‚çš„å…ç¨æµç¨‹ã€‚',
				},
			};

			// Update Language Switcher in header
			function updateLanguageSwitcher(lang: SupportedLanguage) {
				const languageSelector = document.getElementById('language-selector') as HTMLSelectElement;
				if (languageSelector) {
					// Find the option that matches the current route for the selected language
					const options = languageSelector.querySelectorAll('option');
					options.forEach((option) => {
						const optionValue = option.value;
						if (optionValue.startsWith(`/${lang}/`)) {
							option.selected = true;
						}
					});
				}
			}

			// Update About section content
			function updateAboutSection(lang: SupportedLanguage) {
				const content = aboutContent[lang];
				const descContainer = document.getElementById('about-desc-container');
				if (descContainer) {
					descContainer.innerHTML = `
						<p class="text-lg leading-relaxed">${content.desc1}</p>
						<p class="text-lg leading-relaxed">${content.desc2}</p>
					`;
				}

				// Update experience list
				const experienceList = document.getElementById('experience-list');
				if (experienceList) {
					experienceList.innerHTML = `
						<li class="flex items-start gap-3">
							<svg class="w-6 h-6 text-purple-600 dark:text-purple-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
							</svg>
							<div>
								<strong>Spika Inc.</strong> - QA / iOS Developer (Objective-C)
								<span class="block text-sm text-gray-500 dark:text-gray-400">${content.inKorea}</span>
							</div>
						</li>
						<li class="flex items-start gap-3">
							<svg class="w-6 h-6 text-purple-600 dark:text-purple-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
							</svg>
							<div>
								<strong>Bravance Technologies Inc.</strong> - QA / Network Engineer
								<span class="block text-sm text-gray-500 dark:text-gray-400">${content.inJapan}</span>
							</div>
						</li>
						<li class="flex items-start gap-3">
							<svg class="w-6 h-6 text-purple-600 dark:text-purple-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
							</svg>
							<div>
								<strong>Connecty Inc.</strong> - Full-stack Web Dev, PM, PdM, AI Integration
								<span class="block text-sm text-gray-500 dark:text-gray-400">${content.inJapan}</span>
							</div>
						</li>
					`;
				}
			}

			// Update Projects section content
			function updateProjectsSection(lang: SupportedLanguage) {
				const content = aboutContent[lang];
				const projects = projectsContent[lang];

				// Update section titles
				const personalProjectsTitle = document.getElementById('personal-projects-title');
				if (personalProjectsTitle) personalProjectsTitle.textContent = content.personalProjects;

				const professionalWorksTitle = document.getElementById('professional-works-title');
				if (professionalWorksTitle) professionalWorksTitle.textContent = content.professionalWorks;

				// Update personal projects
				const personalProjectsContainer = document.getElementById('personal-projects-container');
				if (personalProjectsContainer) {
					personalProjectsContainer.innerHTML = `
						<a href="https://agent-effi-flow.jangwook.net" target="_blank"
						   class="bg-white dark:bg-gray-700 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow">
							<h4 class="text-xl font-bold text-purple-600 dark:text-purple-400 mb-2 hover:underline">Agent Effi Flow</h4>
							<p class="text-sm text-gray-500 dark:text-gray-400 mb-3">SvelteKit, Supabase, Google Gemini API, Stripe</p>
							<p class="text-gray-600 dark:text-gray-300 text-sm">${projects.agentEffiFlow}</p>
						</a>
						<a href="https://github.com/kimjangwook/ssr-repeater" target="_blank"
						   class="bg-white dark:bg-gray-700 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow">
							<h4 class="text-xl font-bold text-purple-600 dark:text-purple-400 mb-2 hover:underline">SSR Survey Analysis</h4>
							<p class="text-sm text-gray-500 dark:text-gray-400 mb-3">Python, OpenAI API, LLM, Data Science</p>
							<p class="text-gray-600 dark:text-gray-300 text-sm">${projects.ssrSurvey}</p>
						</a>
						<a href="https://libraries.jangwook.net/" target="_blank"
						   class="bg-white dark:bg-gray-700 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow">
							<h4 class="text-xl font-bold text-purple-600 dark:text-purple-400 mb-2 hover:underline">Practical Libraries Collection</h4>
							<p class="text-sm text-gray-500 dark:text-gray-400 mb-3">Developer Tools</p>
							<p class="text-gray-600 dark:text-gray-300 text-sm">${projects.librariesCollection}</p>
						</a>
					`;
				}

				// Update professional works
				const professionalWorksContainer = document.getElementById('professional-works-container');
				if (professionalWorksContainer) {
					professionalWorksContainer.innerHTML = `
						<div class="bg-white dark:bg-gray-700 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow">
							<h4 class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-2">CDP (Customer Data Platform)</h4>
							<p class="text-sm text-gray-500 dark:text-gray-400 mb-3">Python, Nuxt.js, GCP, AWS</p>
							<p class="text-gray-600 dark:text-gray-300 text-sm">${projects.cdp}</p>
						</div>
						<div class="bg-white dark:bg-gray-700 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow">
							<h4 class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-2">EFO (Entry Form Optimization)</h4>
							<p class="text-sm text-gray-500 dark:text-gray-400 mb-3">TypeScript, GCP</p>
							<p class="text-gray-600 dark:text-gray-300 text-sm">${projects.efo}</p>
						</div>
						<a href="https://www.remotax.jp/" target="_blank"
						   class="bg-white dark:bg-gray-700 rounded-xl p-6 shadow-md hover:shadow-xl transition-shadow md:col-span-2">
							<h4 class="text-xl font-bold text-purple-600 dark:text-purple-400 mb-2 hover:underline">REMO TAX: Tax-Free Digitalization</h4>
							<p class="text-sm text-gray-500 dark:text-gray-400 mb-3">Tax-Free Service</p>
							<p class="text-gray-600 dark:text-gray-300 text-sm">${projects.remotax}</p>
						</a>
					`;
				}
			}

			function updateUI(lang: SupportedLanguage) {
				const text = uiText[lang];

				// Update hero section
				const heroTitle = document.getElementById('hero-title');
				const heroDesc = document.getElementById('hero-description');
				if (heroTitle) heroTitle.innerHTML = `${text.heroTitle.replace('EffiFlow', '<span class="text-yellow-300">EffiFlow</span>')}`;
				if (heroDesc) heroDesc.textContent = text.heroDesc;

				// Update featured section
				const featuredTitle = document.getElementById('featured-title');
				const featuredDesc = document.getElementById('featured-desc');
				if (featuredTitle) featuredTitle.textContent = text.featuredTitle;
				if (featuredDesc) featuredDesc.textContent = text.featuredDesc;

				// Update other section titles
				const topicsTitle = document.getElementById('topics-title');
				if (topicsTitle) topicsTitle.textContent = text.topics;

				const aboutTitle = document.getElementById('about-title');
				if (aboutTitle) aboutTitle.textContent = text.aboutTitle;

				const experienceTitle = document.getElementById('experience-title');
				if (experienceTitle) experienceTitle.textContent = text.experienceTitle;

				const expertiseTitle = document.getElementById('expertise-title');
				if (expertiseTitle) expertiseTitle.textContent = text.expertiseTitle;

				const projectsTitle = document.getElementById('projects-title');
				if (projectsTitle) projectsTitle.textContent = text.projectsTitle;

				const otherLangsTitle = document.getElementById('other-langs-title');
				if (otherLangsTitle) otherLangsTitle.textContent = text.otherLangsTitle;

				// Show primary language posts, hide others
				langOrder.forEach((l) => {
					const section = document.getElementById(`posts-${l}`);
					if (section) {
						if (l === lang) {
							section.classList.add('active');
						} else {
							section.classList.remove('active');
						}
					}
				});

				// Update other languages section
				const otherLangsContainer = document.getElementById('other-langs-container');
				if (otherLangsContainer) {
					const otherLangs = langOrder.filter(l => l !== lang);
					otherLangsContainer.innerHTML = otherLangs.map(l => `
						<a href="${langMeta[l].path}" class="flex items-center gap-3 p-4 bg-white dark:bg-gray-700 rounded-lg shadow hover:shadow-md transition-shadow">
							<span class="text-2xl">${langMeta[l].flag}</span>
							<span class="font-medium text-gray-700 dark:text-gray-300">${langMeta[l].name}</span>
						</a>
					`).join('');
				}

				// Highlight current language button
				document.querySelectorAll('.lang-btn').forEach((btn) => {
					const btnLang = btn.getAttribute('data-lang');
					if (btnLang === lang) {
						btn.classList.remove('bg-white/90');
						btn.classList.add('bg-yellow-300', 'ring-2', 'ring-yellow-400');
					} else {
						btn.classList.remove('bg-yellow-300', 'ring-2', 'ring-yellow-400');
						btn.classList.add('bg-white/90');
					}
				});

				// Update Header navigation links
				updateNavigationLinks(lang);

				// Update Language Switcher selection
				updateLanguageSwitcher(lang);

				// Update Footer links and tagline
				updateFooterLinks(lang);

				// Update About section content
				updateAboutSection(lang);

				// Update Projects section content
				updateProjectsSection(lang);

				// Update HTML lang attribute
				document.documentElement.lang = lang;
			}

			// Initialize on page load
			document.addEventListener('DOMContentLoaded', () => {
				const recommendedLang = getRecommendedLanguage();
				updateUI(recommendedLang);

				// Save language button clicks
				document.querySelectorAll('.lang-btn').forEach((btn) => {
					btn.addEventListener('click', (e) => {
						const lang = (e.currentTarget as HTMLElement).getAttribute('data-lang') as SupportedLanguage;
						if (lang) {
							saveLanguagePreference(lang);
						}
					});
				});
			});
		</script>
	</body>
</html>
