# ì•„í‚¤í…ì²˜ ì„¤ê³„

## 1. ì‹œìŠ¤í…œ ê°œìš”

### 1.1 ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Claude Code                          â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Command    â”‚  â”‚    Agent     â”‚  â”‚    Skill     â”‚     â”‚
â”‚  â”‚ /test-page   â”‚  â”‚ page-tester  â”‚  â”‚ page-test    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â”‚                  â”‚                  â”‚              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                            â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Test Orchestrator                         â”‚
â”‚                   (TypeScript Core)                         â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              Test Runner Engine                     â”‚    â”‚
â”‚  â”‚  â€¢ í…ŒìŠ¤íŠ¸ ê³„íš ìˆ˜ë¦½                                  â”‚    â”‚
â”‚  â”‚  â€¢ ë³‘ë ¬ ì‹¤í–‰ ê´€ë¦¬                                    â”‚    â”‚
â”‚  â”‚  â€¢ ê²°ê³¼ ìˆ˜ì§‘ ë° ì§‘ê³„                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                   â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚           Test Module Registry                      â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚    â”‚
â”‚  â”‚  â”‚ Browser  â”‚ â”‚  Links   â”‚ â”‚    UI    â”‚ ...       â”‚    â”‚
â”‚  â”‚  â”‚  Tests   â”‚ â”‚  Tests   â”‚ â”‚  Tests   â”‚           â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚            â”‚            â”‚
           â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Playwright                             â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Chromium   â”‚  â”‚   Firefox    â”‚  â”‚    WebKit    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚            External Integrations                  â”‚      â”‚
â”‚  â”‚  â€¢ Axe-core (a11y)                               â”‚      â”‚
â”‚  â”‚  â€¢ Lighthouse (Performance/SEO)                  â”‚      â”‚
â”‚  â”‚  â€¢ PixelMatch (Visual Regression)                â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Result Reporter                          â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Console Out  â”‚  â”‚  HTML Report â”‚  â”‚  JSON Report â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚      Optional Integrations                        â”‚      â”‚
â”‚  â”‚  â€¢ Notion (ê²°ê³¼ ì €ì¥)                             â”‚      â”‚
â”‚  â”‚  â€¢ Slack (ì•Œë¦¼)                                   â”‚      â”‚
â”‚  â”‚  â€¢ GitHub (PR ì½”ë©˜íŠ¸)                             â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Claude Code í†µí•©

### 2.1 Commands (ìŠ¬ë˜ì‹œ ì»¤ë§¨ë“œ)

**íŒŒì¼ ìœ„ì¹˜**: `.claude/commands/test-page.md`

```markdown
# Test Page Command

ì›¹ í˜ì´ì§€ì˜ í’ˆì§ˆì„ ìë™ìœ¼ë¡œ ê²€ì¦í•©ë‹ˆë‹¤.

## Usage

/test-page <url> [options]

## Options

- `--browsers`: í…ŒìŠ¤íŠ¸í•  ë¸Œë¼ìš°ì € (ê¸°ë³¸: chromium,firefox,webkit)
- `--mobile-only`: ëª¨ë°”ì¼ í…ŒìŠ¤íŠ¸ë§Œ ìˆ˜í–‰
- `--skip-a11y`: ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸ ê±´ë„ˆë›°ê¸°
- `--skip-seo`: SEO í…ŒìŠ¤íŠ¸ ê±´ë„ˆë›°ê¸°
- `--verbose`: ìƒì„¸ ë¡œê·¸ ì¶œë ¥

## Examples

```bash
# ê¸°ë³¸ í…ŒìŠ¤íŠ¸
/test-page https://example.com

# í˜„ì¬ ê°œë°œ ì„œë²„ í…ŒìŠ¤íŠ¸
/test-page http://localhost:4321/blog/my-post

# Chromiumë§Œ í…ŒìŠ¤íŠ¸
/test-page https://example.com --browsers chromium

# ëª¨ë°”ì¼ë§Œ í…ŒìŠ¤íŠ¸
/test-page https://example.com --mobile-only
```

## Implementation

ì´ ì»¤ë§¨ë“œëŠ” page-tester ì—ì´ì „íŠ¸ë¥¼ í˜¸ì¶œí•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
```

**êµ¬í˜„ ë¡œì§**:

```typescript
// .claude/commands/test-page.ts (pseudocode)
export async function executeTestPageCommand(args: string[]) {
  const url = args[0];
  const options = parseOptions(args.slice(1));

  // page-tester ì—ì´ì „íŠ¸ í˜¸ì¶œ
  const agent = await loadAgent('page-tester');
  const results = await agent.test({
    url,
    browsers: options.browsers || ['chromium', 'firefox', 'webkit'],
    skipA11y: options.skipA11y || false,
    skipSeo: options.skipSeo || false,
    mobileOnly: options.mobileOnly || false,
    verbose: options.verbose || false
  });

  // ê²°ê³¼ í¬ë§·íŒ… ë° ì¶œë ¥
  return formatResults(results);
}
```

---

### 2.2 Agents (ì„œë¸Œì—ì´ì „íŠ¸)

**íŒŒì¼ ìœ„ì¹˜**: `.claude/agents/page-tester.md`

```markdown
# Page Tester Agent

ì›¹ í˜ì´ì§€ì˜ ëª¨ë“  í’ˆì§ˆ í•­ëª©ì„ ìë™ìœ¼ë¡œ ê²€ì¦í•˜ëŠ” ì „ë¬¸ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

## ì—­í• 

1. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê³„íš ìˆ˜ë¦½
2. Playwright í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
3. ê²°ê³¼ ë¶„ì„ ë° í•´ì„
4. ê°œì„  ì œì•ˆ ìƒì„±
5. ìƒì„¸ ë¦¬í¬íŠ¸ ì‘ì„±

## í…ŒìŠ¤íŠ¸ í•­ëª©

- âœ… í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì € í˜¸í™˜ì„±
- âœ… ë§í¬ ë¬´ê²°ì„±
- âœ… UI/UX í’ˆì§ˆ
- âœ… ì½˜í…ì¸  ê²€ì¦
- âœ… ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸
- âœ… ì´ë¯¸ì§€ ìµœì í™”
- âœ… ì ‘ê·¼ì„± (a11y)
- âœ… SEO
- âœ… ëª¨ë°”ì¼ ë°˜ì‘í˜•

## ì›Œí¬í”Œë¡œìš°

1. **ì´ˆê¸°í™”**: í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì • ë° ë¸Œë¼ìš°ì € ì‹œì‘
2. **ê³„íš ìˆ˜ë¦½**: í…ŒìŠ¤íŠ¸ í•­ëª© ìš°ì„ ìˆœìœ„ ê²°ì •
3. **í…ŒìŠ¤íŠ¸ ì‹¤í–‰**: ê° ëª¨ë“ˆë³„ ë³‘ë ¬ ì‹¤í–‰
4. **ê²°ê³¼ ìˆ˜ì§‘**: ëª¨ë“  í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì§‘ê³„
5. **ë¶„ì„**: Claudeë¥¼ ì‚¬ìš©í•œ ê²°ê³¼ ë¶„ì„ ë° ì¸ì‚¬ì´íŠ¸ ë„ì¶œ
6. **ë¦¬í¬íŠ¸**: HTML/JSON ë¦¬í¬íŠ¸ ìƒì„± ë° ì½˜ì†” ì¶œë ¥

## ë„êµ¬ ì‚¬ìš©

- **Playwright MCP**: ë¸Œë¼ìš°ì € ìë™í™”
- **Chrome DevTools MCP**: ì„±ëŠ¥ ë¶„ì„
- **íŒŒì¼ ì‹œìŠ¤í…œ**: ë¦¬í¬íŠ¸ ì €ì¥
- **Bash**: Lighthouse ì‹¤í–‰

## ì¶œë ¥ í˜•ì‹

### ì½˜ì†” ì¶œë ¥
```
ğŸ” í˜ì´ì§€ í…ŒìŠ¤íŠ¸ ì‹œì‘: https://example.com

[1/9] âœ… í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ (3/3 í†µê³¼)
[2/9] âœ… ë§í¬ ë¬´ê²°ì„± (28/28 ì •ìƒ)
[3/9] âš ï¸  ì´ë¯¸ì§€ ìµœì í™” (2ê°œ ë¬¸ì œ ë°œê²¬)
[4/9] âœ… ì ‘ê·¼ì„± (WCAG AA í†µê³¼)
[5/9] âœ… SEO (95/100ì )
[6/9] âš ï¸  ì„±ëŠ¥ (LCP 2.8s)
[7/9] âœ… UI/UX (ëª¨ë“  ë¸Œë ˆì´í¬í¬ì¸íŠ¸ ì •ìƒ)
[8/9] âœ… ì¸í„°ë™ì…˜ (ëª¨ë“  ì´ë²¤íŠ¸ ì •ìƒ)
[9/9] âœ… ëª¨ë°”ì¼ ë°˜ì‘í˜• (ê°€ë¡œ ìŠ¤í¬ë¡¤ ì—†ìŒ)

ğŸ“Š ì´ 9ê°œ ì¹´í…Œê³ ë¦¬, 7ê°œ í†µê³¼, 2ê°œ ê°œì„  í•„ìš”

âš ï¸  ê°œì„ ì´ í•„ìš”í•œ í•­ëª©:
  1. hero-image.jpg: ì›ë³¸ ì´ë¯¸ì§€ê°€ 4ë°° ë” í½ë‹ˆë‹¤ (2400x1600 â†’ 600x400)
  2. LCP 2.8s (ê¶Œì¥: 2.5s ì´í•˜)

ğŸ’¡ ê°œì„  ì œì•ˆ:
  â€¢ ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§•: hero-image.jpgë¥¼ 800x533pxë¡œ ë³€í™˜ í›„ WebP í¬ë§· ì‚¬ìš©
  â€¢ LCP ê°œì„ : íˆì–´ë¡œ ì´ë¯¸ì§€ì— fetchpriority="high" ì†ì„± ì¶”ê°€
  â€¢ í°íŠ¸ ìµœì í™”: í°íŠ¸ í”„ë¦¬ë¡œë“œ ì¶”ê°€ ê³ ë ¤

ğŸ“„ ìƒì„¸ ë¦¬í¬íŠ¸: ./test-results/report-2025-11-21-143022.html
```

### JSON ì¶œë ¥
```json
{
  "url": "https://example.com",
  "timestamp": "2025-11-21T14:30:22.000Z",
  "duration": 245000,
  "summary": {
    "total": 9,
    "passed": 7,
    "warned": 2,
    "failed": 0
  },
  "results": { /* ìƒì„¸ ê²°ê³¼ */ },
  "recommendations": [ /* ê°œì„  ì œì•ˆ */ ]
}
```

## ì„¤ì •

`.page-test.config.js` íŒŒì¼ë¡œ ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥:

```javascript
module.exports = {
  browsers: ['chromium', 'firefox', 'webkit'],
  viewports: [
    { width: 375, height: 667, name: 'iPhone SE' },
    { width: 1920, height: 1080, name: 'Desktop' }
  ],
  thresholds: {
    performance: 90,
    accessibility: 95,
    seo: 90
  },
  skipTests: [],
  customRules: []
};
```
```

---

### 2.3 Skills (ì¬ì‚¬ìš© ê°€ëŠ¥ ê¸°ëŠ¥)

**íŒŒì¼ ìœ„ì¹˜**: `.claude/skills/page-test.md`

```markdown
# Page Test Skill

í˜ì´ì§€ í…ŒìŠ¤íŠ¸ ë¡œì§ì„ ìº¡ìŠí™”í•œ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¤í‚¬ì…ë‹ˆë‹¤.

## ì œê³µ ê¸°ëŠ¥

### 1. ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸
- `testBrowser(url, browserType)`: íŠ¹ì • ë¸Œë¼ìš°ì €ì—ì„œ í˜ì´ì§€ ë¡œë“œ
- `compareBrowsers(url)`: ë¸Œë¼ìš°ì € ê°„ ìŠ¤í¬ë¦°ìƒ· ë¹„êµ

### 2. ë§í¬ ê²€ì¦
- `checkLinks(page)`: í˜ì´ì§€ì˜ ëª¨ë“  ë§í¬ ê²€ì¦
- `checkExternalLinks(page)`: ì™¸ë¶€ ë§í¬ ì ‘ê·¼ì„± ê²€ì‚¬

### 3. ì´ë¯¸ì§€ ë¶„ì„
- `analyzeImages(page)`: ì´ë¯¸ì§€ ìµœì í™” ê²€ì¦
- `checkImageAlt(page)`: Alt í…ìŠ¤íŠ¸ ê²€ì¦

### 4. ì ‘ê·¼ì„± ê²€ì¦
- `runA11yAudit(page)`: Axe-core ê°ì‚¬ ì‹¤í–‰
- `checkKeyboardNav(page)`: í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ í…ŒìŠ¤íŠ¸

### 5. ì„±ëŠ¥ ë¶„ì„
- `runLighthouse(url)`: Lighthouse ê°ì‚¬ ì‹¤í–‰
- `measureCoreWebVitals(page)`: Core Web Vitals ì¸¡ì •

## ì‚¬ìš© ì˜ˆì‹œ

```typescript
import {
  testBrowser,
  checkLinks,
  analyzeImages,
  runA11yAudit
} from '.claude/skills/page-test';

async function testPage(url: string) {
  // ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸
  const browserResults = await testBrowser(url, 'chromium');

  // ë§í¬ ê²€ì¦
  const linkResults = await checkLinks(browserResults.page);

  // ì´ë¯¸ì§€ ë¶„ì„
  const imageResults = await analyzeImages(browserResults.page);

  // ì ‘ê·¼ì„± ê²€ì¦
  const a11yResults = await runA11yAudit(browserResults.page);

  return {
    browser: browserResults,
    links: linkResults,
    images: imageResults,
    a11y: a11yResults
  };
}
```
```

---

## 3. í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ì„¤ê³„

### 3.1 Test Orchestrator

**ì—­í• **: ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ íë¦„ ê´€ë¦¬

```typescript
// src/test-orchestrator/index.ts
export class TestOrchestrator {
  private config: TestConfig;
  private registry: TestModuleRegistry;
  private reporter: ResultReporter;

  constructor(config: TestConfig) {
    this.config = config;
    this.registry = new TestModuleRegistry();
    this.reporter = new ResultReporter();
  }

  /**
   * ë©”ì¸ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í•¨ìˆ˜
   */
  async runTests(url: string, options: TestOptions): Promise<TestResults> {
    console.log(`ğŸ” í˜ì´ì§€ í…ŒìŠ¤íŠ¸ ì‹œì‘: ${url}\n`);

    // 1. í…ŒìŠ¤íŠ¸ ê³„íš ìˆ˜ë¦½
    const plan = this.createTestPlan(options);

    // 2. ë³‘ë ¬ ì‹¤í–‰
    const results = await this.executeTestPlan(plan, url);

    // 3. ê²°ê³¼ ì§‘ê³„
    const summary = this.summarizeResults(results);

    // 4. ë¦¬í¬íŠ¸ ìƒì„±
    await this.reporter.generate(summary);

    return summary;
  }

  /**
   * í…ŒìŠ¤íŠ¸ ê³„íš ìˆ˜ë¦½
   */
  private createTestPlan(options: TestOptions): TestPlan {
    const modules = this.registry.getModules();

    // ì˜µì…˜ì— ë”°ë¼ í•„í„°ë§
    const filteredModules = modules.filter(module => {
      if (options.skipA11y && module.name === 'accessibility') return false;
      if (options.skipSeo && module.name === 'seo') return false;
      if (options.mobileOnly && !module.supportsMobile) return false;
      return true;
    });

    return {
      modules: filteredModules,
      browsers: options.browsers || ['chromium', 'firefox', 'webkit'],
      parallel: true
    };
  }

  /**
   * í…ŒìŠ¤íŠ¸ ê³„íš ì‹¤í–‰ (ë³‘ë ¬)
   */
  private async executeTestPlan(
    plan: TestPlan,
    url: string
  ): Promise<ModuleResult[]> {
    const tasks: Promise<ModuleResult>[] = [];

    for (const module of plan.modules) {
      for (const browser of plan.browsers) {
        const task = this.runModule(module, url, browser);
        tasks.push(task);
      }
    }

    // ë³‘ë ¬ ì‹¤í–‰
    const results = await Promise.allSettled(tasks);

    return results
      .filter(r => r.status === 'fulfilled')
      .map(r => (r as PromiseFulfilledResult<ModuleResult>).value);
  }

  /**
   * ê°œë³„ ëª¨ë“ˆ ì‹¤í–‰
   */
  private async runModule(
    module: TestModule,
    url: string,
    browser: BrowserType
  ): Promise<ModuleResult> {
    const startTime = Date.now();

    try {
      const result = await module.run(url, browser);
      const duration = Date.now() - startTime;

      console.log(this.formatModuleResult(module.name, result));

      return {
        module: module.name,
        browser,
        status: result.status,
        duration,
        data: result.data,
        issues: result.issues
      };
    } catch (error) {
      console.error(`âŒ ${module.name} ì‹¤íŒ¨:`, error);
      return {
        module: module.name,
        browser,
        status: 'failed',
        duration: Date.now() - startTime,
        error: error.message
      };
    }
  }

  /**
   * ëª¨ë“ˆ ê²°ê³¼ í¬ë§·íŒ…
   */
  private formatModuleResult(
    moduleName: string,
    result: TestResult
  ): string {
    const emoji = result.status === 'passed' ? 'âœ…' :
                  result.status === 'warned' ? 'âš ï¸' : 'âŒ';

    return `${emoji} ${moduleName}: ${result.message}`;
  }

  /**
   * ê²°ê³¼ ìš”ì•½
   */
  private summarizeResults(results: ModuleResult[]): TestSummary {
    const passed = results.filter(r => r.status === 'passed').length;
    const warned = results.filter(r => r.status === 'warned').length;
    const failed = results.filter(r => r.status === 'failed').length;

    // ëª¨ë“  ì´ìŠˆ ìˆ˜ì§‘
    const allIssues = results.flatMap(r => r.issues || []);

    return {
      total: results.length,
      passed,
      warned,
      failed,
      results,
      issues: allIssues,
      recommendations: this.generateRecommendations(allIssues)
    };
  }

  /**
   * AI ê¸°ë°˜ ê°œì„  ì œì•ˆ ìƒì„±
   */
  private generateRecommendations(issues: Issue[]): Recommendation[] {
    // Claudeë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ìŠˆ ë¶„ì„ ë° ê°œì„  ì œì•ˆ ìƒì„±
    // ì—¬ê¸°ì„œëŠ” ê°„ë‹¨í•œ ë£° ê¸°ë°˜ ì¶”ì²œ
    return issues.map(issue => ({
      issue: issue.message,
      suggestion: this.getSuggestion(issue.type),
      priority: issue.severity
    }));
  }
}
```

---

### 3.2 Test Module Registry

**ì—­í• **: í…ŒìŠ¤íŠ¸ ëª¨ë“ˆ ë“±ë¡ ë° ê´€ë¦¬

```typescript
// src/test-orchestrator/registry.ts
export class TestModuleRegistry {
  private modules: Map<string, TestModule> = new Map();

  constructor() {
    this.registerDefaultModules();
  }

  /**
   * ê¸°ë³¸ í…ŒìŠ¤íŠ¸ ëª¨ë“ˆ ë“±ë¡
   */
  private registerDefaultModules() {
    this.register(new BrowserCompatibilityModule());
    this.register(new LinkIntegrityModule());
    this.register(new UIQualityModule());
    this.register(new ContentQualityModule());
    this.register(new InteractionModule());
    this.register(new ImageOptimizationModule());
    this.register(new AccessibilityModule());
    this.register(new SEOModule());
    this.register(new MobileResponsiveModule());
  }

  /**
   * ëª¨ë“ˆ ë“±ë¡
   */
  register(module: TestModule) {
    this.modules.set(module.name, module);
  }

  /**
   * ëª¨ë“ˆ ì¡°íšŒ
   */
  get(name: string): TestModule | undefined {
    return this.modules.get(name);
  }

  /**
   * ëª¨ë“  ëª¨ë“ˆ ë°˜í™˜
   */
  getModules(): TestModule[] {
    return Array.from(this.modules.values());
  }

  /**
   * ì»¤ìŠ¤í…€ ëª¨ë“ˆ ë¡œë“œ (ì„¤ì • íŒŒì¼ì—ì„œ)
   */
  async loadCustomModules(configPath: string) {
    const config = await import(configPath);
    if (config.customModules) {
      for (const CustomModule of config.customModules) {
        this.register(new CustomModule());
      }
    }
  }
}
```

---

### 3.3 Test Module ì¸í„°í˜ì´ìŠ¤

**ì—­í• **: ëª¨ë“  í…ŒìŠ¤íŠ¸ ëª¨ë“ˆì˜ ê³µí†µ ì¸í„°í˜ì´ìŠ¤

```typescript
// src/test-modules/base.ts
export interface TestModule {
  /** ëª¨ë“ˆ ì´ë¦„ */
  name: string;

  /** ëª¨ë“ˆ ì„¤ëª… */
  description: string;

  /** ìš°ì„ ìˆœìœ„ (ë‚®ì„ìˆ˜ë¡ ë¨¼ì € ì‹¤í–‰) */
  priority: number;

  /** ëª¨ë°”ì¼ ì§€ì› ì—¬ë¶€ */
  supportsMobile: boolean;

  /**
   * í…ŒìŠ¤íŠ¸ ì‹¤í–‰
   */
  run(url: string, browser: BrowserType): Promise<TestResult>;

  /**
   * ì„¤ì • ê²€ì¦
   */
  validateConfig?(config: any): boolean;
}

export interface TestResult {
  /** í…ŒìŠ¤íŠ¸ ìƒíƒœ */
  status: 'passed' | 'warned' | 'failed';

  /** ê²°ê³¼ ë©”ì‹œì§€ */
  message: string;

  /** ìƒì„¸ ë°ì´í„° */
  data?: any;

  /** ë°œê²¬ëœ ì´ìŠˆ */
  issues?: Issue[];
}

export interface Issue {
  /** ì´ìŠˆ íƒ€ì… */
  type: string;

  /** ì‹¬ê°ë„ */
  severity: 'critical' | 'major' | 'minor';

  /** ì´ìŠˆ ë©”ì‹œì§€ */
  message: string;

  /** ì´ìŠˆ ìœ„ì¹˜ (URL, ì„ íƒì ë“±) */
  location?: string;

  /** ì˜ˆìƒ ê°’ */
  expected?: any;

  /** ì‹¤ì œ ê°’ */
  actual?: any;
}
```

---

### 3.4 ì˜ˆì‹œ: Image Optimization Module

```typescript
// src/test-modules/image-optimization.ts
import { TestModule, TestResult, Issue } from './base';
import { Page } from 'playwright';

export class ImageOptimizationModule implements TestModule {
  name = 'image-optimization';
  description = 'ì´ë¯¸ì§€ ìµœì í™” ê²€ì¦';
  priority = 60;
  supportsMobile = true;

  async run(url: string, browser: BrowserType): Promise<TestResult> {
    const browserInstance = await playwright[browser].launch();
    const page = await browserInstance.newPage();

    try {
      await page.goto(url);

      // ì´ë¯¸ì§€ ë¶„ì„
      const images = await this.analyzeImages(page);

      // ì´ìŠˆ íƒì§€
      const issues = this.detectIssues(images);

      await browserInstance.close();

      return {
        status: issues.length === 0 ? 'passed' : 'warned',
        message: `${images.length}ê°œ ì´ë¯¸ì§€ ê²€ì‚¬, ${issues.length}ê°œ ë¬¸ì œ ë°œê²¬`,
        data: { images },
        issues
      };
    } catch (error) {
      await browserInstance.close();
      throw error;
    }
  }

  private async analyzeImages(page: Page) {
    return await page.$$eval('img', imgs =>
      imgs.map(img => {
        const rect = img.getBoundingClientRect();
        return {
          src: img.src,
          alt: img.alt,
          naturalWidth: img.naturalWidth,
          naturalHeight: img.naturalHeight,
          renderedWidth: rect.width,
          renderedHeight: rect.height,
          loading: img.loading,
          format: img.src.split('.').pop()?.split('?')[0]
        };
      })
    );
  }

  private detectIssues(images: any[]): Issue[] {
    const issues: Issue[] = [];

    for (const img of images) {
      // Alt í…ìŠ¤íŠ¸ ì²´í¬
      if (!img.alt) {
        issues.push({
          type: 'missing-alt',
          severity: 'major',
          message: `ì´ë¯¸ì§€ì— alt í…ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤`,
          location: img.src
        });
      }

      // ì‚¬ì´ì¦ˆ ì²´í¬
      const widthRatio = img.naturalWidth / img.renderedWidth;
      const heightRatio = img.naturalHeight / img.renderedHeight;
      const maxRatio = Math.max(widthRatio, heightRatio);

      if (maxRatio > 2) {
        issues.push({
          type: 'oversized-image',
          severity: maxRatio > 4 ? 'major' : 'minor',
          message: `ì›ë³¸ ì´ë¯¸ì§€ê°€ ${Math.round(maxRatio)}ë°° ë” í½ë‹ˆë‹¤`,
          location: img.src,
          expected: `${Math.round(img.renderedWidth)}x${Math.round(img.renderedHeight)}`,
          actual: `${img.naturalWidth}x${img.naturalHeight}`
        });
      }

      // í¬ë§· ì²´í¬
      if (!['webp', 'avif'].includes(img.format || '')) {
        issues.push({
          type: 'format-optimization',
          severity: 'minor',
          message: 'WebP ë˜ëŠ” AVIF í¬ë§· ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤',
          location: img.src,
          actual: img.format
        });
      }
    }

    return issues;
  }
}
```

---

## 4. ë°ì´í„° íë¦„

### 4.1 ì‹¤í–‰ íë¦„

```
1. ì‚¬ìš©ì â†’ Claude Code
   /test-page https://example.com

2. Claude Code â†’ Test Orchestrator
   { url, options }

3. Test Orchestrator â†’ Test Modules (ë³‘ë ¬)
   â”Œâ”€ BrowserModule
   â”œâ”€ LinkModule
   â”œâ”€ ImageModule
   â”œâ”€ A11yModule
   â””â”€ SEOModule

4. Test Modules â†’ Playwright
   ë¸Œë¼ìš°ì € ìë™í™” ì‹¤í–‰

5. Playwright â†’ í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì›¹í˜ì´ì§€
   í˜ì´ì§€ ë¡œë“œ, ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

6. Test Modules â†’ Test Orchestrator
   ê²°ê³¼ ìˆ˜ì§‘

7. Test Orchestrator â†’ Result Reporter
   ë¦¬í¬íŠ¸ ìƒì„±

8. Result Reporter â†’ ì‚¬ìš©ì
   ì½˜ì†” ì¶œë ¥ + HTML ë¦¬í¬íŠ¸
```

### 4.2 ë°ì´í„° êµ¬ì¡°

```typescript
// í…ŒìŠ¤íŠ¸ ì„¤ì •
interface TestConfig {
  url: string;
  browsers: BrowserType[];
  viewports: Viewport[];
  thresholds: {
    performance: number;
    accessibility: number;
    seo: number;
  };
  skipTests: string[];
  customRules: CustomRule[];
}

// í…ŒìŠ¤íŠ¸ ê²°ê³¼
interface TestResults {
  url: string;
  timestamp: string;
  duration: number;
  summary: {
    total: number;
    passed: number;
    warned: number;
    failed: number;
  };
  moduleResults: ModuleResult[];
  issues: Issue[];
  recommendations: Recommendation[];
}

// ê°œì„  ì œì•ˆ
interface Recommendation {
  issue: string;
  suggestion: string;
  priority: 'high' | 'medium' | 'low';
  code?: string; // ìˆ˜ì • ì½”ë“œ ì˜ˆì‹œ
}
```

---

## 5. í™•ì¥ í¬ì¸íŠ¸

### 5.1 ì»¤ìŠ¤í…€ í…ŒìŠ¤íŠ¸ ëª¨ë“ˆ ì¶”ê°€

```typescript
// .page-test.config.js
const { TestModule } = require('./node_modules/page-tester');

class CustomSecurityModule extends TestModule {
  name = 'custom-security';
  description = 'ë³´ì•ˆ ì·¨ì•½ì  ê²€ì‚¬';
  priority = 100;

  async run(url, browser) {
    // ì»¤ìŠ¤í…€ ë¡œì§
    return {
      status: 'passed',
      message: 'ë³´ì•ˆ ê²€ì‚¬ ì™„ë£Œ'
    };
  }
}

module.exports = {
  customModules: [CustomSecurityModule]
};
```

### 5.2 ì»¤ìŠ¤í…€ ë¦¬í¬í„° ì¶”ê°€

```typescript
// custom-reporter.ts
import { ResultReporter } from './src/reporters/base';

export class SlackReporter extends ResultReporter {
  async generate(results: TestResults) {
    // Slack ì›¹í›…ìœ¼ë¡œ ê²°ê³¼ ì „ì†¡
    await fetch(SLACK_WEBHOOK_URL, {
      method: 'POST',
      body: JSON.stringify(this.formatForSlack(results))
    });
  }
}
```

### 5.3 AI ë¶„ì„ í†µí•©

```typescript
// Claudeë¥¼ ì‚¬ìš©í•œ ê²°ê³¼ ë¶„ì„
async function analyzeWithClaude(results: TestResults): Promise<string> {
  const prompt = `
ë‹¤ìŒ í˜ì´ì§€ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ë¶„ì„í•˜ê³  ê°œì„  ì œì•ˆì„ í•´ì£¼ì„¸ìš”:

${JSON.stringify(results, null, 2)}

ì£¼ìš” ë¬¸ì œì ê³¼ ìš°ì„ ìˆœìœ„ë³„ ê°œì„  ë°©ì•ˆì„ ì œì‹œí•´ì£¼ì„¸ìš”.
  `;

  // Claude API í˜¸ì¶œ
  const analysis = await callClaudeAPI(prompt);
  return analysis;
}
```

---

## 6. ì„±ëŠ¥ ìµœì í™”

### 6.1 ë³‘ë ¬ ì‹¤í–‰

- ë¸Œë¼ìš°ì €ë³„ ë…ë¦½ ì‹¤í–‰
- í…ŒìŠ¤íŠ¸ ëª¨ë“ˆ ê°„ ì˜ì¡´ì„± ì—†ì´ ë³‘ë ¬ ì‹¤í–‰
- Worker ìŠ¤ë ˆë“œ í™œìš©

### 6.2 ìºì‹±

```typescript
// ì™¸ë¶€ ë§í¬ ê²€ì¦ ê²°ê³¼ ìºì‹± (1ì‹œê°„)
const linkCache = new Map<string, { status: number, timestamp: number }>();

async function checkExternalLink(url: string): Promise<number> {
  const cached = linkCache.get(url);
  if (cached && Date.now() - cached.timestamp < 3600000) {
    return cached.status;
  }

  const status = await fetchStatus(url);
  linkCache.set(url, { status, timestamp: Date.now() });
  return status;
}
```

### 6.3 ë¦¬ì†ŒìŠ¤ ì œí•œ

```typescript
// ë™ì‹œ ë¸Œë¼ìš°ì € ì¸ìŠ¤í„´ìŠ¤ ì œí•œ
const MAX_CONCURRENT_BROWSERS = 3;
const browserPool = new BrowserPool(MAX_CONCURRENT_BROWSERS);

// ë©”ëª¨ë¦¬ ì‚¬ìš© ëª¨ë‹ˆí„°ë§
process.on('warning', (warning) => {
  if (warning.name === 'MaxListenersExceededWarning') {
    console.warn('ë¸Œë¼ìš°ì € ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì •ë¦¬í•©ë‹ˆë‹¤...');
    browserPool.cleanup();
  }
});
```

---

**ë‹¤ìŒ ë‹¨ê³„**: [êµ¬í˜„ ê³„íš](./03-implementation-plan.md)
